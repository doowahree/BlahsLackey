var U6=Object.defineProperty,$6=Object.defineProperties,W6=Object.getOwnPropertyDescriptors,JT=Object.getOwnPropertySymbols,G6=Object.prototype.hasOwnProperty,q6=Object.prototype.propertyIsEnumerable,eM=(De,fe,W)=>fe in De?U6(De,fe,{enumerable:!0,configurable:!0,writable:!0,value:W}):De[fe]=W,le=(De,fe)=>{for(var W in fe||(fe={}))G6.call(fe,W)&&eM(De,W,fe[W]);if(JT)for(var W of JT(fe))q6.call(fe,W)&&eM(De,W,fe[W]);return De},fn=(De,fe)=>$6(De,W6(fe));(self.webpackChunkwebview=self.webpackChunkwebview||[]).push([[179],{571:De=>{"use strict";De.exports=function(W,D){for(var G=new Array(arguments.length-1),z=0,L=2,T=!0;L<arguments.length;)G[z++]=arguments[L++];return new Promise(function(S,H){G[z]=function(J){if(T)if(T=!1,J)H(J);else{for(var oe=new Array(arguments.length-1),I=0;I<oe.length;)oe[I++]=arguments[I];S.apply(null,oe)}};try{W.apply(D||null,G)}catch(F){T&&(T=!1,H(F))}})}},382:(De,fe)=>{"use strict";var W=fe;W.length=function(_){var S=_.length;if(!S)return 0;for(var H=0;--S%4>1&&"="===_.charAt(S);)++H;return Math.ceil(3*_.length)/4-H};for(var D=new Array(64),G=new Array(123),z=0;z<64;)G[D[z]=z<26?z+65:z<52?z+71:z<62?z-4:z-59|43]=z++;W.encode=function(_,S,H){for(var x,F=null,J=[],oe=0,I=0;S<H;){var ae=_[S++];switch(I){case 0:J[oe++]=D[ae>>2],x=(3&ae)<<4,I=1;break;case 1:J[oe++]=D[x|ae>>4],x=(15&ae)<<2,I=2;break;case 2:J[oe++]=D[x|ae>>6],J[oe++]=D[63&ae],I=0}oe>8191&&((F||(F=[])).push(String.fromCharCode.apply(String,J)),oe=0)}return I&&(J[oe++]=D[x],J[oe++]=61,1===I&&(J[oe++]=61)),F?(oe&&F.push(String.fromCharCode.apply(String,J.slice(0,oe))),F.join("")):String.fromCharCode.apply(String,J.slice(0,oe))};var L="invalid encoding";W.decode=function(_,S,H){for(var oe,F=H,J=0,I=0;I<_.length;){var x=_.charCodeAt(I++);if(61===x&&J>1)break;if(void 0===(x=G[x]))throw Error(L);switch(J){case 0:oe=x,J=1;break;case 1:S[H++]=oe<<2|(48&x)>>4,oe=x,J=2;break;case 2:S[H++]=(15&oe)<<4|(60&x)>>2,oe=x,J=3;break;case 3:S[H++]=(3&oe)<<6|x,J=0}}if(1===J)throw Error(L);return H-F},W.test=function(_){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(_)}},287:De=>{"use strict";function fe(){this._listeners={}}De.exports=fe,fe.prototype.on=function(D,G,z){return(this._listeners[D]||(this._listeners[D]=[])).push({fn:G,ctx:z||this}),this},fe.prototype.off=function(D,G){if(void 0===D)this._listeners={};else if(void 0===G)this._listeners[D]=[];else for(var z=this._listeners[D],L=0;L<z.length;)z[L].fn===G?z.splice(L,1):++L;return this},fe.prototype.emit=function(D){var G=this._listeners[D];if(G){for(var z=[],L=1;L<arguments.length;)z.push(arguments[L++]);for(L=0;L<G.length;)G[L].fn.apply(G[L++].ctx,z)}return this}},938:De=>{"use strict";function fe(L){return"undefined"!=typeof Float32Array?function(){var T=new Float32Array([-0]),_=new Uint8Array(T.buffer),S=128===_[3];function H(I,x,ae){T[0]=I,x[ae]=_[0],x[ae+1]=_[1],x[ae+2]=_[2],x[ae+3]=_[3]}function F(I,x,ae){T[0]=I,x[ae]=_[3],x[ae+1]=_[2],x[ae+2]=_[1],x[ae+3]=_[0]}function J(I,x){return _[0]=I[x],_[1]=I[x+1],_[2]=I[x+2],_[3]=I[x+3],T[0]}function oe(I,x){return _[3]=I[x],_[2]=I[x+1],_[1]=I[x+2],_[0]=I[x+3],T[0]}L.writeFloatLE=S?H:F,L.writeFloatBE=S?F:H,L.readFloatLE=S?J:oe,L.readFloatBE=S?oe:J}():function(){function T(S,H,F,J){var oe=H<0?1:0;if(oe&&(H=-H),0===H)S(1/H>0?0:2147483648,F,J);else if(isNaN(H))S(2143289344,F,J);else if(H>34028234663852886e22)S((oe<<31|2139095040)>>>0,F,J);else if(H<11754943508222875e-54)S((oe<<31|Math.round(H/1401298464324817e-60))>>>0,F,J);else{var I=Math.floor(Math.log(H)/Math.LN2);S((oe<<31|I+127<<23|8388607&Math.round(H*Math.pow(2,-I)*8388608))>>>0,F,J)}}function _(S,H,F){var J=S(H,F),oe=2*(J>>31)+1,I=J>>>23&255,x=8388607&J;return 255===I?x?NaN:oe*(1/0):0===I?1401298464324817e-60*oe*x:oe*Math.pow(2,I-150)*(x+8388608)}L.writeFloatLE=T.bind(null,W),L.writeFloatBE=T.bind(null,D),L.readFloatLE=_.bind(null,G),L.readFloatBE=_.bind(null,z)}(),"undefined"!=typeof Float64Array?function(){var T=new Float64Array([-0]),_=new Uint8Array(T.buffer),S=128===_[7];function H(I,x,ae){T[0]=I,x[ae]=_[0],x[ae+1]=_[1],x[ae+2]=_[2],x[ae+3]=_[3],x[ae+4]=_[4],x[ae+5]=_[5],x[ae+6]=_[6],x[ae+7]=_[7]}function F(I,x,ae){T[0]=I,x[ae]=_[7],x[ae+1]=_[6],x[ae+2]=_[5],x[ae+3]=_[4],x[ae+4]=_[3],x[ae+5]=_[2],x[ae+6]=_[1],x[ae+7]=_[0]}function J(I,x){return _[0]=I[x],_[1]=I[x+1],_[2]=I[x+2],_[3]=I[x+3],_[4]=I[x+4],_[5]=I[x+5],_[6]=I[x+6],_[7]=I[x+7],T[0]}function oe(I,x){return _[7]=I[x],_[6]=I[x+1],_[5]=I[x+2],_[4]=I[x+3],_[3]=I[x+4],_[2]=I[x+5],_[1]=I[x+6],_[0]=I[x+7],T[0]}L.writeDoubleLE=S?H:F,L.writeDoubleBE=S?F:H,L.readDoubleLE=S?J:oe,L.readDoubleBE=S?oe:J}():function(){function T(S,H,F,J,oe,I){var x=J<0?1:0;if(x&&(J=-J),0===J)S(0,oe,I+H),S(1/J>0?0:2147483648,oe,I+F);else if(isNaN(J))S(0,oe,I+H),S(2146959360,oe,I+F);else if(J>17976931348623157e292)S(0,oe,I+H),S((x<<31|2146435072)>>>0,oe,I+F);else{var ae;if(J<22250738585072014e-324)S((ae=J/5e-324)>>>0,oe,I+H),S((x<<31|ae/4294967296)>>>0,oe,I+F);else{var ut=Math.floor(Math.log(J)/Math.LN2);1024===ut&&(ut=1023),S(4503599627370496*(ae=J*Math.pow(2,-ut))>>>0,oe,I+H),S((x<<31|ut+1023<<20|1048576*ae&1048575)>>>0,oe,I+F)}}}function _(S,H,F,J,oe){var I=S(J,oe+H),x=S(J,oe+F),ae=2*(x>>31)+1,ut=x>>>20&2047,et=4294967296*(1048575&x)+I;return 2047===ut?et?NaN:ae*(1/0):0===ut?5e-324*ae*et:ae*Math.pow(2,ut-1075)*(et+4503599627370496)}L.writeDoubleLE=T.bind(null,W,0,4),L.writeDoubleBE=T.bind(null,D,4,0),L.readDoubleLE=_.bind(null,G,0,4),L.readDoubleBE=_.bind(null,z,4,0)}(),L}function W(L,T,_){T[_]=255&L,T[_+1]=L>>>8&255,T[_+2]=L>>>16&255,T[_+3]=L>>>24}function D(L,T,_){T[_]=L>>>24,T[_+1]=L>>>16&255,T[_+2]=L>>>8&255,T[_+3]=255&L}function G(L,T){return(L[T]|L[T+1]<<8|L[T+2]<<16|L[T+3]<<24)>>>0}function z(L,T){return(L[T]<<24|L[T+1]<<16|L[T+2]<<8|L[T+3])>>>0}De.exports=fe(fe)},107:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(De){}return null}module.exports=inquire},171:De=>{"use strict";De.exports=function(W,D,G){var z=G||8192,L=z>>>1,T=null,_=z;return function(H){if(H<1||H>L)return W(H);_+H>z&&(T=W(z),_=0);var F=D.call(T,_,_+=H);return 7&_&&(_=1+(7|_)),F}}},118:(De,fe)=>{"use strict";var W=fe;W.length=function(G){for(var z=0,L=0,T=0;T<G.length;++T)(L=G.charCodeAt(T))<128?z+=1:L<2048?z+=2:55296==(64512&L)&&56320==(64512&G.charCodeAt(T+1))?(++T,z+=4):z+=3;return z},W.read=function(G,z,L){if(L-z<1)return"";for(var F,_=null,S=[],H=0;z<L;)(F=G[z++])<128?S[H++]=F:F>191&&F<224?S[H++]=(31&F)<<6|63&G[z++]:F>239&&F<365?(F=((7&F)<<18|(63&G[z++])<<12|(63&G[z++])<<6|63&G[z++])-65536,S[H++]=55296+(F>>10),S[H++]=56320+(1023&F)):S[H++]=(15&F)<<12|(63&G[z++])<<6|63&G[z++],H>8191&&((_||(_=[])).push(String.fromCharCode.apply(String,S)),H=0);return _?(H&&_.push(String.fromCharCode.apply(String,S.slice(0,H))),_.join("")):String.fromCharCode.apply(String,S.slice(0,H))},W.write=function(G,z,L){for(var _,S,T=L,H=0;H<G.length;++H)(_=G.charCodeAt(H))<128?z[L++]=_:_<2048?(z[L++]=_>>6|192,z[L++]=63&_|128):55296==(64512&_)&&56320==(64512&(S=G.charCodeAt(H+1)))?(++H,z[L++]=(_=65536+((1023&_)<<10)+(1023&S))>>18|240,z[L++]=_>>12&63|128,z[L++]=_>>6&63|128,z[L++]=63&_|128):(z[L++]=_>>12|224,z[L++]=_>>6&63|128,z[L++]=63&_|128);return L-T}},781:De=>{De.exports=W;var fe=null;try{fe=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(q){}function W(q,C,se){this.low=0|q,this.high=0|C,this.unsigned=!!se}function D(q){return!0===(q&&q.__isLong__)}Object.defineProperty(W.prototype,"__isLong__",{value:!0}),W.isLong=D;var G={},z={};function L(q,C){var se,ze,rt;return C?(rt=0<=(q>>>=0)&&q<256)&&(ze=z[q])?ze:(se=_(q,(0|q)<0?-1:0,!0),rt&&(z[q]=se),se):(rt=-128<=(q|=0)&&q<128)&&(ze=G[q])?ze:(se=_(q,q<0?-1:0,!1),rt&&(G[q]=se),se)}function T(q,C){if(isNaN(q))return C?re:et;if(C){if(q<0)return re;if(q>=x)return Gr}else{if(q<=-ae)return Nt;if(q+1>=ae)return jn}return q<0?T(-q,C).neg():_(q%I|0,q/I|0,C)}function _(q,C,se){return new W(q,C,se)}W.fromInt=L,W.fromNumber=T,W.fromBits=_;var S=Math.pow;function H(q,C,se){if(0===q.length)throw Error("empty string");if("NaN"===q||"Infinity"===q||"+Infinity"===q||"-Infinity"===q)return et;if("number"==typeof C?(se=C,C=!1):C=!!C,(se=se||10)<2||36<se)throw RangeError("radix");var ze;if((ze=q.indexOf("-"))>0)throw Error("interior hyphen");if(0===ze)return H(q.substring(1),C,se).neg();for(var rt=T(S(se,8)),ve=et,ft=0;ft<q.length;ft+=8){var Vt=Math.min(8,q.length-ft),on=parseInt(q.substring(ft,ft+Vt),se);if(Vt<8){var It=T(S(se,Vt));ve=ve.mul(It).add(T(on))}else ve=(ve=ve.mul(rt)).add(T(on))}return ve.unsigned=C,ve}function F(q,C){return"number"==typeof q?T(q,C):"string"==typeof q?H(q,C):_(q.low,q.high,"boolean"==typeof C?C:q.unsigned)}W.fromString=H,W.fromValue=F;var I=4294967296,x=I*I,ae=x/2,ut=L(1<<24),et=L(0);W.ZERO=et;var re=L(0,!0);W.UZERO=re;var K=L(1);W.ONE=K;var ge=L(1,!0);W.UONE=ge;var ct=L(-1);W.NEG_ONE=ct;var jn=_(-1,2147483647,!1);W.MAX_VALUE=jn;var Gr=_(-1,-1,!0);W.MAX_UNSIGNED_VALUE=Gr;var Nt=_(0,-2147483648,!1);W.MIN_VALUE=Nt;var X=W.prototype;X.toInt=function(){return this.unsigned?this.low>>>0:this.low},X.toNumber=function(){return this.unsigned?(this.high>>>0)*I+(this.low>>>0):this.high*I+(this.low>>>0)},X.toString=function(C){if((C=C||10)<2||36<C)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Nt)){var se=T(C),ze=this.div(se),rt=ze.mul(se).sub(this);return ze.toString(C)+rt.toInt().toString(C)}return"-"+this.neg().toString(C)}for(var ve=T(S(C,6),this.unsigned),ft=this,Vt="";;){var on=ft.div(ve),je=(ft.sub(on.mul(ve)).toInt()>>>0).toString(C);if((ft=on).isZero())return je+Vt;for(;je.length<6;)je="0"+je;Vt=""+je+Vt}},X.getHighBits=function(){return this.high},X.getHighBitsUnsigned=function(){return this.high>>>0},X.getLowBits=function(){return this.low},X.getLowBitsUnsigned=function(){return this.low>>>0},X.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Nt)?64:this.neg().getNumBitsAbs();for(var C=0!=this.high?this.high:this.low,se=31;se>0&&0==(C&1<<se);se--);return 0!=this.high?se+33:se+1},X.isZero=function(){return 0===this.high&&0===this.low},X.eqz=X.isZero,X.isNegative=function(){return!this.unsigned&&this.high<0},X.isPositive=function(){return this.unsigned||this.high>=0},X.isOdd=function(){return 1==(1&this.low)},X.isEven=function(){return 0==(1&this.low)},X.equals=function(C){return D(C)||(C=F(C)),(this.unsigned===C.unsigned||this.high>>>31!=1||C.high>>>31!=1)&&this.high===C.high&&this.low===C.low},X.eq=X.equals,X.notEquals=function(C){return!this.eq(C)},X.neq=X.notEquals,X.ne=X.notEquals,X.lessThan=function(C){return this.comp(C)<0},X.lt=X.lessThan,X.lessThanOrEqual=function(C){return this.comp(C)<=0},X.lte=X.lessThanOrEqual,X.le=X.lessThanOrEqual,X.greaterThan=function(C){return this.comp(C)>0},X.gt=X.greaterThan,X.greaterThanOrEqual=function(C){return this.comp(C)>=0},X.gte=X.greaterThanOrEqual,X.ge=X.greaterThanOrEqual,X.compare=function(C){if(D(C)||(C=F(C)),this.eq(C))return 0;var se=this.isNegative(),ze=C.isNegative();return se&&!ze?-1:!se&&ze?1:this.unsigned?C.high>>>0>this.high>>>0||C.high===this.high&&C.low>>>0>this.low>>>0?-1:1:this.sub(C).isNegative()?-1:1},X.comp=X.compare,X.negate=function(){return!this.unsigned&&this.eq(Nt)?Nt:this.not().add(K)},X.neg=X.negate,X.add=function(C){D(C)||(C=F(C));var je=0,Yt=0,vt=0,Ue=0;return vt+=(Ue+=(65535&this.low)+(65535&C.low))>>>16,Yt+=(vt+=(this.low>>>16)+(C.low>>>16))>>>16,je+=(Yt+=(65535&this.high)+(65535&C.high))>>>16,je+=(this.high>>>16)+(C.high>>>16),_((vt&=65535)<<16|(Ue&=65535),(je&=65535)<<16|(Yt&=65535),this.unsigned)},X.subtract=function(C){return D(C)||(C=F(C)),this.add(C.neg())},X.sub=X.subtract,X.multiply=function(C){if(this.isZero())return et;if(D(C)||(C=F(C)),fe)return _(fe.mul(this.low,this.high,C.low,C.high),fe.get_high(),this.unsigned);if(C.isZero())return et;if(this.eq(Nt))return C.isOdd()?Nt:et;if(C.eq(Nt))return this.isOdd()?Nt:et;if(this.isNegative())return C.isNegative()?this.neg().mul(C.neg()):this.neg().mul(C).neg();if(C.isNegative())return this.mul(C.neg()).neg();if(this.lt(ut)&&C.lt(ut))return T(this.toNumber()*C.toNumber(),this.unsigned);var rt=65535&this.high,ve=this.low>>>16,ft=65535&this.low,on=65535&C.high,It=C.low>>>16,je=65535&C.low,Yt=0,vt=0,Ue=0,tt=0;return Ue+=(tt+=ft*je)>>>16,vt+=(Ue+=ve*je)>>>16,Ue&=65535,vt+=(Ue+=ft*It)>>>16,Yt+=(vt+=rt*je)>>>16,vt&=65535,Yt+=(vt+=ve*It)>>>16,vt&=65535,Yt+=(vt+=ft*on)>>>16,Yt+=(this.high>>>16)*je+rt*It+ve*on+ft*(C.high>>>16),_((Ue&=65535)<<16|(tt&=65535),(Yt&=65535)<<16|(vt&=65535),this.unsigned)},X.mul=X.multiply,X.divide=function(C){if(D(C)||(C=F(C)),C.isZero())throw Error("division by zero");var ze,rt,ve;if(fe)return this.unsigned||-2147483648!==this.high||-1!==C.low||-1!==C.high?_((this.unsigned?fe.div_u:fe.div_s)(this.low,this.high,C.low,C.high),fe.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?re:et;if(this.unsigned){if(C.unsigned||(C=C.toUnsigned()),C.gt(this))return re;if(C.gt(this.shru(1)))return ge;ve=re}else{if(this.eq(Nt))return C.eq(K)||C.eq(ct)?Nt:C.eq(Nt)?K:(ze=this.shr(1).div(C).shl(1)).eq(et)?C.isNegative()?K:ct:(rt=this.sub(C.mul(ze)),ve=ze.add(rt.div(C)));if(C.eq(Nt))return this.unsigned?re:et;if(this.isNegative())return C.isNegative()?this.neg().div(C.neg()):this.neg().div(C).neg();if(C.isNegative())return this.div(C.neg()).neg();ve=et}for(rt=this;rt.gte(C);){ze=Math.max(1,Math.floor(rt.toNumber()/C.toNumber()));for(var Vt=Math.ceil(Math.log(ze)/Math.LN2),on=Vt<=48?1:S(2,Vt-48),It=T(ze),je=It.mul(C);je.isNegative()||je.gt(rt);)je=(It=T(ze-=on,this.unsigned)).mul(C);It.isZero()&&(It=K),ve=ve.add(It),rt=rt.sub(je)}return ve},X.div=X.divide,X.modulo=function(C){return D(C)||(C=F(C)),fe?_((this.unsigned?fe.rem_u:fe.rem_s)(this.low,this.high,C.low,C.high),fe.get_high(),this.unsigned):this.sub(this.div(C).mul(C))},X.mod=X.modulo,X.rem=X.modulo,X.not=function(){return _(~this.low,~this.high,this.unsigned)},X.and=function(C){return D(C)||(C=F(C)),_(this.low&C.low,this.high&C.high,this.unsigned)},X.or=function(C){return D(C)||(C=F(C)),_(this.low|C.low,this.high|C.high,this.unsigned)},X.xor=function(C){return D(C)||(C=F(C)),_(this.low^C.low,this.high^C.high,this.unsigned)},X.shiftLeft=function(C){return D(C)&&(C=C.toInt()),0==(C&=63)?this:C<32?_(this.low<<C,this.high<<C|this.low>>>32-C,this.unsigned):_(0,this.low<<C-32,this.unsigned)},X.shl=X.shiftLeft,X.shiftRight=function(C){return D(C)&&(C=C.toInt()),0==(C&=63)?this:C<32?_(this.low>>>C|this.high<<32-C,this.high>>C,this.unsigned):_(this.high>>C-32,this.high>=0?0:-1,this.unsigned)},X.shr=X.shiftRight,X.shiftRightUnsigned=function(C){if(D(C)&&(C=C.toInt()),0==(C&=63))return this;var se=this.high;return C<32?_(this.low>>>C|se<<32-C,se>>>C,this.unsigned):_(32===C?se:se>>>C-32,0,this.unsigned)},X.shru=X.shiftRightUnsigned,X.shr_u=X.shiftRightUnsigned,X.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this},X.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)},X.toBytes=function(C){return C?this.toBytesLE():this.toBytesBE()},X.toBytesLE=function(){var C=this.high,se=this.low;return[255&se,se>>>8&255,se>>>16&255,se>>>24,255&C,C>>>8&255,C>>>16&255,C>>>24]},X.toBytesBE=function(){var C=this.high,se=this.low;return[C>>>24,C>>>16&255,C>>>8&255,255&C,se>>>24,se>>>16&255,se>>>8&255,255&se]},W.fromBytes=function(C,se,ze){return ze?W.fromBytesLE(C,se):W.fromBytesBE(C,se)},W.fromBytesLE=function(C,se){return new W(C[0]|C[1]<<8|C[2]<<16|C[3]<<24,C[4]|C[5]<<8|C[6]<<16|C[7]<<24,se)},W.fromBytesBE=function(C,se){return new W(C[4]<<24|C[5]<<16|C[6]<<8|C[7],C[0]<<24|C[1]<<16|C[2]<<8|C[3],se)}},225:(De,fe,W)=>{"use strict";De.exports=W(219)},219:(De,fe,W)=>{"use strict";var D=fe;function G(){D.util._configure(),D.Writer._configure(D.BufferWriter),D.Reader._configure(D.BufferReader)}D.build="minimal",D.Writer=W(455),D.BufferWriter=W(892),D.Reader=W(610),D.BufferReader=W(180),D.util=W(69),D.rpc=W(489),D.roots=W(993),D.configure=G,G()},610:(De,fe,W)=>{"use strict";De.exports=_;var G,D=W(69),z=D.LongBits,L=D.utf8;function T(I,x){return RangeError("index out of range: "+I.pos+" + "+(x||1)+" > "+I.len)}function _(I){this.buf=I,this.pos=0,this.len=I.length}var x,S="undefined"!=typeof Uint8Array?function(x){if(x instanceof Uint8Array||Array.isArray(x))return new _(x);throw Error("illegal buffer")}:function(x){if(Array.isArray(x))return new _(x);throw Error("illegal buffer")},H=function(){return D.Buffer?function(ae){return(_.create=function(et){return D.Buffer.isBuffer(et)?new G(et):S(et)})(ae)}:S};function F(){var I=new z(0,0),x=0;if(!(this.len-this.pos>4)){for(;x<3;++x){if(this.pos>=this.len)throw T(this);if(I.lo=(I.lo|(127&this.buf[this.pos])<<7*x)>>>0,this.buf[this.pos++]<128)return I}return I.lo=(I.lo|(127&this.buf[this.pos++])<<7*x)>>>0,I}for(;x<4;++x)if(I.lo=(I.lo|(127&this.buf[this.pos])<<7*x)>>>0,this.buf[this.pos++]<128)return I;if(I.lo=(I.lo|(127&this.buf[this.pos])<<28)>>>0,I.hi=(I.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return I;if(x=0,this.len-this.pos>4){for(;x<5;++x)if(I.hi=(I.hi|(127&this.buf[this.pos])<<7*x+3)>>>0,this.buf[this.pos++]<128)return I}else for(;x<5;++x){if(this.pos>=this.len)throw T(this);if(I.hi=(I.hi|(127&this.buf[this.pos])<<7*x+3)>>>0,this.buf[this.pos++]<128)return I}throw Error("invalid varint encoding")}function J(I,x){return(I[x-4]|I[x-3]<<8|I[x-2]<<16|I[x-1]<<24)>>>0}function oe(){if(this.pos+8>this.len)throw T(this,8);return new z(J(this.buf,this.pos+=4),J(this.buf,this.pos+=4))}_.create=H(),_.prototype._slice=D.Array.prototype.subarray||D.Array.prototype.slice,_.prototype.uint32=(x=4294967295,function(){if(x=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(x=(x|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(x=(x|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(x=(x|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(x=(x|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return x;if((this.pos+=5)>this.len)throw this.pos=this.len,T(this,10);return x}),_.prototype.int32=function(){return 0|this.uint32()},_.prototype.sint32=function(){var x=this.uint32();return x>>>1^-(1&x)|0},_.prototype.bool=function(){return 0!==this.uint32()},_.prototype.fixed32=function(){if(this.pos+4>this.len)throw T(this,4);return J(this.buf,this.pos+=4)},_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw T(this,4);return 0|J(this.buf,this.pos+=4)},_.prototype.float=function(){if(this.pos+4>this.len)throw T(this,4);var x=D.float.readFloatLE(this.buf,this.pos);return this.pos+=4,x},_.prototype.double=function(){if(this.pos+8>this.len)throw T(this,4);var x=D.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,x},_.prototype.bytes=function(){var x=this.uint32(),ae=this.pos,ut=this.pos+x;if(ut>this.len)throw T(this,x);return this.pos+=x,Array.isArray(this.buf)?this.buf.slice(ae,ut):ae===ut?new this.buf.constructor(0):this._slice.call(this.buf,ae,ut)},_.prototype.string=function(){var x=this.bytes();return L.read(x,0,x.length)},_.prototype.skip=function(x){if("number"==typeof x){if(this.pos+x>this.len)throw T(this,x);this.pos+=x}else do{if(this.pos>=this.len)throw T(this)}while(128&this.buf[this.pos++]);return this},_.prototype.skipType=function(I){switch(I){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(I=7&this.uint32());)this.skipType(I);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+I+" at offset "+this.pos)}return this},_._configure=function(I){G=I,_.create=H(),G._configure();var x=D.Long?"toLong":"toNumber";D.merge(_.prototype,{int64:function(){return F.call(this)[x](!1)},uint64:function(){return F.call(this)[x](!0)},sint64:function(){return F.call(this).zzDecode()[x](!1)},fixed64:function(){return oe.call(this)[x](!0)},sfixed64:function(){return oe.call(this)[x](!1)}})}},180:(De,fe,W)=>{"use strict";De.exports=z;var D=W(610);(z.prototype=Object.create(D.prototype)).constructor=z;var G=W(69);function z(L){D.call(this,L)}z._configure=function(){G.Buffer&&(z.prototype._slice=G.Buffer.prototype.slice)},z.prototype.string=function(){var T=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+T,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+T,this.len))},z._configure()},993:De=>{"use strict";De.exports={}},489:(De,fe,W)=>{"use strict";fe.Service=W(978)},978:(De,fe,W)=>{"use strict";De.exports=G;var D=W(69);function G(z,L,T){if("function"!=typeof z)throw TypeError("rpcImpl must be a function");D.EventEmitter.call(this),this.rpcImpl=z,this.requestDelimited=Boolean(L),this.responseDelimited=Boolean(T)}(G.prototype=Object.create(D.EventEmitter.prototype)).constructor=G,G.prototype.rpcCall=function z(L,T,_,S,H){if(!S)throw TypeError("request must be specified");var F=this;if(!H)return D.asPromise(z,F,L,T,_,S);if(F.rpcImpl)try{return F.rpcImpl(L,T[F.requestDelimited?"encodeDelimited":"encode"](S).finish(),function(oe,I){if(oe)return F.emit("error",oe,L),H(oe);if(null!==I){if(!(I instanceof _))try{I=_[F.responseDelimited?"decodeDelimited":"decode"](I)}catch(x){return F.emit("error",x,L),H(x)}return F.emit("data",I,L),H(null,I)}F.end(!0)})}catch(J){return F.emit("error",J,L),void setTimeout(function(){H(J)},0)}else setTimeout(function(){H(Error("already ended"))},0)},G.prototype.end=function(L){return this.rpcImpl&&(L||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},38:(De,fe,W)=>{"use strict";De.exports=G;var D=W(69);function G(_,S){this.lo=_>>>0,this.hi=S>>>0}var z=G.zero=new G(0,0);z.toNumber=function(){return 0},z.zzEncode=z.zzDecode=function(){return this},z.length=function(){return 1};var L=G.zeroHash="\0\0\0\0\0\0\0\0";G.fromNumber=function(S){if(0===S)return z;var H=S<0;H&&(S=-S);var F=S>>>0,J=(S-F)/4294967296>>>0;return H&&(J=~J>>>0,F=~F>>>0,++F>4294967295&&(F=0,++J>4294967295&&(J=0))),new G(F,J)},G.from=function(S){if("number"==typeof S)return G.fromNumber(S);if(D.isString(S)){if(!D.Long)return G.fromNumber(parseInt(S,10));S=D.Long.fromString(S)}return S.low||S.high?new G(S.low>>>0,S.high>>>0):z},G.prototype.toNumber=function(S){if(!S&&this.hi>>>31){var H=1+~this.lo>>>0,F=~this.hi>>>0;return H||(F=F+1>>>0),-(H+4294967296*F)}return this.lo+4294967296*this.hi},G.prototype.toLong=function(S){return D.Long?new D.Long(0|this.lo,0|this.hi,Boolean(S)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(S)}};var T=String.prototype.charCodeAt;G.fromHash=function(S){return S===L?z:new G((T.call(S,0)|T.call(S,1)<<8|T.call(S,2)<<16|T.call(S,3)<<24)>>>0,(T.call(S,4)|T.call(S,5)<<8|T.call(S,6)<<16|T.call(S,7)<<24)>>>0)},G.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},G.prototype.zzEncode=function(){var S=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^S)>>>0,this.lo=(this.lo<<1^S)>>>0,this},G.prototype.zzDecode=function(){var S=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^S)>>>0,this.hi=(this.hi>>>1^S)>>>0,this},G.prototype.length=function(){var S=this.lo,H=(this.lo>>>28|this.hi<<4)>>>0,F=this.hi>>>24;return 0===F?0===H?S<16384?S<128?1:2:S<2097152?3:4:H<16384?H<128?5:6:H<2097152?7:8:F<128?9:10}},69:function(De,fe,W){"use strict";var D=fe;function G(L,T,_){for(var S=Object.keys(T),H=0;H<S.length;++H)(void 0===L[S[H]]||!_)&&(L[S[H]]=T[S[H]]);return L}function z(L){function T(_,S){if(!(this instanceof T))return new T(_,S);Object.defineProperty(this,"message",{get:function(){return _}}),Error.captureStackTrace?Error.captureStackTrace(this,T):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),S&&G(this,S)}return(T.prototype=Object.create(Error.prototype)).constructor=T,Object.defineProperty(T.prototype,"name",{get:function(){return L}}),T.prototype.toString=function(){return this.name+": "+this.message},T}D.asPromise=W(571),D.base64=W(382),D.EventEmitter=W(287),D.float=W(938),D.inquire=W(107),D.utf8=W(118),D.pool=W(171),D.LongBits=W(38),D.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),D.global=D.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,D.emptyArray=Object.freeze?Object.freeze([]):[],D.emptyObject=Object.freeze?Object.freeze({}):{},D.isInteger=Number.isInteger||function(T){return"number"==typeof T&&isFinite(T)&&Math.floor(T)===T},D.isString=function(T){return"string"==typeof T||T instanceof String},D.isObject=function(T){return T&&"object"==typeof T},D.isset=D.isSet=function(T,_){var S=T[_];return!(null==S||!T.hasOwnProperty(_))&&("object"!=typeof S||(Array.isArray(S)?S.length:Object.keys(S).length)>0)},D.Buffer=function(){try{var L=D.inquire("buffer").Buffer;return L.prototype.utf8Write?L:null}catch(T){return null}}(),D._Buffer_from=null,D._Buffer_allocUnsafe=null,D.newBuffer=function(T){return"number"==typeof T?D.Buffer?D._Buffer_allocUnsafe(T):new D.Array(T):D.Buffer?D._Buffer_from(T):"undefined"==typeof Uint8Array?T:new Uint8Array(T)},D.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,D.Long=D.global.dcodeIO&&D.global.dcodeIO.Long||D.global.Long||D.inquire("long"),D.key2Re=/^true|false|0|1$/,D.key32Re=/^-?(?:0|[1-9][0-9]*)$/,D.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,D.longToHash=function(T){return T?D.LongBits.from(T).toHash():D.LongBits.zeroHash},D.longFromHash=function(T,_){var S=D.LongBits.fromHash(T);return D.Long?D.Long.fromBits(S.lo,S.hi,_):S.toNumber(Boolean(_))},D.merge=G,D.lcFirst=function(T){return T.charAt(0).toLowerCase()+T.substring(1)},D.newError=z,D.ProtocolError=z("ProtocolError"),D.oneOfGetter=function(T){for(var _={},S=0;S<T.length;++S)_[T[S]]=1;return function(){for(var H=Object.keys(this),F=H.length-1;F>-1;--F)if(1===_[H[F]]&&null!=this[H[F]])return H[F]}},D.oneOfSetter=function(T){return function(_){for(var S=0;S<T.length;++S)T[S]!==_&&delete this[T[S]]}},D.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},D._configure=function(){var L=D.Buffer;L?(D._Buffer_from=L.from!==Uint8Array.from&&L.from||function(_,S){return new L(_,S)},D._Buffer_allocUnsafe=L.allocUnsafe||function(_){return new L(_)}):D._Buffer_from=D._Buffer_allocUnsafe=null}},455:(De,fe,W)=>{"use strict";De.exports=F;var G,D=W(69),z=D.LongBits,L=D.base64,T=D.utf8;function _(re,K,ge){this.fn=re,this.len=K,this.next=void 0,this.val=ge}function S(){}function H(re){this.head=re.head,this.tail=re.tail,this.len=re.len,this.next=re.states}function F(){this.len=0,this.head=new _(S,0,0),this.tail=this.head,this.states=null}var J=function(){return D.Buffer?function(){return(F.create=function(){return new G})()}:function(){return new F}};function oe(re,K,ge){K[ge]=255&re}function x(re,K){this.len=re,this.next=void 0,this.val=K}function ae(re,K,ge){for(;re.hi;)K[ge++]=127&re.lo|128,re.lo=(re.lo>>>7|re.hi<<25)>>>0,re.hi>>>=7;for(;re.lo>127;)K[ge++]=127&re.lo|128,re.lo=re.lo>>>7;K[ge++]=re.lo}function ut(re,K,ge){K[ge]=255&re,K[ge+1]=re>>>8&255,K[ge+2]=re>>>16&255,K[ge+3]=re>>>24}F.create=J(),F.alloc=function(K){return new D.Array(K)},D.Array!==Array&&(F.alloc=D.pool(F.alloc,D.Array.prototype.subarray)),F.prototype._push=function(K,ge,ct){return this.tail=this.tail.next=new _(K,ge,ct),this.len+=ge,this},(x.prototype=Object.create(_.prototype)).fn=function(re,K,ge){for(;re>127;)K[ge++]=127&re|128,re>>>=7;K[ge]=re},F.prototype.uint32=function(K){return this.len+=(this.tail=this.tail.next=new x((K>>>=0)<128?1:K<16384?2:K<2097152?3:K<268435456?4:5,K)).len,this},F.prototype.int32=function(K){return K<0?this._push(ae,10,z.fromNumber(K)):this.uint32(K)},F.prototype.sint32=function(K){return this.uint32((K<<1^K>>31)>>>0)},F.prototype.int64=F.prototype.uint64=function(K){var ge=z.from(K);return this._push(ae,ge.length(),ge)},F.prototype.sint64=function(K){var ge=z.from(K).zzEncode();return this._push(ae,ge.length(),ge)},F.prototype.bool=function(K){return this._push(oe,1,K?1:0)},F.prototype.sfixed32=F.prototype.fixed32=function(K){return this._push(ut,4,K>>>0)},F.prototype.sfixed64=F.prototype.fixed64=function(K){var ge=z.from(K);return this._push(ut,4,ge.lo)._push(ut,4,ge.hi)},F.prototype.float=function(K){return this._push(D.float.writeFloatLE,4,K)},F.prototype.double=function(K){return this._push(D.float.writeDoubleLE,8,K)};var et=D.Array.prototype.set?function(K,ge,ct){ge.set(K,ct)}:function(K,ge,ct){for(var jn=0;jn<K.length;++jn)ge[ct+jn]=K[jn]};F.prototype.bytes=function(K){var ge=K.length>>>0;if(!ge)return this._push(oe,1,0);if(D.isString(K)){var ct=F.alloc(ge=L.length(K));L.decode(K,ct,0),K=ct}return this.uint32(ge)._push(et,ge,K)},F.prototype.string=function(K){var ge=T.length(K);return ge?this.uint32(ge)._push(T.write,ge,K):this._push(oe,1,0)},F.prototype.fork=function(){return this.states=new H(this),this.head=this.tail=new _(S,0,0),this.len=0,this},F.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _(S,0,0),this.len=0),this},F.prototype.ldelim=function(){var K=this.head,ge=this.tail,ct=this.len;return this.reset().uint32(ct),ct&&(this.tail.next=K.next,this.tail=ge,this.len+=ct),this},F.prototype.finish=function(){for(var K=this.head.next,ge=this.constructor.alloc(this.len),ct=0;K;)K.fn(K.val,ge,ct),ct+=K.len,K=K.next;return ge},F._configure=function(re){G=re,F.create=J(),G._configure()}},892:(De,fe,W)=>{"use strict";De.exports=z;var D=W(455);(z.prototype=Object.create(D.prototype)).constructor=z;var G=W(69);function z(){D.call(this)}function L(T,_,S){T.length<40?G.utf8.write(T,_,S):_.utf8Write?_.utf8Write(T,S):_.write(T,S)}z._configure=function(){z.alloc=G._Buffer_allocUnsafe,z.writeBytesBuffer=G.Buffer&&G.Buffer.prototype instanceof Uint8Array&&"set"===G.Buffer.prototype.set.name?function(_,S,H){S.set(_,H)}:function(_,S,H){if(_.copy)_.copy(S,H,0,_.length);else for(var F=0;F<_.length;)S[H++]=_[F++]}},z.prototype.bytes=function(_){G.isString(_)&&(_=G._Buffer_from(_,"base64"));var S=_.length>>>0;return this.uint32(S),S&&this._push(z.writeBytesBuffer,S,_),this},z.prototype.string=function(_){var S=G.Buffer.byteLength(_);return this.uint32(S),S&&this._push(L,S,_),this},z._configure()},889:(De,fe,W)=>{"use strict";function D(n){return"function"==typeof n}function G(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const z=G(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function L(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class T{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(D(r))try{r()}catch(o){t=o instanceof z?o.errors:[o]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const o of s)try{H(o)}catch(a){t=null!=t?t:[],a instanceof z?t=[...t,...a.errors]:t.push(a)}}if(t)throw new z(t)}}add(t){var e;if(t&&t!==this)if(this.closed)H(t);else{if(t instanceof T){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&L(e,t)}remove(t){const{_teardowns:e}=this;e&&L(e,t),t instanceof T&&t._removeParent(this)}}T.EMPTY=(()=>{const n=new T;return n.closed=!0,n})();const _=T.EMPTY;function S(n){return n instanceof T||n&&"closed"in n&&D(n.remove)&&D(n.add)&&D(n.unsubscribe)}function H(n){D(n)?n():n.unsubscribe()}const F={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(...n){const{delegate:t}=J;return((null==t?void 0:t.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=J;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function oe(n){J.setTimeout(()=>{const{onUnhandledError:t}=F;if(!t)throw n;t(n)})}function I(){}const x=et("C",void 0,void 0);function et(n,t,e){return{kind:n,value:t,error:e}}let re=null;function K(n){if(F.useDeprecatedSynchronousErrorHandling){const t=!re;if(t&&(re={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=re;if(re=null,e)throw r}}else n()}class ct extends T{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,S(t)&&t.add(this)):this.destination=q}static create(t,e,r){return new jn(t,e,r)}next(t){this.isStopped?X(et("N",t,void 0),this):this._next(t)}error(t){this.isStopped?X(et("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?X(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class jn extends ct{constructor(t,e,r){let s;if(super(),D(t))s=t;else if(t){let o;({next:s,error:e,complete:r}=t),this&&F.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe()):o=t,s=null==s?void 0:s.bind(o),e=null==e?void 0:e.bind(o),r=null==r?void 0:r.bind(o)}this.destination={next:s?Gr(s):I,error:Gr(null!=e?e:Nt),complete:r?Gr(r):I}}}function Gr(n,t){return(...e)=>{try{n(...e)}catch(r){F.useDeprecatedSynchronousErrorHandling?function(n){F.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=n)}(r):oe(r)}}}function Nt(n){throw n}function X(n,t){const{onStoppedNotification:e}=F;e&&J.setTimeout(()=>e(n,t))}const q={closed:!0,next:I,error:Nt,complete:I},C="function"==typeof Symbol&&Symbol.observable||"@@observable";function se(n){return n}let ve=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,s){const o=function(n){return n&&n instanceof ct||function(n){return n&&D(n.next)&&D(n.error)&&D(n.complete)}(n)&&S(n)}(e)?e:new jn(e,r,s);return K(()=>{const{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ft(r))((s,o)=>{let a;a=this.subscribe(l=>{try{e(l)}catch(u){o(u),null==a||a.unsubscribe()}},o,s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[C](){return this}pipe(...e){return function(n){return 0===n.length?se:1===n.length?n[0]:function(e){return n.reduce((r,s)=>s(r),e)}}(e)(this)}toPromise(e){return new(e=ft(e))((r,s)=>{let o;this.subscribe(a=>o=a,a=>s(a),()=>r(o))})}}return n.create=t=>new n(t),n})();function ft(n){var t;return null!==(t=null!=n?n:F.Promise)&&void 0!==t?t:Promise}const It=G(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let je=(()=>{class n extends ve{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Yt(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new It}next(e){K(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const s of r)s.next(e)}})}error(e){K(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){K(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:s,observers:o}=this;return r||s?_:(o.push(e),new T(()=>L(o,e)))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:s,isStopped:o}=this;r?e.error(s):o&&e.complete()}asObservable(){const e=new ve;return e.source=this,e}}return n.create=(t,e)=>new Yt(t,e),n})();class Yt extends je{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:_}}function vt(n){return D(null==n?void 0:n.lift)}function Ue(n){return t=>{if(vt(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class tt extends ct{constructor(t,e,r,s,o){super(t),this.onFinalize=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function qe(n,t){return Ue((e,r)=>{let s=0;e.subscribe(new tt(r,o=>{r.next(n.call(t,o,s++))}))})}function vr(n){return this instanceof vr?(this.v=n,this):new vr(n)}function iM(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=e.apply(n,t||[]),o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){r[f]&&(s[f]=function(p){return new Promise(function(m,b){o.push([f,p,m,b])>1||l(f,p)})})}function l(f,p){try{!function(f){f.value instanceof vr?Promise.resolve(f.value.v).then(c,d):h(o[0][2],f)}(r[f](p))}catch(m){h(o[0][3],m)}}function c(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function rM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(a){return new Promise(function(l,u){!function(o,a,l,u){Promise.resolve(u).then(function(c){o({value:c,done:l})},a)}(l,u,(a=n[o](a)).done,a.value)})}}}const Om=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Nm(n){return D(null==n?void 0:n.then)}function Pm(n){return D(n[C])}function Bm(n){return Symbol.asyncIterator&&D(null==n?void 0:n[Symbol.asyncIterator])}function Hm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vm="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function zm(n){return D(null==n?void 0:n[Vm])}function jm(n){return iM(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:s}=yield vr(e.read());if(s)return yield vr(void 0);yield yield vr(r)}}finally{e.releaseLock()}})}function Um(n){return D(null==n?void 0:n.getReader)}function Un(n){if(n instanceof ve)return n;if(null!=n){if(Pm(n))return function(n){return new ve(t=>{const e=n[C]();if(D(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Om(n))return function(n){return new ve(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Nm(n))return function(n){return new ve(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,oe)})}(n);if(Bm(n))return $m(n);if(zm(n))return function(n){return new ve(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Um(n))return function(n){return $m(jm(n))}(n)}throw Hm(n)}function $m(n){return new ve(t=>{(function(n,t){var e,r,s,o;return function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):function(o){return o instanceof e?o:new e(function(a){a(o)})}(d.value).then(l,u)}c((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=rM(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(a){s={error:a}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(s)throw s.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Ri(n,t,e,r=0,s=!1){const o=t.schedule(function(){e(),s?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!s)return o}function Ft(n,t,e=1/0){return D(t)?Ft((r,s)=>qe((o,a)=>t(r,o,s,a))(Un(n(r,s))),e):("number"==typeof t&&(e=t),Ue((r,s)=>function(n,t,e,r,s,o,a,l){const u=[];let c=0,d=0,h=!1;const f=()=>{h&&!u.length&&!c&&t.complete()},p=b=>c<r?m(b):u.push(b),m=b=>{c++;let g=!1;Un(e(b,d++)).subscribe(new tt(t,v=>{t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;u.length&&c<r;){const v=u.shift();m(v)}f()}catch(v){t.error(v)}}))};return n.subscribe(new tt(t,p,()=>{h=!0,f()})),()=>{}}(r,s,n,e)))}function ho(n=1/0){return Ft(se,n)}const Ai=new ve(n=>n.complete());function Wm(n){return n&&D(n.schedule)}function Lc(n){return n[n.length-1]}function fo(n){return Wm(Lc(n))?n.pop():void 0}function Gm(n,t=0){return Ue((e,r)=>{e.subscribe(new tt(r,s=>Ri(r,n,()=>r.next(s),t),()=>Ri(r,n,()=>r.complete(),t),s=>Ri(r,n,()=>r.error(s),t)))})}function qm(n,t=0){return Ue((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Km(n,t){if(!n)throw new Error("Iterable cannot be null");return new ve(e=>{Ri(e,t,()=>{const r=n[Symbol.asyncIterator]();Ri(e,t,()=>{r.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function Pt(n,t){return t?function(n,t){if(null!=n){if(Pm(n))return function(n,t){return Un(n).pipe(qm(t),Gm(t))}(n,t);if(Om(n))return function(n,t){return new ve(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Nm(n))return function(n,t){return Un(n).pipe(qm(t),Gm(t))}(n,t);if(Bm(n))return Km(n,t);if(zm(n))return function(n,t){return new ve(e=>{let r;return Ri(e,t,()=>{r=n[Vm](),Ri(e,t,()=>{let s,o;try{({value:s,done:o}=r.next())}catch(a){return void e.error(a)}o?e.complete():e.next(s)},0,!0)}),()=>D(null==r?void 0:r.return)&&r.return()})}(n,t);if(Um(n))return function(n,t){return Km(jm(n),t)}(n,t)}throw Hm(n)}(n,t):Un(n)}function $a(n){return n<=0?()=>Ai:Ue((t,e)=>{let r=0;t.subscribe(new tt(e,s=>{++r<=n&&(e.next(s),n<=r&&e.complete())}))})}function Oc(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe($a(1)).subscribe(()=>n())}function Ye(n){for(let t in n)if(n[t]===Ye)return t;throw Error("Could not find renamed property on target object.")}function Nc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function $e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Pc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const TM=Ye({__forward_ref__:Ye});function Bc(n){return n.__forward_ref__=Bc,n.toString=function(){return $e(this())},n}function ke(n){return function(n){return"function"==typeof n&&n.hasOwnProperty(TM)&&n.__forward_ref__===Bc}(n)?n():n}class pn extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Me(n){return"string"==typeof n?n:null==n?"":String(n)}function Zt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Me(n)}function Wa(n,t){const e=t?` in ${t}`:"";throw new pn("201",`No provider for ${Zt(n)} found${e}`)}function gn(n,t){null==n&&function(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vc(n){return Ym(n,Ga)||Ym(n,Xm)}function Ym(n,t){return n.hasOwnProperty(t)?n[t]:null}function Zm(n){return n&&(n.hasOwnProperty(zc)||n.hasOwnProperty(IM))?n[zc]:null}const Ga=Ye({\u0275prov:Ye}),zc=Ye({\u0275inj:Ye}),Xm=Ye({ngInjectableDef:Ye}),IM=Ye({ngInjectorDef:Ye});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let jc;function Yi(n){const t=jc;return jc=n,t}function Jm(n,t,e){const r=Vc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Re.Optional?null:void 0!==t?t:void Wa($e(n),"Injector")}function Zi(n){return{toString:n}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),$n=(()=>{return(n=$n||($n={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$n;var n})();const LM="undefined"!=typeof globalThis&&globalThis,OM="undefined"!=typeof window&&window,NM="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ke=LM||"undefined"!=typeof global&&global||OM||NM,qr={},Ze=[],qa=Ye({\u0275cmp:Ye}),Uc=Ye({\u0275dir:Ye}),$c=Ye({\u0275pipe:Ye}),eg=Ye({\u0275mod:Ye}),Ii=Ye({\u0275fac:Ye}),po=Ye({__NG_ELEMENT_ID__:Ye});let PM=0;function ci(n){return Zi(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ze,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||$n.Emulated,id:"c",styles:n.styles||Ze,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,o=n.features,a=n.pipes;return r.id+=PM++,r.inputs=rg(n.inputs,e),r.outputs=rg(n.outputs),o&&o.forEach(l=>l(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(tg):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(ng):null,r})}function tg(n){return zt(n)||function(n){return n[Uc]||null}(n)}function ng(n){return function(n){return n[$c]||null}(n)}const ig={};function yt(n){return Zi(()=>{const t={type:n.type,bootstrap:n.bootstrap||Ze,declarations:n.declarations||Ze,imports:n.imports||Ze,exports:n.exports||Ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(ig[n.id]=n.type),t})}function rg(n,t){if(null==n)return qr;const e={};for(const r in n)if(n.hasOwnProperty(r)){let s=n[r],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),e[s]=r,t&&(t[s]=o)}return e}const Lt=ci;function an(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function zt(n){return n[qa]||null}function An(n,t){const e=n[eg]||null;if(!e&&!0===t)throw new Error(`Type ${$e(n)} does not have '\u0275mod' property.`);return e}function di(n){return Array.isArray(n)&&"object"==typeof n[1]}function Gn(n){return Array.isArray(n)&&!0===n[1]}function qc(n){return 0!=(8&n.flags)}function Za(n){return 2==(2&n.flags)}function Xa(n){return 1==(1&n.flags)}function qn(n){return null!==n.template}function UM(n){return 0!=(512&n[2])}function Er(n,t){return n.hasOwnProperty(Ii)?n[Ii]:null}class GM{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function og(n){return n.type.prototype.ngOnChanges&&(n.setInput=KM),qM}function qM(){const n=lg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===qr)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function KM(n,t,e,r){const s=lg(n)||function(n,t){return n[ag]=t}(n,{previous:qr,current:null}),o=s.current||(s.current={}),a=s.previous,l=this.declaredInputs[e],u=a[l];o[l]=new GM(u&&u.currentValue,t,a===qr),n[r]=t}const ag="__ngSimpleChanges__";function lg(n){return n[ag]||null}const ug="http://www.w3.org/2000/svg";let Yc;function mt(n){return!!n.listen}const dg={createRenderer:(n,t)=>void 0!==Yc?Yc:"undefined"!=typeof document?document:void 0};function Ct(n){for(;Array.isArray(n);)n=n[0];return n}function Ja(n,t){return Ct(t[n])}function Fn(n,t){return Ct(t[n.index])}function Xc(n,t){return n.data[t]}function Xr(n,t){return n[t]}function vn(n,t){const e=t[n];return di(e)?e:e[0]}function hg(n){return 4==(4&n[2])}function Jc(n){return 128==(128&n[2])}function Ji(n,t){return null==t?null:n[t]}function fg(n){n[18]=0}function ed(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const Ce={lFrame:Cg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function pg(){return Ce.bindingsEnabled}function U(){return Ce.lFrame.lView}function We(){return Ce.lFrame.tView}function xt(){let n=gg();for(;null!==n&&64===n.type;)n=n.parent;return n}function gg(){return Ce.lFrame.currentTNode}function hi(n,t){const e=Ce.lFrame;e.currentTNode=n,e.isParent=t}function td(){return Ce.lFrame.isParent}function nd(){Ce.lFrame.isParent=!1}function el(){return Ce.isInCheckNoChangesMode}function tl(n){Ce.isInCheckNoChangesMode=n}function Jr(){return Ce.lFrame.bindingIndex++}function ux(n,t){const e=Ce.lFrame;e.bindingIndex=e.bindingRootIndex=n,id(t)}function id(n){Ce.lFrame.currentDirectiveIndex=n}function yg(){return Ce.lFrame.currentQueryIndex}function sd(n){Ce.lFrame.currentQueryIndex=n}function dx(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function _g(n,t,e){if(e&Re.SkipSelf){let s=t,o=n;for(;!(s=s.parent,null!==s||e&Re.Host||(s=dx(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;t=s,n=o}const r=Ce.lFrame=wg();return r.currentTNode=t,r.lView=n,!0}function nl(n){const t=wg(),e=n[1];Ce.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function wg(){const n=Ce.lFrame,t=null===n?null:n.child;return null===t?Cg(n):t}function Cg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Eg(){const n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Dg=Eg;function il(){const n=Eg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Jt(){return Ce.lFrame.selectedIndex}function er(n){Ce.lFrame.selectedIndex=n}function gt(){const n=Ce.lFrame;return Xc(n.tView,n.selectedIndex)}function Tr(){Ce.lFrame.currentNamespace=ug}function rl(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(e,d)}}function sl(n,t,e){Tg(n,t,3,e)}function ol(n,t,e,r){(3&n[2])===e&&Tg(n,t,e,r)}function od(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Tg(n,t,e,r){const o=null!=r?r:-1,a=t.length-1;let l=0;for(let u=void 0!==r?65535&n[18]:0;u<a;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=r&&l>=r)break}else t[u]<0&&(n[18]+=65536),(l<o||-1==o)&&(yx(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function yx(n,t,e,r){const s=e[r]<0,o=e[r+1],l=n[s?-e[r]:e[r]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(l)}finally{}}}else try{o.call(l)}finally{}}class yo{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function al(n,t,e){const r=mt(n);let s=0;for(;s<e.length;){const o=e[s];if("number"==typeof o){if(0!==o)break;s++;const a=e[s++],l=e[s++],u=e[s++];r?n.setAttribute(t,l,u,a):t.setAttributeNS(a,l,u)}else{const a=o,l=e[++s];ld(a)?r&&n.setProperty(t,a,l):r?n.setAttribute(t,a,l):t.setAttribute(a,l),s++}}return s}function Mg(n){return 3===n||4===n||6===n}function ld(n){return 64===n.charCodeAt(0)}function ll(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?e=s:0===e||xg(n,e,s,null,-1===e||2===e?t[++r]:null)}}return n}function xg(n,t,e,r,s){let o=0,a=n.length;if(-1===t)a=-1;else for(;o<n.length;){const l=n[o++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=o-1;break}}}for(;o<n.length;){const l=n[o];if("number"==typeof l)break;if(l===e){if(null===r)return void(null!==s&&(n[o+1]=s));if(r===n[o+1])return void(n[o+2]=s)}o++,null!==r&&o++,null!==s&&o++}-1!==a&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==s&&n.splice(o++,0,s)}function Sg(n){return-1!==n}function es(n){return 32767&n}function ts(n,t){let e=function(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let ud=!0;function ul(n){const t=ud;return ud=n,t}let Tx=0;function wo(n,t){const e=dd(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,cd(r.data,n),cd(t,null),cd(r.blueprint,null));const s=cl(n,t),o=n.injectorIndex;if(Sg(s)){const a=es(s),l=ts(s,t),u=l[1].data;for(let c=0;c<8;c++)t[o+c]=l[a+c]|u[a+c]}return t[o+8]=s,o}function cd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function dd(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function cl(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,s=t;for(;null!==s;){const o=s[1],a=o.type;if(r=2===a?o.declTNode:1===a?s[6]:null,null===r)return-1;if(e++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function dl(n,t,e){!function(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(po)&&(r=e[po]),null==r&&(r=e[po]=Tx++);const s=255&r;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function kg(n,t,e){if(e&Re.Optional)return n;Wa(t,"NodeInjector")}function Ig(n,t,e,r){if(e&Re.Optional&&void 0===r&&(r=null),0==(e&(Re.Self|Re.Host))){const s=n[9],o=Yi(void 0);try{return s?s.get(t,r,e&Re.Optional):Jm(t,r,e&Re.Optional)}finally{Yi(o)}}return kg(r,t,e)}function Fg(n,t,e,r=Re.Default,s){if(null!==n){const o=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(po)?n[po]:void 0;return"number"==typeof t?t>=0?255&t:Sx:t}(e);if("function"==typeof o){if(!_g(t,n,r))return r&Re.Host?kg(s,e,r):Ig(t,e,r,s);try{const a=o(r);if(null!=a||r&Re.Optional)return a;Wa(e)}finally{Dg()}}else if("number"==typeof o){let a=null,l=dd(n,t),u=-1,c=r&Re.Host?t[16][6]:null;for((-1===l||r&Re.SkipSelf)&&(u=-1===l?cl(n,t):t[l+8],-1!==u&&Ng(r,!1)?(a=t[1],l=es(u),t=ts(u,t)):l=-1);-1!==l;){const d=t[1];if(Og(o,l,d.data)){const h=Rx(l,t,e,a,r,c);if(h!==Lg)return h}u=t[l+8],-1!==u&&Ng(r,t[1].data[l+8]===c)&&Og(o,l,t)?(a=d,l=es(u),t=ts(u,t)):l=-1}}}return Ig(t,e,r,s)}const Lg={};function Sx(){return new ns(xt(),U())}function Rx(n,t,e,r,s,o){const a=t[1],l=a.data[n+8],d=hl(l,a,e,null==r?Za(l)&&ud:r!=a&&0!=(3&l.type),s&Re.Host&&o===l);return null!==d?Co(t,a,d,l):Lg}function hl(n,t,e,r,s){const o=n.providerIndexes,a=t.data,l=1048575&o,u=n.directiveStart,d=o>>20,f=s?l+d:n.directiveEnd;for(let p=r?l:l+d;p<f;p++){const m=a[p];if(p<u&&e===m||p>=u&&m.type===e)return p}if(s){const p=a[u];if(p&&qn(p)&&p.type===e)return u}return null}function Co(n,t,e,r){let s=n[e];const o=t.data;if(function(n){return n instanceof yo}(s)){const a=s;a.resolving&&function(n,t){throw new pn("200",`Circular dependency in DI detected for ${n}`)}(Zt(o[e]));const l=ul(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?Yi(a.injectImpl):null;_g(n,r,Re.Default);try{s=n[e]=a.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function(n,t,e){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:o}=t.type.prototype;if(r){const a=og(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==u&&Yi(u),ul(l),a.resolving=!1,Dg()}}return s}function Og(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Ng(n,t){return!(n&Re.Self||n&Re.Host&&t)}class ns{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Fg(this._tNode,this._lView,t,r,e)}}const rs="__parameters__";function os(n,t,e){return Zi(()=>{const r=function(n){return function(...e){if(n){const r=n(...e);for(const s in r)this[s]=r[s]}}}(t);function s(...o){if(this instanceof s)return r.apply(this,o),this;const a=new s(...o);return l.annotation=a,l;function l(u,c,d){const h=u.hasOwnProperty(rs)?u[rs]:Object.defineProperty(u,rs,{value:[]})[rs];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(a),u}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class pe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ye({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fx=new pe("AnalyzeForEntryComponents");function Ln(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Ln(r,t)):t!==n&&t.push(r)}return t}function fi(n,t){n.forEach(e=>Array.isArray(e)?fi(e,t):t(e))}function Pg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function fl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function xo(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function yn(n,t,e){let r=as(n,t);return r>=0?n[1|r]=e:(r=~r,function(n,t,e,r){let s=n.length;if(s==t)n.push(e,r);else if(1===s)n.push(r,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function md(n,t){const e=as(n,t);if(e>=0)return n[1|e]}function as(n,t){return function(n,t,e){let r=0,s=n.length>>e;for(;s!==r;){const o=r+(s-r>>1),a=n[o<<e];if(t===a)return o<<e;a>t?s=o:r=o+1}return~(s<<e)}(n,t,1)}const So={},bd="__NG_DI_FLAG__",ml="ngTempTokenPath",Ux=/\n/gm,jg="__source",Wx=Ye({provide:String,useValue:Ye});let Ro;function Ug(n){const t=Ro;return Ro=n,t}function Gx(n,t=Re.Default){if(void 0===Ro)throw new Error("inject() must be called from an injection context");return null===Ro?Jm(n,void 0,t):Ro.get(n,t&Re.Optional?null:void 0,t)}function Y(n,t=Re.Default){return(jc||Gx)(ke(n),t)}function vd(n){const t=[];for(let e=0;e<n.length;e++){const r=ke(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let s,o=Re.Default;for(let a=0;a<r.length;a++){const l=r[a],u=qx(l);"number"==typeof u?-1===u?s=l.token:o|=u:s=l}t.push(Y(s,o))}else t.push(Y(r))}return t}function Ao(n,t){return n[bd]=t,n.prototype[bd]=t,n}function qx(n){return n[bd]}const ko=Ao(os("Inject",n=>({token:n})),-1),pi=Ao(os("Optional"),8),ls=Ao(os("SkipSelf"),4);const ub="__ngContext__";function Ut(n,t){n[ub]=t}function Sd(n){const t=function(n){return n[ub]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Ad(n){return n.ngOriginalError}function VS(n,...t){n.error(...t)}class ds{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=(n=t)&&n.ngErrorLogger||VS;var n;r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Ad(t);for(;e&&Ad(e);)e=Ad(e);return e||null}}const pb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ke))();function gi(n){return n instanceof Function?n():n}var _n=(()=>((_n=_n||{})[_n.Important=1]="Important",_n[_n.DashCase=2]="DashCase",_n))();function Id(n,t){return undefined(n,t)}function Po(n){const t=n[3];return Gn(t)?t[3]:t}function Fd(n){return yb(n[13])}function Ld(n){return yb(n[4])}function yb(n){for(;null!==n&&!Gn(n);)n=n[4];return n}function fs(n,t,e,r,s){if(null!=r){let o,a=!1;Gn(r)?o=r:di(r)&&(a=!0,r=r[0]);const l=Ct(r);0===n&&null!==e?null==s?Tb(t,e,l):Mr(t,e,l,s||null,!0):1===n&&null!==e?Mr(t,e,l,s||null,!0):2===n?function(n,t,e){const r=wl(n,t);r&&function(n,t,e,r){mt(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,l,a):3===n&&t.destroyNode(l),null!=o&&function(n,t,e,r,s){const o=e[7];o!==Ct(e)&&fs(t,n,r,o,s);for(let l=10;l<e.length;l++){const u=e[l];Bo(u[1],u,n,t,r,o)}}(t,n,o,e,s)}}function Nd(n,t,e){return mt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function wb(n,t){const e=n[9],r=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,ed(s,-1)),e.splice(r,1)}function Pd(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const s=r[17];null!==s&&s!==n&&wb(s,r),t>0&&(n[e-1][4]=r[4]);const o=fl(n,10+t);!function(n,t){Bo(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Cb(n,t){if(!(256&t[2])){const e=t[11];mt(e)&&e.destroyNode&&Bo(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Bd(n[1],n);for(;t;){let e=null;if(di(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)di(t)&&Bd(t[1],t),t=t[3];null===t&&(t=n),di(t)&&Bd(t[1],t),e=t&&t[4]}t=e}}(t)}}function Bd(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const s=t[e[r]];if(!(s instanceof yo)){const o=e[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const l=s[o[a]],u=o[a+1];try{u.call(l)}finally{}}else try{o.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,r=t[7];let s=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+1],l="function"==typeof a?a(t):Ct(t[a]),u=r[s=e[o+2]],c=e[o+3];"boolean"==typeof c?l.removeEventListener(e[o],u,c):c>=0?r[s=c]():r[s=-c].unsubscribe(),o+=2}else{const a=r[s=e[o+1]];e[o].call(a)}if(null!==r){for(let o=s+1;o<r.length;o++)r[o]();t[7]=null}}(n,t),1===t[1].type&&mt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Gn(t[3])){e!==t[3]&&wb(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function Eb(n,t,e){return function(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const s=n.data[r.directiveStart].encapsulation;if(s===$n.None||s===$n.Emulated)return null}return Fn(r,e)}(n,t.parent,e)}function Mr(n,t,e,r,s){mt(n)?n.insertBefore(t,e,r,s):t.insertBefore(e,r,s)}function Tb(n,t,e){mt(n)?n.appendChild(t,e):t.appendChild(e)}function Mb(n,t,e,r,s){null!==r?Mr(n,t,e,r,s):Tb(n,t,e)}function wl(n,t){return mt(n)?n.parentNode(t):t.parentNode}function xb(n,t,e){return Rb(n,t,e)}let Rb=function(n,t,e){return 40&n.type?Fn(n,e):null};function Cl(n,t,e,r){const s=Eb(n,r,t),o=t[11],l=xb(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(e))for(let u=0;u<e.length;u++)Mb(o,s,e[u],l,!1);else Mb(o,s,e,l,!1)}function El(n,t){if(null!==t){const e=t.type;if(3&e)return Fn(t,n);if(4&e)return Vd(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return El(n,r);{const s=n[t.index];return Gn(s)?Vd(-1,s):Ct(s)}}if(32&e)return Id(t,n)()||Ct(n[t.index]);{const r=kb(n,t);return null!==r?Array.isArray(r)?r[0]:El(Po(n[16]),r):El(n,t.next)}}return null}function kb(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Vd(n,t){const e=10+n+1;if(e<t.length){const r=t[e],s=r[1].firstChild;if(null!==s)return El(r,s)}return t[7]}function zd(n,t,e,r,s,o,a){for(;null!=e;){const l=r[e.index],u=e.type;if(a&&0===t&&(l&&Ut(Ct(l),r),e.flags|=4),64!=(64&e.flags))if(8&u)zd(n,t,e.child,r,s,o,!1),fs(t,n,s,l,o);else if(32&u){const c=Id(e,r);let d;for(;d=c();)fs(t,n,s,d,o);fs(t,n,s,l,o)}else 16&u?Fb(n,t,r,e,s,o):fs(t,n,s,l,o);e=a?e.projectionNext:e.next}}function Bo(n,t,e,r,s,o){zd(e,r,n.firstChild,t,s,o,!1)}function Fb(n,t,e,r,s,o){const a=e[16],u=a[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)fs(t,n,s,u[c],o);else zd(n,t,u,a[3],s,o,!0)}function Lb(n,t,e){mt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function jd(n,t,e){mt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Ob(n,t,e){let r=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const o=t.length;if(s+o===r||n.charCodeAt(s+o)<=32)return s}e=s+1}}const Nb="ng-template";function pR(n,t,e){let r=0;for(;r<n.length;){let s=n[r++];if(e&&"class"===s){if(s=n[r],-1!==Ob(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Pb(n){return 4===n.type&&n.value!==Nb}function mR(n,t,e){return t===(4!==n.type||e?n.value:Nb)}function gR(n,t,e){let r=4;const s=n.attrs||[],o=function(n){for(let t=0;t<n.length;t++)if(Mg(n[t]))return t;return n.length}(s);let a=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!mR(n,u,e)||""===u&&1===t.length){if(Kn(r))return!1;a=!0}}else{const c=8&r?u:t[++l];if(8&r&&null!==n.attrs){if(!pR(n.attrs,c,e)){if(Kn(r))return!1;a=!0}continue}const h=bR(8&r?"class":u,s,Pb(n),e);if(-1===h){if(Kn(r))return!1;a=!0;continue}if(""!==c){let f;f=h>o?"":s[h+1].toLowerCase();const p=8&r?f:null;if(p&&-1!==Ob(p,c,0)||2&r&&c!==f){if(Kn(r))return!1;a=!0}}}}else{if(!a&&!Kn(r)&&!Kn(u))return!1;if(a&&Kn(u))continue;a=!1,r=u|1&r}}return Kn(r)||a}function Kn(n){return 0==(1&n)}function bR(n,t,e,r){if(null===t)return-1;let s=0;if(r||!e){let o=!1;for(;s<t.length;){const a=t[s];if(a===n)return s;if(3===a||6===a)o=!0;else{if(1===a||2===a){let l=t[++s];for(;"string"==typeof l;)l=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=o?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Bb(n,t,e=!1){for(let r=0;r<t.length;r++)if(gR(n,t[r],e))return!0;return!1}function wR(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let s=0;s<n.length;s++)if(n[s]!==r[s])continue e;return!0}}return!1}function Hb(n,t){return n?":not("+t.trim()+")":t}function CR(n){let t=n[0],e=1,r=2,s="",o=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&r){const l=n[++e];s+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?s+="."+a:4&r&&(s+=" "+a);else""!==s&&!Kn(a)&&(t+=Hb(o,s),s=""),r=a,o=o||!Kn(r);e++}return""!==s&&(t+=Hb(o,s)),t}const xe={};function Qn(n){Vb(We(),U(),Jt()+n,el())}function Vb(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&sl(t,o,e)}else{const o=n.preOrderHooks;null!==o&&ol(t,o,0,e)}er(e)}function Dl(n,t){return n<<17|t<<2}function Yn(n){return n>>17&32767}function Ud(n){return 2|n}function Oi(n){return(131068&n)>>2}function $d(n,t){return-131069&n|t<<2}function Wd(n){return 1|n}function Zb(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r],o=e[r+1];if(-1!==o){const a=n.data[o];sd(s),a.contentQueries(2,t[o],o)}}}function Ho(n,t,e,r,s,o,a,l,u,c){const d=t.blueprint.slice();return d[0]=s,d[2]=140|r,fg(d),d[3]=d[15]=n,d[8]=e,d[10]=a||n&&n[10],d[11]=l||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[16]=2==t.type?n[16]:d,d}function ps(n,t,e,r,s){let o=n.data[t];if(null===o)o=function(n,t,e,r,s){const o=gg(),a=td(),u=n.data[t]=function(n,t,e,r,s,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,t,r,s);return null===n.firstChild&&(n.firstChild=u),null!==o&&(a?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(n,t,e,r,s),Ce.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=s;const a=function(){const n=Ce.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return hi(o,!0),o}function ms(n,t,e,r){if(0===e)return-1;const s=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return s}function Vo(n,t,e){nl(t);try{const r=n.viewQuery;null!==r&&uh(1,r,e);const s=n.template;null!==s&&Xb(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Zb(n,t),n.staticViewQueries&&uh(2,n.viewQuery,e);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)s1(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,il()}}function gs(n,t,e,r){const s=t[2];if(256==(256&s))return;nl(t);const o=el();try{fg(t),function(n){Ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Xb(n,t,e,2,r);const a=3==(3&s);if(!o)if(a){const c=n.preOrderCheckHooks;null!==c&&sl(t,c,null)}else{const c=n.preOrderHooks;null!==c&&ol(t,c,0,null),od(t,0)}if(function(n){for(let t=Fd(n);null!==t;t=Ld(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const s=e[r],o=s[3];0==(1024&s[2])&&ed(o,1),s[2]|=1024}}}(t),function(n){for(let t=Fd(n);null!==t;t=Ld(t))for(let e=10;e<t.length;e++){const r=t[e],s=r[1];Jc(r)&&gs(s,r,s.template,r[8])}}(t),null!==n.contentQueries&&Zb(n,t),!o)if(a){const c=n.contentCheckHooks;null!==c&&sl(t,c)}else{const c=n.contentHooks;null!==c&&ol(t,c,1),od(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)er(~s);else{const o=s,a=e[++r],l=e[++r];ux(a,o),l(2,t[o])}}}finally{er(-1)}}(n,t);const l=n.components;null!==l&&function(n,t){for(let e=0;e<t.length;e++)r1(n,t[e])}(t,l);const u=n.viewQuery;if(null!==u&&uh(2,u,r),!o)if(a){const c=n.viewCheckHooks;null!==c&&sl(t,c)}else{const c=n.viewHooks;null!==c&&ol(t,c,2),od(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ed(t[3],-1))}finally{il()}}function BR(n,t,e,r){const s=t[10],o=!el(),a=hg(t);try{o&&!a&&s.begin&&s.begin(),a&&Vo(n,t,r),gs(n,t,e,r)}finally{o&&!a&&s.end&&s.end()}}function Xb(n,t,e,r,s){const o=Jt(),a=2&r;try{er(-1),a&&t.length>20&&Vb(n,t,20,el()),e(r,s)}finally{er(o)}}function th(n,t,e){!pg()||(function(n,t,e,r){const s=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||wo(e,t),Ut(r,t);const a=e.initialInputs;for(let l=s;l<o;l++){const u=n.data[l],c=qn(u);c&&XR(t,e,u);const d=Co(t,n,l,e);Ut(d,t),null!==a&&JR(0,l-s,d,u,0,a),c&&(vn(e.index,t)[8]=d)}}(n,t,e,Fn(e,t)),128==(128&e.flags)&&function(n,t,e){const r=e.directiveStart,s=e.directiveEnd,a=e.index,l=Ce.lFrame.currentDirectiveIndex;try{er(a);for(let u=r;u<s;u++){const c=n.data[u],d=t[u];id(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&av(c,d)}}finally{er(-1),id(l)}}(n,t,e))}function nh(n,t,e=Fn){const r=t.localNames;if(null!==r){let s=t.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],l=-1===a?e(t,n):n[a];n[s++]=l}}}function ev(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=xl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function xl(n,t,e,r,s,o,a,l,u,c){const d=20+r,h=d+s,f=function(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:xe);return e}(d,h),p="function"==typeof c?c():c;return f[1]={type:n,blueprint:f,template:e,queries:null,viewQuery:l,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1}}function iv(n,t,e,r){const s=fv(t);null===e?s.push(r):(s.push(e),n.firstCreatePass&&pv(n).push(r,s.length-1))}function rv(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const s=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,s):e[r]=[t,s]}return e}function ih(n,t,e,r){let s=!1;if(pg()){const o=function(n,t,e){const r=n.directiveRegistry;let s=null;if(r)for(let o=0;o<r.length;o++){const a=r[o];Bb(e,a.selectors,!1)&&(s||(s=[]),dl(wo(e,t),n,a.type),qn(a)?(lv(n,e),s.unshift(a)):s.push(a))}return s}(n,t,e),a=null===r?null:{"":-1};if(null!==o){s=!0,uv(e,n.data.length,o.length);for(let d=0;d<o.length;d++){const h=o[d];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,c=ms(n,t,o.length,null);for(let d=0;d<o.length;d++){const h=o[d];e.mergedAttrs=ll(e.mergedAttrs,h.hostAttrs),cv(n,e,t,c,h),ZR(c,h,a),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const f=h.type.prototype;!l&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),l=!0),!u&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),u=!0),c++}!function(n,t){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<r;c++){const d=s[c],h=d.inputs,f=null===o||Pb(t)?null:e1(h,o);a.push(f),l=rv(h,c,l),u=rv(d.outputs,c,u)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=u}(n,e)}a&&function(n,t,e){if(t){const r=n.localNames=[];for(let s=0;s<t.length;s+=2){const o=e[t[s+1]];if(null==o)throw new pn("301",`Export of name '${t[s+1]}' not found!`);r.push(t[s],o)}}}(e,r,a)}return e.mergedAttrs=ll(e.mergedAttrs,e.attrs),s}function ov(n,t,e,r,s,o){const a=o.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const u=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=u&&l.push(u),l.push(r,s,a)}}function av(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function lv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function ZR(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;qn(t)&&(e[""]=n)}}function uv(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function cv(n,t,e,r,s){n.data[r]=s;const o=s.factory||(s.factory=Er(s.type)),a=new yo(o,qn(s),null);n.blueprint[r]=a,e[r]=a,ov(n,t,0,r,ms(n,e,s.hostVars,xe),s)}function XR(n,t,e){const r=Fn(t,n),s=ev(e),o=n[10],a=Sl(n,Ho(n,s,null,e.onPush?64:16,r,t,o,o.createRenderer(r,e),null,null));n[t.index]=a}function bi(n,t,e,r,s,o){const a=Fn(n,t);!function(n,t,e,r,s,o,a){if(null==o)mt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const l=null==a?Me(o):a(o,r||"",s);mt(n)?n.setAttribute(t,s,l,e):e?t.setAttributeNS(e,s,l):t.setAttribute(s,l)}}(t[11],a,o,n.value,e,r,s)}function JR(n,t,e,r,s,o){const a=o[t];if(null!==a){const l=r.setInput;for(let u=0;u<a.length;){const c=a[u++],d=a[u++],h=a[u++];null!==l?r.setInput(e,h,c,d):e[d]=h}}}function e1(n,t){let e=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[r+1])),r+=2}else r+=2;else r+=4}return e}function dv(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function r1(n,t){const e=vn(t,n);if(Jc(e)){const r=e[1];80&e[2]?gs(r,e,r.template,e[8]):e[5]>0&&sh(e)}}function sh(n){for(let r=Fd(n);null!==r;r=Ld(r))for(let s=10;s<r.length;s++){const o=r[s];if(1024&o[2]){const a=o[1];gs(a,o,a.template,o[8])}else o[5]>0&&sh(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const s=vn(e[r],n);Jc(s)&&s[5]>0&&sh(s)}}function s1(n,t){const e=vn(t,n),r=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Vo(r,e,e[8])}function Sl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function oh(n){for(;n;){n[2]|=64;const t=Po(n);if(UM(n)&&!t)return n;n=t}return null}function lh(n,t,e){const r=t[10];r.begin&&r.begin();try{gs(n,t,n.template,e)}catch(s){throw gv(t,s),s}finally{r.end&&r.end()}}function hv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=Sd(e),s=r[1];BR(s,r,s.template,e)}}(n[8])}function uh(n,t,e){sd(0),t(n,e)}const c1=(()=>Promise.resolve(null))();function fv(n){return n[7]||(n[7]=[])}function pv(n){return n.cleanup||(n.cleanup=[])}function gv(n,t){const e=n[9],r=e?e.get(ds,null):null;r&&r.handleError(t)}function bv(n,t,e,r,s){for(let o=0;o<e.length;){const a=e[o++],l=e[o++],u=t[a],c=n.data[a];null!==c.setInput?c.setInput(u,s,r,l):u[l]=s}}function Ni(n,t,e){const r=Ja(t,n);!function(n,t,e){mt(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function Rl(n,t,e){let r=e?n.styles:null,s=e?n.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?o=l:1==o?s=Pc(s,l):2==o&&(r=Pc(r,l+": "+t[++a]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=s:n.classesWithoutHost=s}const ch=new pe("INJECTOR",-1);class vv{get(t,e=So){if(e===So){const r=new Error(`NullInjectorError: No provider for ${$e(t)}!`);throw r.name="NullInjectorError",r}return e}}const dh=new pe("Set Injector scope."),zo={},f1={};let hh;function yv(){return void 0===hh&&(hh=new vv),hh}function _v(n,t=null,e=null,r){const s=wv(n,t,e,r);return s._resolveInjectorDefTypes(),s}function wv(n,t=null,e=null,r){return new p1(n,e,t||yv(),r)}class p1{constructor(t,e,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&fi(e,l=>this.processProvider(l,t,e)),fi([t],l=>this.processInjectorType(l,[],o)),this.records.set(ch,bs(void 0,this));const a=this.records.get(dh);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:$e(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=So,r=Re.Default){this.assertNotDestroyed();const s=Ug(this),o=Yi(void 0);try{if(!(r&Re.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=("function"==typeof(n=t)||"object"==typeof n&&n instanceof pe)&&Vc(t);l=u&&this.injectableDefInScope(u)?bs(fh(t),zo):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&Re.Self?yv():this.parent).get(t,e=r&Re.Optional&&e===So?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[ml]=a[ml]||[]).unshift($e(t)),s)throw a;return function(n,t,e,r){const s=n[ml];throw t[jg]&&s.unshift(t[jg]),n.message=function(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=$e(t);if(Array.isArray(t))s=t.map($e).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):$e(l)))}s=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${s}]: ${n.replace(Ux,"\n  ")}`}("\n"+n.message,s,e,r),n.ngTokenPath=s,n[ml]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Yi(o),Ug(s)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,s)=>t.push($e(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,r){if(!(t=ke(t)))return!1;let s=Zm(t);const o=null==s&&t.ngModule||void 0,a=void 0===o?t:o,l=-1!==r.indexOf(a);if(void 0!==o&&(s=Zm(o)),null==s)return!1;if(null!=s.imports&&!l){let d;r.push(a);try{fi(s.imports,h=>{this.processInjectorType(h,e,r)&&(void 0===d&&(d=[]),d.push(h))})}finally{}if(void 0!==d)for(let h=0;h<d.length;h++){const{ngModule:f,providers:p}=d[h];fi(p,m=>this.processProvider(m,f,p||Ze))}}this.injectorDefTypes.add(a);const u=Er(a)||(()=>new a);this.records.set(a,bs(u,zo));const c=s.providers;if(null!=c&&!l){const d=t;fi(c,h=>this.processProvider(h,d,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,r){let s=vs(t=ke(t))?t:ke(t&&t.provide);const o=(n=t,Ev(n)?bs(void 0,n.useValue):bs(function(n,t,e){let r;if(vs(n)){const s=ke(n);return Er(s)||fh(s)}if(Ev(n))r=()=>ke(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...vd(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>Y(ke(n.useExisting));else{const s=ke(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Er(s)||fh(s);r=()=>new s(...vd(n.deps))}return r}(n),zo));var n;if(vs(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=bs(void 0,zo,!0),a.factory=()=>vd(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,o)}hydrate(t,e){return e.value===zo&&(e.value=f1,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var n}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ke(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function fh(n){const t=Vc(n),e=null!==t?t.factory:Er(n);if(null!==e)return e;if(n instanceof pe)throw new Error(`Token ${$e(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const r=xo(t,"?");throw new Error(`Can't resolve all parameters for ${$e(n)}: (${r.join(", ")}).`)}const e=function(n){const t=n&&(n[Ga]||n[Xm]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function bs(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ev(n){return null!==n&&"object"==typeof n&&Wx in n}function vs(n){return"function"==typeof n}let $t=(()=>{class n{static create(e,r){var s;if(Array.isArray(e))return _v({name:""},r,e,"");{const o=null!=(s=e.name)?s:"";return _v({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=So,n.NULL=new vv,n.\u0275prov=ye({token:n,providedIn:"any",factory:()=>Y(ch)}),n.__NG_ELEMENT_ID__=-1,n})();function A1(n,t){rl(Sd(n)[1],xt())}function ys(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let s;if(qn(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){r.push(s);const a=n;a.inputs=gh(n.inputs),a.declaredInputs=gh(n.declaredInputs),a.outputs=gh(n.outputs);const l=s.hostBindings;l&&L1(n,l);const u=s.viewQuery,c=s.contentQueries;if(u&&I1(n,u),c&&F1(n,c),Nc(n.inputs,s.inputs),Nc(n.declaredInputs,s.declaredInputs),Nc(n.outputs,s.outputs),qn(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let a=0;a<o.length;a++){const l=o[a];l&&l.ngInherit&&l(n),l===ys&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const s=n[r];s.hostVars=t+=s.hostVars,s.hostAttrs=ll(s.hostAttrs,e=ll(e,s.hostAttrs))}}(r)}function gh(n){return n===qr?{}:n===Ze?[]:n}function I1(n,t){const e=n.viewQuery;n.viewQuery=e?(r,s)=>{t(r,s),e(r,s)}:t}function F1(n,t){const e=n.contentQueries;n.contentQueries=e?(r,s,o)=>{t(r,s,o),e(r,s,o)}:t}function L1(n,t){const e=n.hostBindings;n.hostBindings=e?(r,s)=>{t(r,s),e(r,s)}:t}let Al=null;function _s(){if(!Al){const n=Ke.Symbol;if(n&&n.iterator)Al=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Al=r)}}}return Al}function jo(n){return!!bh(n)&&(Array.isArray(n)||!(n instanceof Map)&&_s()in n)}function bh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Xn(n,t,e,r){const s=U();return Wt(s,Jr(),t)&&(We(),bi(gt(),s,n,t,e,r)),Xn}function Jn(n,t,e,r,s,o,a,l){const u=U(),c=We(),d=n+20,h=c.firstCreatePass?function(n,t,e,r,s,o,a,l,u){const c=t.consts,d=ps(t,n,4,a||null,Ji(c,l));ih(t,e,d,Ji(c,u)),rl(t,d);const h=d.tViews=xl(2,d,r,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}(d,c,u,t,e,r,s,o,a):c.data[d];hi(h,!1);const f=u[11].createComment("");Cl(c,u,f,h),Ut(f,u),Sl(u,u[d]=dv(f,u,f,h)),Xa(h)&&th(c,u,h),null!=a&&nh(u,h,l)}function Sr(n){return Xr(Ce.lFrame.contextLView,20+n)}function Q(n,t=Re.Default){const e=U();return null===e?Y(n,t):Fg(xt(),e,ke(n),t)}function Ch(){throw new Error("invalid")}function Cn(n,t,e){const r=U();return Wt(r,Jr(),t)&&function(n,t,e,r,s,o,a,l){const u=Fn(t,e);let d,c=t.inputs;!l&&null!=c&&(d=c[r])?(bv(n,e,d,r,s),Za(t)&&function(n,t){const e=vn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),s=null!=a?a(s,t.value||"",r):s,mt(o)?o.setProperty(u,r,s):ld(r)||(u.setProperty?u.setProperty(r,s):u[r]=s))}(We(),gt(),r,n,t,r[11],e,!1),Cn}function Eh(n,t,e,r,s){const a=s?"class":"style";bv(n,e,t.inputs[a],a,r)}function tn(n,t,e,r){const s=U(),o=We(),a=20+n,l=s[11],u=s[a]=Nd(l,t,Ce.lFrame.currentNamespace),c=o.firstCreatePass?function(n,t,e,r,s,o,a){const l=t.consts,c=ps(t,n,2,s,Ji(l,o));return ih(t,e,c,Ji(l,a)),null!==c.attrs&&Rl(c,c.attrs,!1),null!==c.mergedAttrs&&Rl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(a,o,s,0,t,e,r):o.data[a];hi(c,!0);const d=c.mergedAttrs;null!==d&&al(l,u,d);const h=c.classes;null!==h&&jd(l,u,h);const f=c.styles;null!==f&&Lb(l,u,f),64!=(64&c.flags)&&Cl(o,s,u,c),0===Ce.lFrame.elementDepthCount&&Ut(u,s),Ce.lFrame.elementDepthCount++,Xa(c)&&(th(o,s,c),function(n,t,e){if(qc(t)){const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}}(o,c,s)),null!==r&&nh(s,c)}function nn(){let n=xt();td()?nd():(n=n.parent,hi(n,!1));const t=n;Ce.lFrame.elementDepthCount--;const e=We();e.firstCreatePass&&(rl(e,n),qc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&Eh(e,t,U(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&Eh(e,t,U(),t.stylesWithoutHost,!1)}function un(n,t,e,r){tn(n,t,e,r),nn()}function Fl(n){return!!n&&"function"==typeof n.then}function ry(n){return!!n&&"function"==typeof n.subscribe}const sy=ry;function $o(n,t,e,r){const s=U(),o=We(),a=xt();return function(n,t,e,r,s,o,a,l){const u=Xa(r),d=n.firstCreatePass&&pv(n),h=t[8],f=fv(t);let p=!0;if(3&r.type||l){const g=Fn(r,t),v=l?l(g):g,y=f.length,M=l?O=>l(Ct(O[r.index])):r.index;if(mt(e)){let O=null;if(!l&&u&&(O=function(n,t,e,r){const s=n.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const a=s[o];if(a===e&&s[o+1]===r){const l=t[7],u=s[o+2];return l.length>u?l[u]:null}"string"==typeof a&&(o+=2)}return null}(n,t,s,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,p=!1;else{o=Dh(r,t,h,o,!1);const j=e.listen(v,s,o);f.push(o,j),d&&d.push(s,M,y,y+1)}}else o=Dh(r,t,h,o,!0),v.addEventListener(s,o,a),f.push(o),d&&d.push(s,M,y,a)}else o=Dh(r,t,h,o,!1);const m=r.outputs;let b;if(p&&null!==m&&(b=m[s])){const g=b.length;if(g)for(let v=0;v<g;v+=2){const ie=t[b[v]][b[v+1]].subscribe(o),ue=f.length;f.push(o,ie),d&&d.push(s,r.index,ue,-(ue+1))}}}(o,s,s[11],a,n,t,!!e,r),$o}function ly(n,t,e,r){try{return!1!==e(r)}catch(s){return gv(n,s),!1}}function Dh(n,t,e,r,s){return function o(a){if(a===Function)return r;const l=2&n.flags?vn(n.index,t):t;0==(32&t[2])&&oh(l);let u=ly(t,0,r,a),c=o.__ngNextListenerFn__;for(;c;)u=ly(t,0,c,a)&&u,c=c.__ngNextListenerFn__;return s&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function sr(n=1){return function(n){return(Ce.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ce.lFrame.contextLView))[8]}(n)}function hA(n,t){let e=null;const r=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const o=t[s];if("*"!==o){if(null===r?Bb(n,o,!0):wR(r,o))return s}else e=s}return e}function Th(n){const t=U()[16][6];if(!t.projection){const r=t.projection=xo(n?n.length:1,null),s=r.slice();let o=t.child;for(;null!==o;){const a=n?hA(o,n):0;null!==a&&(s[a]?s[a].projectionNext=o:r[a]=o,s[a]=o),o=o.next}}}function Ll(n,t=0,e){const r=U(),s=We(),o=ps(s,20+n,16,null,e||null);null===o.projection&&(o.projection=t),nd(),64!=(64&o.flags)&&function(n,t,e){Fb(t[11],0,t,e,Eb(n,e,t),xb(e.parent||t[6],e,t))}(s,r,o)}function vy(n,t,e,r,s){const o=n[e+1],a=null===t;let l=r?Yn(o):Oi(o),u=!1;for(;0!==l&&(!1===u||a);){const d=n[l+1];mA(n[l],t)&&(u=!0,n[l+1]=r?Wd(d):Ud(d)),l=r?Yn(d):Oi(d)}u&&(n[e+1]=r?Ud(o):Wd(o))}function mA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&as(n,t)>=0}function yi(n,t,e){return ei(n,t,e,!1),yi}function or(n,t){return ei(n,t,null,!0),or}function ei(n,t,e,r){const s=U(),o=We(),a=function(n){const t=Ce.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);o.firstUpdatePass&&function(n,t,e,r){const s=n.data;if(null===s[e+1]){const o=s[Jt()],a=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(o,r)&&null===t&&!a&&(t=!1),t=function(n,t,e,r){const s=function(n){const t=Ce.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(e=Wo(e=xh(null,n,t,e,r),t.attrs,r),o=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==s)if(e=xh(s,n,t,e,r),null===o){let u=function(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Oi(r))return n[Yn(r)]}(n,t,r);void 0!==u&&Array.isArray(u)&&(u=xh(null,n,t,u[1],r),u=Wo(u,t.attrs,r),function(n,t,e,r){n[Yn(e?t.classBindings:t.styleBindings)]=r}(n,t,r,u))}else o=function(n,t,e){let r;const s=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<s;o++)r=Wo(r,n[o].hostAttrs,e);return Wo(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(s,o,t,r),function(n,t,e,r,s,o){let a=o?t.classBindings:t.styleBindings,l=Yn(a),u=Oi(a);n[r]=e;let d,c=!1;if(Array.isArray(e)){const h=e;d=h[1],(null===d||as(h,d)>0)&&(c=!0)}else d=e;if(s)if(0!==u){const f=Yn(n[l+1]);n[r+1]=Dl(f,l),0!==f&&(n[f+1]=$d(n[f+1],r)),n[l+1]=function(n,t){return 131071&n|t<<17}(n[l+1],r)}else n[r+1]=Dl(l,0),0!==l&&(n[l+1]=$d(n[l+1],r)),l=r;else n[r+1]=Dl(u,0),0===l?l=r:n[u+1]=$d(n[u+1],r),u=r;c&&(n[r+1]=Ud(n[r+1])),vy(n,d,r,!0),vy(n,d,r,!1),function(n,t,e,r,s){const o=s?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&as(o,t)>=0&&(e[r+1]=Wd(e[r+1]))}(t,d,n,r,o),a=Dl(l,u),o?t.classBindings=a:t.styleBindings=a}(s,o,t,e,a,r)}}(o,n,a,r),t!==xe&&Wt(s,a,t)&&function(n,t,e,r,s,o,a,l){if(!(3&t.type))return;const u=n.data,c=u[l+1];Ol(function(n){return 1==(1&n)}(c)?Ry(u,t,e,s,Oi(c),a):void 0)||(Ol(o)||function(n){return 2==(2&n)}(c)&&(o=Ry(u,null,e,s,l,a)),function(n,t,e,r,s){const o=mt(n);if(t)s?o?n.addClass(e,r):e.classList.add(r):o?n.removeClass(e,r):e.classList.remove(r);else{let a=-1===r.indexOf("-")?void 0:_n.DashCase;if(null==s)o?n.removeStyle(e,r,a):e.style.removeProperty(r);else{const l="string"==typeof s&&s.endsWith("!important");l&&(s=s.slice(0,-10),a|=_n.Important),o?n.setStyle(e,r,s,a):e.style.setProperty(r,s,l?"important":"")}}}(r,a,Ja(Jt(),e),s,o))}(o,o.data[Jt()],s,s[11],n,s[a+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=$e(function(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(t,e),r,a)}function xh(n,t,e,r,s){let o=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(o=t[l],r=Wo(r,o.hostAttrs,s),o!==n);)l++;return null!==n&&(e.directiveStylingLast=l),r}function Wo(n,t,e){const r=e?1:2;let s=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:s===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yn(n,a,!!e||t[++o]))}return void 0===n?null:n}function Ry(n,t,e,r,s,o){const a=null===t;let l;for(;s>0;){const u=n[s],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let f=e[s+1];f===xe&&(f=h?Ze:void 0);let p=h?md(f,r):d===r?f:void 0;if(c&&!Ol(p)&&(p=md(u,r)),Ol(p)&&(l=p,a))return l;const m=n[s+1];s=a?Yn(m):Oi(m)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(l=md(u,r))}return l}function Ol(n){return void 0!==n}function Is(n,t=""){const e=U(),r=We(),s=n+20,o=r.firstCreatePass?ps(r,s,1,t,null):r.data[s],a=e[s]=function(n,t){return mt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Cl(r,e,a,o),hi(o,!1)}function Go(n,t,e){const r=U(),s=function(n,t,e,r){return Wt(n,Jr(),e)?t+Me(e)+r:xe}(r,n,t,e);return s!==xe&&Ni(r,Jt(),s),Go}const Rr=void 0;var YA=["en",[["a","p"],["AM","PM"],Rr],[["AM","PM"],Rr,Rr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rr,"{1} 'at' {0}",Rr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Fs={};function Xy(n){return n in Fs||(Fs[n]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[n]),Fs[n]}var ne=(()=>((ne=ne||{})[ne.LocaleId=0]="LocaleId",ne[ne.DayPeriodsFormat=1]="DayPeriodsFormat",ne[ne.DayPeriodsStandalone=2]="DayPeriodsStandalone",ne[ne.DaysFormat=3]="DaysFormat",ne[ne.DaysStandalone=4]="DaysStandalone",ne[ne.MonthsFormat=5]="MonthsFormat",ne[ne.MonthsStandalone=6]="MonthsStandalone",ne[ne.Eras=7]="Eras",ne[ne.FirstDayOfWeek=8]="FirstDayOfWeek",ne[ne.WeekendRange=9]="WeekendRange",ne[ne.DateFormat=10]="DateFormat",ne[ne.TimeFormat=11]="TimeFormat",ne[ne.DateTimeFormat=12]="DateTimeFormat",ne[ne.NumberSymbols=13]="NumberSymbols",ne[ne.NumberFormats=14]="NumberFormats",ne[ne.CurrencyCode=15]="CurrencyCode",ne[ne.CurrencySymbol=16]="CurrencySymbol",ne[ne.CurrencyName=17]="CurrencyName",ne[ne.Currencies=18]="Currencies",ne[ne.Directionality=19]="Directionality",ne[ne.PluralCase=20]="PluralCase",ne[ne.ExtraData=21]="ExtraData",ne))();const Nl="en-US";let Jy=Nl;class D_{}class Jk{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${$e(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Os=(()=>{class n{}return n.NULL=new Jk,n})();function eI(){return Ns(xt(),U())}function Ns(n,t){return new cn(Fn(n,t))}let cn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=eI,n})();function tI(n){return n instanceof cn?n.nativeElement:n}class Zo{}let rI=(()=>{class n{}return n.\u0275prov=ye({token:n,providedIn:"root",factory:()=>null}),n})();class Ps{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sI=new Ps("13.0.3"),Lh={};function jl(n,t,e,r,s=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(Ct(o)),Gn(o))for(let l=10;l<o.length;l++){const u=o[l],c=u[1].firstChild;null!==c&&jl(u[1],u,c,r)}const a=e.type;if(8&a)jl(n,t,e.child,r);else if(32&a){const l=Id(e,t);let u;for(;u=l();)r.push(u)}else if(16&a){const l=kb(t,e);if(Array.isArray(l))r.push(...l);else{const u=Po(t[16]);jl(u[1],u,l,r,!0)}}e=s?e.projectionNext:e.next}return r}class Xo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return jl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Gn(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Pd(t,r),fl(e,r))}this._attachedToViewContainer=!1}Cb(this._lView[1],this._lView)}onDestroy(t){iv(this._lView[1],this._lView,null,t)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){tl(!0);try{lh(n,t,e)}finally{tl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Bo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class oI extends Xo{constructor(t){super(t),this._view=t}detectChanges(){hv(this._view)}checkNoChanges(){!function(n){tl(!0);try{hv(n)}finally{tl(!1)}}(this._view)}get context(){return null}}class M_ extends Os{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=zt(t);return new Oh(e,this.ngModule)}}function x_(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const lI=new pe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pb});class Oh extends D_{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(CR).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return x_(this.componentDef.inputs)}get outputs(){return x_(this.componentDef.outputs)}create(t,e,r,s){const o=(s=s||this.ngModule)?function(n,t){return{get:(e,r,s)=>{const o=n.get(e,Lh,s);return o!==Lh||r===Lh?o:t.get(e,r,s)}}}(t,s.injector):t,a=o.get(Zo,dg),l=o.get(rI,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function(n,t,e){if(mt(n))return n.selectRootElement(t,e===$n.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Nd(a.createRenderer(null,this.componentDef),c,function(n){const t=n.toLowerCase();return"svg"===t?ug:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,f=function(n,t){return{components:[],scheduler:n||pb,clean:c1,playerHandler:t||null,flags:0}}(),p=xl(0,null,null,1,0,null,null,null,null,null),m=Ho(null,p,f,h,null,null,a,u,l,o);let b,g;nl(m);try{const v=function(n,t,e,r,s,o){const a=e[1];e[20]=n;const u=ps(a,20,2,"#host",null),c=u.mergedAttrs=t.hostAttrs;null!==c&&(Rl(u,c,!0),null!==n&&(al(s,n,c),null!==u.classes&&jd(s,n,u.classes),null!==u.styles&&Lb(s,n,u.styles)));const d=r.createRenderer(n,t),h=Ho(e,ev(t),null,t.onPush?64:16,e[20],u,r,d,o||null,null);return a.firstCreatePass&&(dl(wo(u,e),a,t.type),lv(a,u),uv(u,e.length,1)),Sl(e,h),e[20]=h}(d,this.componentDef,m,a,u);if(d)if(r)al(u,d,["ng-version",sI.full]);else{const{attrs:y,classes:M}=function(n){const t=[],e=[];let r=1,s=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===s?""!==o&&t.push(o,n[++r]):8===s&&e.push(o);else{if(!Kn(s))break;s=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);y&&al(u,d,y),M&&M.length>0&&jd(u,d,M.join(" "))}if(g=Xc(p,20),void 0!==e){const y=g.projection=[];for(let M=0;M<this.ngContentSelectors.length;M++){const O=e[M];y.push(null!=O?Array.from(O):null)}}b=function(n,t,e,r,s){const o=e[1],a=function(n,t,e){const r=xt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),cv(n,r,t,ms(n,t,1,null),e));const s=Co(t,n,r.directiveStart,r);Ut(s,t);const o=Fn(r,t);return o&&Ut(o,t),s}(o,e,t);if(r.components.push(a),n[8]=a,s&&s.forEach(u=>u(a,t)),t.contentQueries){const u=xt();t.contentQueries(1,a,u.directiveStart)}const l=xt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(er(l.index),ov(e[1],l,0,l.directiveStart,l.directiveEnd,t),av(t,a)),a}(v,this.componentDef,m,f,[A1]),Vo(p,m,null)}finally{il()}return new dI(this.componentType,b,Ns(g,m),m,g)}}class dI extends class{}{constructor(t,e,r,s,o){super(),this.location=r,this._rootLView=s,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new oI(s),this.componentType=t}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Pi{}class S_{}const Bs=new Map;class k_ extends Pi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new M_(this);const r=An(t);this._bootstrapComponents=gi(r.bootstrap),this._r3Injector=wv(t,e,[{provide:Pi,useValue:this},{provide:Os,useValue:this.componentFactoryResolver}],$e(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=$t.THROW_IF_NOT_FOUND,r=Re.Default){return t===$t||t===Pi||t===ch?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Nh extends S_{constructor(t){super(),this.moduleType=t,null!==An(t)&&function(n){const t=new Set;!function e(r){const s=An(r,!0),o=s.id;null!==o&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${$e(t)} vs ${$e(t.name)}`)}(o,Bs.get(o),r),Bs.set(o,r));const a=gi(s.imports);for(const l of a)t.has(l)||(t.add(l),e(l))}(n)}(t)}create(t){return new k_(this.moduleType,t)}}function I_(n,t,e,r,s,o){const a=t+e;return Wt(n,a,s)?function(n,t,e){return n[t]=e}(n,a+1,o?r.call(o,s):r(s)):function(n,t){const e=n[t];return e===xe?void 0:e}(n,a+1)}function B_(n,t,e){const r=n+20,s=U(),o=Xr(s,r);return function(n,t){return n[1].data[t].pure}(s,r)?I_(s,function(){const n=Ce.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),t,o.transform,e,o):o.transform(e)}function Ph(n){return t=>{setTimeout(n,void 0,t)}}const Gt=class extends je{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var u,c,d;let s=t,o=e||(()=>null),a=r;if(t&&"object"==typeof t){const h=t;s=null==(u=h.next)?void 0:u.bind(h),o=null==(c=h.error)?void 0:c.bind(h),a=null==(d=h.complete)?void 0:d.bind(h)}this.__isAsync&&(o=Ph(o),s&&(s=Ph(s)),a&&(a=Ph(a)));const l=super.subscribe({next:s,error:o,complete:a});return t instanceof T&&t.add(l),l}};function AI(){return this._results[_s()]()}class Bh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=_s(),r=Bh.prototype;r[e]||(r[e]=AI)}get changes(){return this._changes||(this._changes=new Gt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const s=Ln(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let s=n[r],o=t[r];if(e&&(s=e(s),o=e(o)),o!==s)return!1}return!0}(r._results,s,e))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=FI,n})();const kI=Bi,II=class extends kI{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=Ho(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(e)),Vo(e,r,t),new Xo(r)}};function FI(){return Ul(xt(),U())}function Ul(n,t){return 4&n.type?new II(t,n,Ns(n,t)):null}let ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=LI,n})();function LI(){return z_(xt(),U())}const OI=ni,H_=class extends OI{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Ns(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){const t=cl(this._hostTNode,this._hostLView);if(Sg(t)){const e=ts(t,this._hostLView),r=es(t);return new ns(e[1].data[r+8],e)}return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=V_(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const s=t.createEmbeddedView(e||{});return this.insert(s,r),s}createComponent(t,e,r,s,o){const a=t&&!("function"==typeof t);let l;if(a)l=e;else{const h=e||{};l=h.index,r=h.injector,s=h.projectableNodes,o=h.ngModuleRef}const u=a?t:new Oh(zt(t)),c=r||this.parentInjector;if(!o&&null==u.ngModule&&c){const h=c.get(Pi,null);h&&(o=h)}const d=u.create(c,s,void 0,o);return this.insert(d.hostView,l),d}insert(t,e){const r=t._lView,s=r[1];if(Gn(r[3])){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const h=r[3],f=new H_(h,h[6],h[3]);f.detach(f.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;!function(n,t,e,r){const s=10+r,o=e.length;r>0&&(e[s-1][4]=t),r<o-10?(t[4]=e[s],Pg(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=128}(s,r,a,o);const l=Vd(o,a),u=r[11],c=wl(u,a[7]);return null!==c&&function(n,t,e,r,s,o){r[0]=s,r[6]=t,Bo(n,r,e,1,s,o)}(s,a[6],u,r,c,l),t.attachToViewContainerRef(),Pg(Hh(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=V_(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Pd(this._lContainer,e);r&&(fl(Hh(this._lContainer),e),Cb(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Pd(this._lContainer,e);return r&&null!=fl(Hh(this._lContainer),e)?new Xo(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function V_(n){return n[8]}function Hh(n){return n[8]||(n[8]=[])}function z_(n,t){let e;const r=t[n.index];if(Gn(r))e=r;else{let s;if(8&n.type)s=Ct(r);else{const o=t[11];s=o.createComment("");const a=Fn(n,t);Mr(o,wl(o,a),s,function(n,t){return mt(n)?n.nextSibling(t):t.nextSibling}(o,a),!1)}t[n.index]=e=dv(r,t,s,n),Sl(t,e)}return new H_(e,n,t)}class Vh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Vh(this.queryList)}setDirty(){this.queryList.setDirty()}}class zh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let o=0;o<r;o++){const a=e.getByIndex(o);s.push(this.queries[a.indexInDeclarationView].clone())}return new zh(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==q_(t,e).matches&&this.queries[e].setDirty()}}class j_{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class jh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const s=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,s);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new jh(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Uh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Uh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const o=r[s];this.matchTNodeWithReadOption(t,e,BI(e,o)),this.matchTNodeWithReadOption(t,e,hl(e,t,o,!1,!1))}else r===Bi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hl(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===cn||s===ni||s===Bi&&4&e.type)this.addMatch(e.index,-2);else{const o=hl(e,t,s,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function BI(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function VI(n,t,e,r){return-1===e?function(n,t){return 11&n.type?Ns(n,t):4&n.type?Ul(n,t):null}(t,n):-2===e?function(n,t,e){return e===cn?Ns(t,n):e===Bi?Ul(t,n):e===ni?z_(t,n):void 0}(n,t,r):Co(n,n[1],e,t)}function U_(n,t,e,r){const s=t[19].queries[r];if(null===s.matches){const o=n.data,a=e.matches,l=[];for(let u=0;u<a.length;u+=2){const c=a[u];l.push(c<0?null:VI(t,o[c],a[u+1],e.metadata.read))}s.matches=l}return s.matches}function $h(n,t,e,r){const s=n.queries.getByIndex(e),o=s.matches;if(null!==o){const a=U_(n,t,s,e);for(let l=0;l<o.length;l+=2){const u=o[l];if(u>0)r.push(a[l/2]);else{const c=o[l+1],d=t[-u];for(let h=10;h<d.length;h++){const f=d[h];f[17]===f[3]&&$h(f[1],f,c,r)}if(null!==d[9]){const h=d[9];for(let f=0;f<h.length;f++){const p=h[f];$h(p[1],p,c,r)}}}}}return r}function ta(n){const t=U(),e=We(),r=yg();sd(r+1);const s=q_(e,r);if(n.dirty&&hg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const o=s.crossesNgTemplate?$h(e,t,r,[]):U_(e,t,s,r);n.reset(o,tI),n.notifyOnChanges()}return!0}return!1}function na(){return n=U(),t=yg(),n[19].queries[t].queryList;var n,t}function W_(n,t,e){const r=new Bh(4==(4&e));iv(n,t,r,r.destroy),null===t[19]&&(t[19]=new zh),t[19].queries.push(new Vh(r))}function G_(n,t,e){null===n.queries&&(n.queries=new jh),n.queries.track(new Uh(t,e))}function q_(n,t){return n.queries.getByIndex(t)}function Wh(n,t){return Ul(n,t)}function ql(...n){}const Kl=new pe("Application Initializer");let Vs=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ql,this.reject=ql,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(Fl(o))e.push(o);else if(sy(o)){const a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});e.push(a)}}Promise.all(e).then(()=>{r()}).catch(s=>{this.reject(s)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Y(Kl,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const ra=new pe("AppId"),lF={provide:ra,useFactory:function(){return`${Zh()}${Zh()}${Zh()}`},deps:[]};function Zh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dw=new pe("Platform Initializer"),sa=new pe("Platform ID"),hw=new pe("appBootstrapListener");let fw=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const Hi=new pe("LocaleId"),pw=new pe("DefaultCurrencyCode");class uF{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Ql=(()=>{class n{compileModuleSync(e){return new Nh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=gi(An(e).declarations).reduce((a,l)=>{const u=zt(l);return u&&a.push(new Oh(u)),a},[]);return new uF(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const dF=(()=>Promise.resolve(0))();function Xh(n){"undefined"==typeof Zone?dF.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Xe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&e,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=Ke.requestAnimationFrame,t=Ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ef(n),n.isCheckStableRunning=!0,Jh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ef(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,s,o,a,l)=>{try{return mw(n),e.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),gw(n)}},onInvoke:(e,r,s,o,a,l,u)=>{try{return mw(n),e.invoke(s,o,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),gw(n)}},onHasTask:(e,r,s,o)=>{e.hasTask(s,o),r===s&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,ef(n),Jh(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,s,o)=>(e.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,s){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+s,t,fF,ql,ql);try{return o.runTask(a,e,r)}finally{o.cancelTask(a)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const fF={};function Jh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ef(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gw(n){n._nesting--,Jh(n)}class gF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gt,this.onMicrotaskEmpty=new Gt,this.onStable=new Gt,this.onError=new Gt}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,s){return t.apply(e,r)}}let tf=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xe.assertNotInAngularZone(),Xh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:s})}whenStable(e,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(Y(Xe))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),bw=(()=>{class n{constructor(){this._applications=new Map,nf.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return nf.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class bF{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let ii,nf=new bF;const vw=new pe("AllowMultipleToken");class yw{constructor(t,e){this.name=t,this.token=e}}function _w(n,t,e=[]){const r=`Platform: ${t}`,s=new pe(r);return(o=[])=>{let a=ww();if(!a||a.injector.get(vw,!1))if(n)n(e.concat(o).concat({provide:s,useValue:!0}));else{const l=e.concat(o).concat({provide:s,useValue:!0},{provide:dh,useValue:"platform"});!function(n){if(ii&&!ii.destroyed&&!ii.injector.get(vw,!1))throw new pn("400","");ii=n.get(Cw);const t=n.get(dw,null);t&&t.forEach(e=>e())}($t.create({providers:l,name:r}))}return function(n){const t=ww();if(!t)throw new pn("401","");return t}()}}function ww(){return ii&&!ii.destroyed?ii:null}let Cw=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const l=function(n,t){let e;return e="noop"===n?new gF:("zone.js"===n?void 0:n)||new Xe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Xe,useValue:l}];return l.run(()=>{const c=$t.create({providers:u,parent:this.injector,name:e.moduleType.name}),d=e.create(c),h=d.injector.get(ds,null);if(!h)throw new pn("402","");return l.runOutsideAngular(()=>{const f=l.onError.subscribe({next:p=>{h.handleError(p)}});d.onDestroy(()=>{rf(this._modules,d),f.unsubscribe()})}),function(n,t,e){try{const r=e();return Fl(r)?r.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(h,l,()=>{const f=d.injector.get(Vs);return f.runInitializers(),f.donePromise.then(()=>(function(n){gn(n,"Expected localeId to be defined"),"string"==typeof n&&(Jy=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Hi,Nl)||Nl),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,r=[]){const s=Ew({},r);return function(n,t,e){const r=new Nh(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(e){const r=e.injector.get(oa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new pn("403","");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pn("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Y($t))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function Ew(n,t){return Array.isArray(t)?t.reduce(Ew,n):le(le({},n),t)}let oa=(()=>{class n{constructor(e,r,s,o,a){this._zone=e,this._injector=r,this._exceptionHandler=s,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new ve(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new ve(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),Xh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),h.unsubscribe()}});this.isStable=function(...n){const t=fo(n),e=function(n,t){return"number"==typeof Lc(n)?n.pop():1/0}(n),r=n;return r.length?1===r.length?Un(r[0]):ho(e)(Pt(r,t)):Ai}(l,u.pipe(function(n={}){const{connector:t=(()=>new je),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=n;return o=>{let a=null,l=null,u=null,c=0,d=!1,h=!1;const f=()=>{null==l||l.unsubscribe(),l=null},p=()=>{f(),a=u=null,d=h=!1},m=()=>{const b=a;p(),null==b||b.unsubscribe()};return Ue((b,g)=>{c++,!h&&!d&&f();const v=u=null!=u?u:t();g.add(()=>{c--,0===c&&!h&&!d&&(l=Oc(m,s))}),v.subscribe(g),a||(a=new jn({next:y=>v.next(y),error:y=>{h=!0,f(),l=Oc(p,e,y),v.error(y)},complete:()=>{d=!0,f(),l=Oc(p,r),v.complete()}}),Pt(b).subscribe(a))})(o)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new pn("405","");let s;s=e instanceof D_?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const o=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Pi),l=s.create($t.NULL,[],r||s.selector,o),u=l.location.nativeElement,c=l.injector.get(tf,null),d=c&&l.injector.get(bw);return c&&d&&d.registerApplication(u,c),l.onDestroy(()=>{this.detachView(l.hostView),rf(this.components,l),d&&d.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new pn("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;rf(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(hw,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(Y(Xe),Y($t),Y(ds),Y(Os),Y(Vs))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function rf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Tw=!0,zs=(()=>{class n{}return n.__NG_ELEMENT_ID__=SF,n})();function SF(n){return function(n,t,e){if(Za(n)&&!e){const r=vn(n.index,t);return new Xo(r,r)}return 47&n.type?new Xo(t[16],t):null}(xt(),U(),16==(16&n))}class Iw{constructor(){}supports(t){return jo(t)}create(t){return new OF(t)}}const LF=(n,t)=>t;class OF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||LF}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,s=0,o=null;for(;e||r;){const a=!r||e&&e.currentIndex<Lw(r,s,o)?e:r,l=Lw(a,s,o),u=a.currentIndex;if(a===r)s--,r=r._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{o||(o=[]);const c=l-s,d=u-s;if(c!=d){for(let f=0;f<c;f++){const p=f<o.length?o[f]:o[f]=0,m=p+f;d<=m&&m<c&&(o[f]=p+1)}o[a.previousIndex]=d-c}}l!==u&&t(a,l,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!jo(t))throw new Error(`Error trying to diff '${$e(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,o,a,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)o=t[l],a=this._trackByFn(l,o),null!==e&&Object.is(e.trackById,a)?(r&&(e=this._verifyReinsertion(e,o,a,l)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,l),r=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[_s()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,l=>{a=this._trackByFn(s,l),null!==e&&Object.is(e.trackById,a)?(r&&(e=this._verifyReinsertion(e,l,a,s)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,a,s),r=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,s){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,s)):t=this._addAfter(new NF(e,r),o,s),t}_verifyReinsertion(t,e,r,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,o=t._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Fw),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class NF{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class Fw{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new PF,this.map.set(e,r)),r.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lw(n,t,e){const r=n.previousIndex;if(null===r)return r;let s=0;return e&&r<e.length&&(s=e[r]),r+t+s}class Ow{constructor(){}supports(t){return t instanceof Map||bh(t)}create(){return new BF}}class BF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||bh(t)))throw new Error(`Error trying to diff '${$e(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(s,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const o=s._prev,a=s._next;return o&&(o._next=a),a&&(a._prev=o),s._next=null,s._prev=null,s}const r=new HF(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class HF{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nw(){return new aa([new Iw])}let aa=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const s=r.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Nw()),deps:[[n,new ls,new pi]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=ye({token:n,providedIn:"root",factory:Nw}),n})();function Pw(){return new js([new Ow])}let js=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const s=r.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Pw()),deps:[[n,new ls,new pi]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(r)return r;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=ye({token:n,providedIn:"root",factory:Pw}),n})();const zF=[new Ow],UF=new aa([new Iw]),$F=new js(zF),WF=_w(null,"core",[{provide:sa,useValue:"unknown"},{provide:Cw,deps:[$t]},{provide:bw,deps:[]},{provide:fw,deps:[]}]),YF=[{provide:oa,useClass:oa,deps:[Xe,$t,ds,Os,Vs]},{provide:lI,deps:[Xe],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Vs,useClass:Vs,deps:[[new pi,Kl]]},{provide:Ql,useClass:Ql,deps:[]},lF,{provide:aa,useFactory:function(){return UF},deps:[]},{provide:js,useFactory:function(){return $F},deps:[]},{provide:Hi,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Nl},deps:[[new ko(Hi),new pi,new ls]]},{provide:pw,useValue:"USD"}];let XF=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Y(oa))},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:YF}),n})(),Zl=null;function ar(){return Zl}const at=new pe("DocumentToken");let kr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:function(){return Y(Bw)},providedIn:"platform"}),n})();const iL=new pe("Location Initialized");let Bw=(()=>{class n extends kr{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ar().getBaseHref(this._doc)}onPopState(e){const r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,s){Hw()?this._history.pushState(e,r,s):this.location.hash=s}replaceState(e,r,s){Hw()?this._history.replaceState(e,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Y(at))},n.\u0275prov=ye({token:n,factory:function(){return new Bw(Y(at))},providedIn:"platform"}),n})();function Hw(){return!!window.history.pushState}function cf(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Vw(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Vi(n){return n&&"?"!==n[0]?"?"+n:n}let Us=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:function(){return function(n){const t=Y(at).location;return new zw(Y(kr),t&&t.origin||"")}()},providedIn:"root"}),n})();const Xl=new pe("appBaseHref");let zw=(()=>{class n extends Us{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return cf(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Vi(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${r}${s}`:r}pushState(e,r,s,o){const a=this.prepareExternalUrl(s+Vi(o));this._platformLocation.pushState(e,r,a)}replaceState(e,r,s,o){const a=this.prepareExternalUrl(s+Vi(o));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,s;null==(s=(r=this._platformLocation).historyGo)||s.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(Y(kr),Y(Xl,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),oL=(()=>{class n extends Us{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=cf(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,s,o){let a=this.prepareExternalUrl(s+Vi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,r,a)}replaceState(e,r,s,o){let a=this.prepareExternalUrl(s+Vi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,s;null==(s=(r=this._platformLocation).historyGo)||s.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(Y(kr),Y(Xl,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),df=(()=>{class n{constructor(e,r){this._subject=new Gt,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Vw(jw(s)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Vi(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,jw(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",s=null){this._platformStrategy.pushState(s,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vi(r)),s)}replaceState(e,r="",s=null){this._platformStrategy.replaceState(s,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vi(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,s;null==(s=(r=this._platformStrategy).historyGo)||s.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(s=>s(e,r))}subscribe(e,r,s){return this._subject.subscribe({next:e,error:r,complete:s})}}return n.normalizeQueryParams=Vi,n.joinWithSlash=cf,n.stripTrailingSlash=Vw,n.\u0275fac=function(e){return new(e||n)(Y(Us),Y(kr))},n.\u0275prov=ye({token:n,factory:function(){return new df(Y(Us),Y(kr))},providedIn:"root"}),n})();function jw(n){return n.replace(/\/index.html$/,"")}var Dt=(()=>((Dt=Dt||{})[Dt.Zero=0]="Zero",Dt[Dt.One=1]="One",Dt[Dt.Two=2]="Two",Dt[Dt.Few=3]="Few",Dt[Dt.Many=4]="Many",Dt[Dt.Other=5]="Other",Dt))();const mL=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Xy(t);if(e)return e;const r=t.split("-")[0];if(e=Xy(r),e)return e;if("en"===r)return YA;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[ne.PluralCase]};class lu{}let $L=(()=>{class n extends lu{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(mL(r||this.locale)(e)){case Dt.Zero:return"zero";case Dt.One:return"one";case Dt.Two:return"two";case Dt.Few:return"few";case Dt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(Y(Hi))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function Zw(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[s,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}let Jw=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new YL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){e0("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){e0("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(Q(ni),Q(Bi))},n.\u0275dir=Lt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class YL{constructor(){this.$implicit=null,this.ngIf=null}}function e0(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${$e(t)}'.`)}class _f{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ca=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Lt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),wf=(()=>{class n{constructor(e,r,s){this.ngSwitch=s,s._addCase(),this._view=new _f(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(Q(ni),Q(Bi),Q(ca,9))},n.\u0275dir=Lt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class tO{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class nO{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}onDestroy(t){}}const iO=new nO,rO=new tO;let n0=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Fl(e))return iO;if(ry(e))return rO;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${$e(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(Q(zs,16))},n.\u0275pipe=an({name:"async",type:n,pure:!1}),n})(),Df=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:[{provide:lu,useClass:$L}]}),n})();const s0="browser";let TO=(()=>{class n{}return n.\u0275prov=ye({token:n,providedIn:"root",factory:()=>new MO(Y(at),window)}),n})();class MO{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const o=s.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}s=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],s-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=o0(this.window.history)||o0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function o0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class a0{}class Tf extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Tf,Zl||(Zl=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(da=da||document.querySelector("base"),da?da.getAttribute("href"):null);return null==e?null:function(n){uu=uu||document.createElement("a"),uu.setAttribute("href",n);const t=uu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Zw(document.cookie,t)}}let uu,da=null;const l0=new pe("TRANSITION_ID"),IO=[{provide:Kl,useFactory:function(n,t,e){return()=>{e.get(Vs).donePromise.then(()=>{const r=ar(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<s.length;o++)r.remove(s[o])})}},deps:[l0,at,$t],multi:!0}];class Mf{static init(){var n;n=new Mf,nf=n}addToWindow(t){Ke.getAngularTestability=(r,s=!0)=>{const o=t.findTestabilityInTree(r,s);if(null==o)throw new Error("Could not find testability for element.");return o},Ke.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ke.getAllAngularRootElements=()=>t.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(r=>{const s=Ke.getAllAngularTestabilities();let o=s.length,a=!1;const l=function(u){a=a||u,o--,0==o&&r(a)};s.forEach(function(u){u.whenStable(l)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:r?ar().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let FO=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const cu=new pe("EventManagerPlugins");let du=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,s){return this._findPluginFor(r).addEventListener(e,r,s)}addGlobalEventListener(e,r,s){return this._findPluginFor(r).addGlobalEventListener(e,r,s)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const s=this._plugins;for(let o=0;o<s.length;o++){const a=s[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Y(cu),Y(Xe))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class u0{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const s=ar().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,r)}}let c0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),ha=(()=>{class n extends c0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,s){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,s.push(r.appendChild(a))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(d0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(e,s,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(d0))}}return n.\u0275fac=function(e){return new(e||n)(Y(at))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function d0(n){ar().remove(n)}const xf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Sf=/%COMP%/g;function hu(n,t,e){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?hu(n,s,e):(s=s.replace(Sf,n),e.push(s))}return e}function p0(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let fu=(()=>{class n{constructor(e,r,s){this.eventManager=e,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Rf(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case $n.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new HO(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(e),s}case 1:case $n.ShadowDom:return new VO(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const s=hu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Y(du),Y(ha),Y(ra))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class Rf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(xf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,s){if(s){e=s+":"+e;const o=xf[s];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const s=xf[r];s?t.removeAttributeNS(s,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,s){s&(_n.DashCase|_n.Important)?t.style.setProperty(e,r,s&_n.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&_n.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,p0(r)):this.eventManager.addEventListener(t,e,p0(r))}}class HO extends Rf{constructor(t,e,r,s){super(t),this.component=r;const o=hu(s+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(Sf,s+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(Sf,s+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class VO extends Rf{constructor(t,e,r,s){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=hu(s.id,s.styles,[]);for(let a=0;a<o.length;a++){const l=document.createElement("style");l.textContent=o[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zO=(()=>{class n extends u0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,s){return e.addEventListener(r,s,!1),()=>this.removeEventListener(e,r,s)}removeEventListener(e,r,s){return e.removeEventListener(r,s)}}return n.\u0275fac=function(e){return new(e||n)(Y(at))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const g0=["alt","control","meta","shift"],UO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},b0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$O={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let WO=(()=>{class n extends u0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,s){const o=n.parseEventName(r),a=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ar().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const r=e.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const o=n._normalizeKey(r.pop());let a="";if(g0.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),a+=u+".")}),a+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static getEventFullKey(e){let r="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&b0.hasOwnProperty(t)&&(t=b0[t]))}return UO[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),g0.forEach(o=>{o!=s&&$O[o](e)&&(r+=o+".")}),r+=s,r}static eventCallback(e,r,s){return o=>{n.getEventFullKey(o)===e&&s.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(Y(at))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const YO=_w(WF,"browser",[{provide:sa,useValue:s0},{provide:dw,useValue:function(){Tf.makeCurrent(),Mf.init()},multi:!0},{provide:at,useFactory:function(){return n=document,Yc=n,document;var n},deps:[]}]),ZO=[{provide:dh,useValue:"root"},{provide:ds,useFactory:function(){return new ds},deps:[]},{provide:cu,useClass:zO,multi:!0,deps:[at,Xe,sa]},{provide:cu,useClass:WO,multi:!0,deps:[at]},{provide:fu,useClass:fu,deps:[du,ha,ra]},{provide:Zo,useExisting:fu},{provide:c0,useExisting:ha},{provide:ha,useClass:ha,deps:[at]},{provide:tf,useClass:tf,deps:[Xe]},{provide:du,useClass:du,deps:[cu,Xe]},{provide:a0,useClass:FO,deps:[]}];let v0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:ra,useValue:e.appId},{provide:l0,useExisting:ra},IO]}}}return n.\u0275fac=function(e){return new(e||n)(Y(n,12))},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:ZO,imports:[Df,XF]}),n})();function Ae(...n){return Pt(n,fo(n))}"undefined"!=typeof window&&window;class Bn extends je{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:lN}=Array,{getPrototypeOf:uN,prototype:cN,keys:dN}=Object;const{isArray:pN}=Array;function vN(...n){const t=fo(n),e=function(n){return D(Lc(n))?n.pop():void 0}(n),{args:r,keys:s}=function(n){if(1===n.length){const t=n[0];if(lN(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&uN(n)===cN}(t)){const e=dN(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}(n);if(0===r.length)return Pt([],t);const o=new ve(function(n,t,e=se){return r=>{w0(t,()=>{const{length:s}=n,o=new Array(s);let a=s,l=s;for(let u=0;u<s;u++)w0(t,()=>{const c=Pt(n[u],t);let d=!1;c.subscribe(new tt(r,h=>{o[u]=h,d||(d=!0,l--),l||r.next(e(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,t,s?a=>function(n,t){return n.reduce((e,r,s)=>(e[r]=t[s],e),{})}(s,a):se));return e?o.pipe(function(n){return qe(t=>function(n,t){return pN(t)?n(...t):n(t)}(n,t))}(e)):o}function w0(n,t,e){n?Ri(e,n,t):t()}const pu=G(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kf(...n){return ho(1)(Pt(n,fo(n)))}function C0(n){return new ve(t=>{Un(n()).subscribe(t)})}function E0(){return Ue((n,t)=>{let e=null;n._refCount++;const r=new tt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,o=e;e=null,s&&(!o||s===o)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class wN extends ve{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,vt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new T;const e=this.getSubject();t.add(this.source.subscribe(new tt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=T.EMPTY)}return t}refCount(){return E0()(this)}}function Ir(n,t){return Ue((e,r)=>{let s=null,o=0,a=!1;const l=()=>a&&!s&&r.complete();e.subscribe(new tt(r,u=>{null==s||s.unsubscribe();let c=0;const d=o++;Un(n(u,d)).subscribe(s=new tt(r,h=>r.next(t?t(u,h,d,c++):h),()=>{s=null,l()}))},()=>{a=!0,l()}))})}function EN(n,t,e,r,s){return(o,a)=>{let l=e,u=t,c=0;o.subscribe(new tt(a,d=>{const h=c++;u=l?n(u,d,h):(l=!0,d),r&&a.next(u)},s&&(()=>{l&&a.next(u),a.complete()})))}}function D0(n,t){return Ue(EN(n,t,arguments.length>=2,!0))}function ur(n,t){return Ue((e,r)=>{let s=0;e.subscribe(new tt(r,o=>n.call(t,o,s++)&&r.next(o)))})}function cr(n){return Ue((t,e)=>{let o,r=null,s=!1;r=t.subscribe(new tt(e,void 0,void 0,a=>{o=Un(n(a,cr(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):s=!0})),s&&(r.unsubscribe(),r=null,o.subscribe(e))})}function $s(n,t){return D(t)?Ft(n,t,1):Ft(n,1)}function If(n){return n<=0?()=>Ai:Ue((t,e)=>{let r=[];t.subscribe(new tt(e,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)e.next(s);e.complete()},void 0,()=>{r=null}))})}function T0(n=DN){return Ue((t,e)=>{let r=!1;t.subscribe(new tt(e,s=>{r=!0,e.next(s)},()=>r?e.complete():e.error(n())))})}function DN(){return new pu}function M0(n){return Ue((t,e)=>{let r=!1;t.subscribe(new tt(e,s=>{r=!0,e.next(s)},()=>{r||e.next(n),e.complete()}))})}function Ws(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ur((s,o)=>n(s,o,r)):se,$a(1),e?M0(t):T0(()=>new pu))}function En(n,t,e){const r=D(n)||t||e?{next:n,error:t,complete:e}:n;return r?Ue((s,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let l=!0;s.subscribe(new tt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;l=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;l=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;l&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):se}class ji{constructor(t,e){this.id=t,this.url=e}}class Ff extends ji{constructor(t,e,r="imperative",s=null){super(t,e),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fa extends ji{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class x0 extends ji{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xN extends ji{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SN extends ji{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RN extends ji{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AN extends ji{constructor(t,e,r,s,o){super(t,e),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kN extends ji{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IN extends ji{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class R0{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FN{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LN{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ON{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NN{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A0{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ne="primary";class PN{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gs(n){return new PN(n)}const k0="ngNavigationCancelingError";function Lf(n){const t=Error("NavigationCancelingError: "+n);return t[k0]=!0,t}function HN(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const s={};for(let o=0;o<r.length;o++){const a=r[o],l=n[o];if(a.startsWith(":"))s[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Ci(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let s;for(let o=0;o<e.length;o++)if(s=e[o],!I0(n[s],t[s]))return!1;return!0}function I0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((s,o)=>r[o]===s)}return n===t}function F0(n){return Array.prototype.concat.apply([],n)}function L0(n){return n.length>0?n[n.length-1]:null}function Bt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ei(n){return sy(n)?n:Fl(n)?Pt(Promise.resolve(n)):Ae(n)}const jN={exact:function P0(n,t,e){if(!Lr(n.segments,t.segments)||!mu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!P0(n.children[r],t.children[r],e))return!1;return!0},subset:B0},O0={exact:function(n,t){return Ci(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>I0(n[e],t[e]))},ignored:()=>!0};function N0(n,t,e){return jN[e.paths](n.root,t.root,e.matrixParams)&&O0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function B0(n,t,e){return H0(n,t,t.segments,e)}function H0(n,t,e,r){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Lr(s,e)||t.hasChildren()||!mu(s,e,r))}if(n.segments.length===e.length){if(!Lr(n.segments,e)||!mu(n.segments,e,r))return!1;for(const s in t.children)if(!n.children[s]||!B0(n.children[s],t.children[s],r))return!1;return!0}{const s=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Lr(n.segments,s)&&mu(n.segments,s,r)&&n.children[Ne])&&H0(n.children[Ne],t,o,r)}}function mu(n,t,e){return t.every((r,s)=>O0[e](n[s].parameters,r.parameters))}class Fr{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return qN.serialize(this)}}class He{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Bt(e,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gu(this)}}class pa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gs(this.parameters)),this._parameterMap}toString(){return $0(this)}}function Lr(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class V0{}class z0{parse(t){const e=new nP(t);return new Fr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ma(t.root,!0)}`,r=function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(s=>`${bu(e)}=${bu(s)}`).join("&"):`${bu(e)}=${bu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${r}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const qN=new z0;function gu(n){return n.segments.map(t=>$0(t)).join("/")}function ma(n,t){if(!n.hasChildren())return gu(n);if(t){const e=n.children[Ne]?ma(n.children[Ne],!1):"",r=[];return Bt(n.children,(s,o)=>{o!==Ne&&r.push(`${o}:${ma(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Bt(n.children,(r,s)=>{s===Ne&&(e=e.concat(t(r,s)))}),Bt(n.children,(r,s)=>{s!==Ne&&(e=e.concat(t(r,s)))}),e}(n,(r,s)=>s===Ne?[ma(n.children[Ne],!1)]:[`${s}:${ma(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ne]?`${gu(n)}/${e[0]}`:`${gu(n)}/(${e.join("//")})`}}function j0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bu(n){return j0(n).replace(/%3B/gi,";")}function Of(n){return j0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vu(n){return decodeURIComponent(n)}function U0(n){return vu(n.replace(/\+/g,"%20"))}function $0(n){return`${Of(n.path)}${function(n){return Object.keys(n).map(t=>`;${Of(t)}=${Of(n[t])}`).join("")}(n.parameters)}`}const ZN=/^[^\/()?;=#]+/;function yu(n){const t=n.match(ZN);return t?t[0]:""}const XN=/^[^=?&#]+/,eP=/^[^&#]+/;class nP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Ne]=new He(t,e)),r}parseSegment(){const t=yu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new pa(vu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yu(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=yu(this.remaining);s&&(r=s,this.capture(r))}t[vu(e)]=vu(r)}parseQueryParam(t){const e=function(n){const t=n.match(XN);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=function(n){const t=n.match(eP);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const s=U0(e),o=U0(r);if(t.hasOwnProperty(s)){let a=t[s];Array.isArray(a)||(a=[a],t[s]=a),a.push(o)}else t[s]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yu(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ne);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[Ne]:new He([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class W0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Nf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Pf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Pf(t,this._root).map(e=>e.value)}}function Nf(n,t){if(n===t.value)return t;for(const e of t.children){const r=Nf(n,e);if(r)return r}return null}function Pf(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Pf(n,e);if(r.length)return r.unshift(t),r}return[]}class Ui{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class G0 extends W0{constructor(t,e){super(t),this.snapshot=e,Bf(this,t)}toString(){return this.snapshot.toString()}}function q0(n,t){const e=function(n,t){const a=new _u([],{},{},"",{},Ne,t,null,n.root,-1,{});return new Q0("",new Ui(a,[]))}(n,t),r=new Bn([new pa("",{})]),s=new Bn({}),o=new Bn({}),a=new Bn({}),l=new Bn(""),u=new Ks(r,s,a,l,o,Ne,t,e.root);return u.snapshot=e.root,new G0(new Ui(u,[]),e)}class Ks{constructor(t,e,r,s,o,a,l,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=s,this.data=o,this.outlet=a,this.component=l,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(qe(t=>Gs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(qe(t=>Gs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function K0(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const s=e[r],o=e[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(o.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:le(le({},t.params),e.params),data:le(le({},t.data),e.data),resolve:le(le({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class _u{constructor(t,e,r,s,o,a,l,u,c,d,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=s,this.data=o,this.outlet=a,this.component=l,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Q0 extends W0{constructor(t,e){super(e),this.url=t,Bf(this,e)}toString(){return Y0(this._root)}}function Bf(n,t){t.value._routerState=n,t.children.forEach(e=>Bf(n,e))}function Y0(n){const t=n.children.length>0?` { ${n.children.map(Y0).join(", ")} } `:"";return`${n.value}${t}`}function Hf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ci(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ci(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ci(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ci(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vf(n,t){const e=Ci(n.params,t.params)&&function(n,t){return Lr(n,t)&&n.every((e,r)=>Ci(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Vf(n.parent,t.parent))}function ga(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(r=>{for(const s of e.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return ga(n,r,s);return ga(n,r)})}(n,t,e);return new Ui(r,s)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>ga(n,l)),a}}const r=function(n){return new Ks(new Bn(n.url),new Bn(n.params),new Bn(n.queryParams),new Bn(n.fragment),new Bn(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(o=>ga(n,o));return new Ui(r,s)}}function wu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ba(n){return"object"==typeof n&&null!=n&&n.outlets}function zf(n,t,e,r,s){let o={};return r&&Bt(r,(a,l)=>{o[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),new Fr(e.root===n?t:Z0(e.root,n,t),o,s)}function Z0(n,t,e){const r={};return Bt(n.children,(s,o)=>{r[o]=s===t?e:Z0(s,t,e)}),new He(n.segments,r)}class X0{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&wu(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(ba);if(s&&s!==L0(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jf{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function J0(n,t,e){if(n||(n=new He([],{})),0===n.segments.length&&n.hasChildren())return Cu(n,t,e);const r=function(n,t,e){let r=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=e.length)return o;const a=n.segments[s],l=e[r];if(ba(l))break;const u=`${l}`,c=r<e.length-1?e[r+1]:null;if(s>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!tC(u,c,a))return o;r+=2}else{if(!tC(u,{},a))return o;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,t,e),s=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new He(n.segments.slice(0,r.pathIndex),{});return o.children[Ne]=new He(n.segments.slice(r.pathIndex),n.children),Cu(o,0,s)}return r.match&&0===s.length?new He(n.segments,{}):r.match&&!n.hasChildren()?Uf(n,t,e):r.match?Cu(n,0,s):Uf(n,t,e)}function Cu(n,t,e){if(0===e.length)return new He(n.segments,{});{const r=function(n){return ba(n[0])?n[0].outlets:{[Ne]:n}}(e),s={};return Bt(r,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[a]=J0(n.children[a],t,o))}),Bt(n.children,(o,a)=>{void 0===r[a]&&(s[a]=o)}),new He(n.segments,s)}}function Uf(n,t,e){const r=n.segments.slice(0,t);let s=0;for(;s<e.length;){const o=e[s];if(ba(o)){const u=pP(o.outlets);return new He(r,u)}if(0===s&&wu(e[0])){r.push(new pa(n.segments[t].path,eC(e[0]))),s++;continue}const a=ba(o)?o.outlets[Ne]:`${o}`,l=s<e.length-1?e[s+1]:null;a&&l&&wu(l)?(r.push(new pa(a,eC(l))),s+=2):(r.push(new pa(a,{})),s++)}return new He(r,{})}function pP(n){const t={};return Bt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Uf(new He([],{}),0,e))}),t}function eC(n){const t={};return Bt(n,(e,r)=>t[r]=`${e}`),t}function tC(n,t,e){return n==e.path&&Ci(t,e.parameters)}class gP{constructor(t,e,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=s}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Hf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const s=qs(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,s[a],r),delete s[a]}),Bt(s,(o,a)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const s=t.value,o=e?e.value:null;if(s===o)if(s.component){const a=r.getContext(s.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),s=r&&t.value.component?r.children:e,o=qs(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],s);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),s=r&&t.value.component?r.children:e,o=qs(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const s=qs(e);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],r),this.forwardEvent(new NN(o.value.snapshot))}),t.children.length&&this.forwardEvent(new LN(t.value.snapshot))}activateRoutes(t,e,r){const s=t.value,o=e?e.value:null;if(Hf(s),s===o)if(s.component){const a=r.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(s.component){const a=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const l=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Hf(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),u=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=s,a.resolver=u,a.outlet&&a.outlet.activateWith(s,u),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}}class $f{constructor(t,e){this.routes=t,this.module=e}}function dr(n){return"function"==typeof n}function Or(n){return n instanceof Fr}const va=Symbol("INITIAL_VALUE");function ya(){return Ir(n=>vN(n.map(t=>t.pipe($a(1),function(...n){const t=fo(n);return Ue((e,r)=>{(t?kf(n,e,t):kf(n,e)).subscribe(r)})}(va)))).pipe(D0((t,e)=>{let r=!1;return e.reduce((s,o,a)=>s!==va?s:(o===va&&(r=!0),r||!1!==o&&a!==e.length-1&&!Or(o)?s:o),t)},va),ur(t=>t!==va),qe(t=>Or(t)?t:!0===t),$a(1)))}class EP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _a,this.attachRef=null}}class _a{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new EP,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Wf=(()=>{class n{constructor(e,r,s,o,a){this.parentContexts=e,this.location=r,this.resolver=s,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new Gt,this.deactivateEvents=new Gt,this.attachEvents=new Gt,this.detachEvents=new Gt,this.name=o||Ne,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,u=new DP(e,l,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(Q(_a),Q(ni),Q(Os),function(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let s=0;for(;s<r;){const o=e[s];if(Mg(o))break;if(0===o)s+=2;else if("number"==typeof o)for(s++;s<r&&"string"==typeof e[s];)s++;else{if(o===t)return e[s+1];s+=2}}}return null}(xt(),n)}("name"),Q(zs))},n.\u0275dir=Lt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class DP{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ks?this.route:t===_a?this.childContexts:this.parent.get(t,e)}}let nC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ci({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&un(0,"router-outlet")},directives:[Wf],encapsulation:2}),n})();function iC(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];TP(r,MP(t,r))}}function TP(n,t){n.children&&iC(n.children,t)}function MP(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Gf(n){const t=n.children&&n.children.map(Gf),e=t?fn(le({},n),{children:t}):le({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ne&&(e.component=nC),e}function Hn(n){return n.outlet||Ne}function rC(n,t){const e=n.filter(r=>Hn(r)===t);return e.push(...n.filter(r=>Hn(r)!==t)),e}const sC={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Eu(n,t,e){var l;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?le({},sC):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||HN)(e,n,t);if(!s)return le({},sC);const o={};Bt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?le(le({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!=(l=s.posParams)?l:{}}}function Du(n,t,e,r,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>Tu(n,t,r)&&Hn(r)!==Ne)}(n,e,r)){const a=new He(t,function(n,t,e,r){const s={};s[Ne]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Hn(o)!==Ne){const a=new He([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,s[Hn(o)]=a}return s}(n,t,r,new He(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>Tu(n,t,r))}(n,e,r)){const a=new He(n.segments,function(n,t,e,r,s,o){const a={};for(const l of r)if(Tu(n,e,l)&&!s[Hn(l)]){const u=new He([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===o?n.segments.length:t.length,a[Hn(l)]=u}return le(le({},s),a)}(n,t,e,r,n.children,s));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const o=new He(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Tu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function oC(n,t,e,r){return!!(Hn(n)===r||r!==Ne&&Tu(t,e,n))&&("**"===n.path||Eu(t,n,e).matched)}function aC(n,t,e){return 0===t.length&&!n.children[e]}class wa{constructor(t){this.segmentGroup=t||null}}class lC{constructor(t){this.urlTree=t}}function Mu(n){return new ve(t=>t.error(new wa(n)))}function uC(n){return new ve(t=>t.error(new lC(n)))}function kP(n){return new ve(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class LP{constructor(t,e,r,s,o){this.configLoader=e,this.urlSerializer=r,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Pi)}apply(){const t=Du(this.urlTree.root,[],[],this.config).segmentGroup,e=new He(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ne).pipe(qe(o=>this.createUrlTree(qf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cr(o=>{if(o instanceof lC)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof wa?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ne).pipe(qe(s=>this.createUrlTree(qf(s),t.queryParams,t.fragment))).pipe(cr(s=>{throw s instanceof wa?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const s=t.segments.length>0?new He([],{[Ne]:t}):t;return new Fr(s,e,r)}expandSegmentGroup(t,e,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(qe(o=>new He([],o))):this.expandSegment(t,r,e,r.segments,s,!0)}expandChildren(t,e,r){const s=[];for(const o of Object.keys(r.children))"primary"===o?s.unshift(o):s.push(o);return Pt(s).pipe($s(o=>{const a=r.children[o],l=rC(e,o);return this.expandSegmentGroup(t,l,a,o).pipe(qe(u=>({segment:u,outlet:o})))}),D0((o,a)=>(o[a.outlet]=a.segment,o),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ur((s,o)=>n(s,o,r)):se,If(1),e?M0(t):T0(()=>new pu))}())}expandSegment(t,e,r,s,o,a){return Pt(r).pipe($s(l=>this.expandSegmentAgainstRoute(t,e,r,l,s,o,a).pipe(cr(c=>{if(c instanceof wa)return Ae(null);throw c}))),Ws(l=>!!l),cr((l,u)=>{if(l instanceof pu||"EmptyError"===l.name){if(aC(e,s,o))return Ae(new He([],{}));throw new wa(e)}throw l}))}expandSegmentAgainstRoute(t,e,r,s,o,a,l){return oC(s,e,o,a)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,o,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,s,o,a):Mu(e):Mu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,s,o,a){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,s,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,s,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,s){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uC(o):this.lineralizeSegments(r,o).pipe(Ft(a=>{const l=new He(a,{});return this.expandSegment(t,l,e,a,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,s,o,a){const{matched:l,consumedSegments:u,lastChild:c,positionalParamSegments:d}=Eu(e,s,o);if(!l)return Mu(e);const h=this.applyRedirectCommands(u,s.redirectTo,d);return s.redirectTo.startsWith("/")?uC(h):this.lineralizeSegments(s,h).pipe(Ft(f=>this.expandSegment(t,e,r,f.concat(o.slice(c)),a,!1)))}matchSegmentAgainstRoute(t,e,r,s,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ae(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(qe(f=>(r._loadedConfig=f,new He(s,{})))):Ae(new He(s,{}));const{matched:a,consumedSegments:l,lastChild:u}=Eu(e,r,s);if(!a)return Mu(e);const c=s.slice(u);return this.getChildConfig(t,r,s).pipe(Ft(h=>{const f=h.module,p=h.routes,{segmentGroup:m,slicedSegments:b}=Du(e,l,c,p),g=new He(m.segments,m.children);if(0===b.length&&g.hasChildren())return this.expandChildren(f,p,g).pipe(qe(O=>new He(l,O)));if(0===p.length&&0===b.length)return Ae(new He(l,{}));const v=Hn(r)===o;return this.expandSegment(f,g,p,b,v?Ne:o,!0).pipe(qe(M=>new He(l.concat(M.segments),M.children)))}))}getChildConfig(t,e,r){return e.children?Ae(new $f(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ae(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(Ft(s=>{return s?this.configLoader.load(t.injector,e).pipe(qe(o=>(e._loadedConfig=o,o))):(n=e,new ve(t=>t.error(Lf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ae(new $f([],t))}runCanLoadGuards(t,e,r){const s=e.canLoad;return s&&0!==s.length?Ae(s.map(a=>{const l=t.get(a);let u;if((n=l)&&dr(n.canLoad))u=l.canLoad(e,r);else{if(!dr(l))throw new Error("Invalid CanLoad guard");u=l(e,r)}var n;return Ei(u)})).pipe(ya(),En(a=>{if(!Or(a))return;const l=Lf(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw l.url=a,l}),qe(a=>!0===a)):Ae(!0)}lineralizeSegments(t,e){let r=[],s=e.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ae(r);if(s.numberOfChildren>1||!s.children[Ne])return kP(t.redirectTo);s=s.children[Ne]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,s){const o=this.createSegmentGroup(t,e.root,r,s);return new Fr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Bt(t,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const l=s.substring(1);r[o]=e[l]}else r[o]=s}),r}createSegmentGroup(t,e,r,s){const o=this.createSegments(t,e.segments,r,s);let a={};return Bt(e.children,(l,u)=>{a[u]=this.createSegmentGroup(t,l,r,s)}),new He(o,a)}createSegments(t,e,r,s){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,s):this.findOrReturn(o,r))}findPosParam(t,e,r){const s=r[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let r=0;for(const s of e){if(s.path===t.path)return e.splice(r),s;r++}return t}}function qf(n){const t={};for(const r of Object.keys(n.children)){const o=qf(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function(n){if(1===n.numberOfChildren&&n.children[Ne]){const t=n.children[Ne];return new He(n.segments.concat(t.segments),t.children)}return n}(new He(n.segments,t))}class cC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xu{constructor(t,e){this.component=t,this.route=e}}function PP(n,t,e){const r=n._root;return Ca(r,t?t._root:null,e,[r.value])}function Su(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Ca(n,t,e,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=qs(t);return n.children.forEach(a=>{(function(n,t,e,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Lr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Lr(n.url,t.url)||!Ci(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vf(n,t)||!Ci(n.queryParams,t.queryParams);default:return!Vf(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new cC(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Ca(n,t,o.component?l?l.children:null:e,r,s),u&&l&&l.outlet&&l.outlet.isActivated&&s.canDeactivateChecks.push(new xu(l.outlet.component,a))}else a&&Ea(t,l,s),s.canActivateChecks.push(new cC(r)),Ca(n,null,o.component?l?l.children:null:e,r,s)})(a,o[a.value.outlet],e,r.concat([a.value]),s),delete o[a.value.outlet]}),Bt(o,(a,l)=>Ea(a,e.getContext(l),s)),s}function Ea(n,t,e){const r=qs(n),s=n.value;Bt(r,(o,a)=>{Ea(o,s.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new xu(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class YP{}function dC(n){return new ve(t=>t.error(n))}class XP{constructor(t,e,r,s,o,a){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}recognize(){const t=Du(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ne);if(null===e)return null;const r=new _u([],Object.freeze({}),Object.freeze(le({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ne,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ui(r,e),o=new Q0(this.url,s);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,r=K0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const o of Object.keys(e.children)){const a=e.children[o],l=rC(t,o),u=this.processSegmentGroup(l,a,o);if(null===u)return null;r.push(...u)}const s=hC(r);return s.sort((t,e)=>t.value.outlet===Ne?-1:e.value.outlet===Ne?1:t.value.outlet.localeCompare(e.value.outlet)),s}processSegment(t,e,r,s){for(const o of t){const a=this.processSegmentAgainstRoute(o,e,r,s);if(null!==a)return a}return aC(e,r,s)?[]:null}processSegmentAgainstRoute(t,e,r,s){if(t.redirectTo||!oC(t,e,r,s))return null;let o,a=[],l=[];if("**"===t.path){const p=r.length>0?L0(r).parameters:{};o=new _u(r,p,Object.freeze(le({},this.urlTree.queryParams)),this.urlTree.fragment,mC(t),Hn(t),t.component,t,fC(e),pC(e)+r.length,gC(t))}else{const p=Eu(e,t,r);if(!p.matched)return null;a=p.consumedSegments,l=r.slice(p.lastChild),o=new _u(a,p.parameters,Object.freeze(le({},this.urlTree.queryParams)),this.urlTree.fragment,mC(t),Hn(t),t.component,t,fC(e),pC(e)+a.length,gC(t))}const u=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:d}=Du(e,a,l,u.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution);var n;if(0===d.length&&c.hasChildren()){const p=this.processChildren(u,c);return null===p?null:[new Ui(o,p)]}if(0===u.length&&0===d.length)return[new Ui(o,[])];const h=Hn(t)===s,f=this.processSegment(u,c,d,h?Ne:s);return null===f?null:[new Ui(o,f)]}}function t2(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hC(n){const t=[],e=new Set;for(const r of n){if(!t2(r)){t.push(r);continue}const s=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...r.children),e.add(s)):t.push(r)}for(const r of e){const s=hC(r.children);t.push(new Ui(r.value,s))}return t.filter(r=>!e.has(r))}function fC(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function pC(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function mC(n){return n.data||{}}function gC(n){return n.resolve||{}}function Kf(n){return Ir(t=>{const e=n(t);return e?Pt(e).pipe(qe(()=>t)):Ae(t)})}class c2 extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qf=new pe("ROUTES");class bC{constructor(t,e,r,s){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=o.create(t);return new $f(F0(a.injector.get(Qf,void 0,Re.Self|Re.Optional)).map(Gf),a)}),cr(o=>{throw e._loader$=void 0,o}));return e._loader$=new wN(s,()=>new je).pipe(E0()),e._loader$}loadModuleFactory(t){return Ei(t()).pipe(Ft(e=>e instanceof S_?Ae(e):Pt(this.compiler.compileModuleAsync(e))))}}class h2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function f2(n){throw n}function p2(n,t,e){return t.parse("/")}function vC(n,t){return Ae(null)}const m2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dn=(()=>{class n{constructor(e,r,s,o,a,l,u){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=s,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je,this.errorHandler=f2,this.malformedUriErrorHandler=p2,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vC,afterPreactivation:vC},this.urlHandlingStrategy=new h2,this.routeReuseStrategy=new c2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Pi),this.console=a.get(fw);const h=a.get(Xe);this.isNgZoneEnabled=h instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Fr(new He([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bC(a,l,f=>this.triggerEvent(new S0(f)),f=>this.triggerEvent(new R0(f))),this.routerState=q0(this.currentUrlTree,this.rootComponentType),this.transitions=new Bn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(ur(s=>0!==s.id),qe(s=>fn(le({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ir(s=>{let o=!1,a=!1;return Ae(s).pipe(En(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?fn(le({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ir(l=>{const u=this.browserUrlTree.toString(),c=!this.navigated||l.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ru(l.source)&&(this.browserUrlTree=l.extractedUrl),Ae(l).pipe(Ir(h=>{const f=this.transitions.getValue();return r.next(new Ff(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions.getValue()?Ai:Promise.resolve(h)}),function(n,t,e,r){return Ir(s=>function(n,t,e,r,s){return new LP(n,t,e,r,s).apply()}(n,t,e,s.extractedUrl,r).pipe(qe(o=>fn(le({},s),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),En(h=>{this.currentNavigation=fn(le({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function(n,t,e,r,s){return Ft(o=>function(n,t,e,r,s="emptyOnly",o="legacy"){try{const a=new XP(n,t,e,r,s,o).recognize();return null===a?dC(new YP):Ae(a)}catch(a){return dC(a)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),r,s).pipe(qe(a=>fn(le({},o),{targetSnapshot:a}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),En(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(p,h)}this.browserUrlTree=h.urlAfterRedirects}const f=new SN(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);r.next(f)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:p,source:m,restoredState:b,extras:g}=l,v=new Ff(f,this.serializeUrl(p),m,b);r.next(v);const y=q0(p,this.rootComponentType).snapshot;return Ae(fn(le({},l),{targetSnapshot:y,urlAfterRedirects:p,extras:fn(le({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,l.resolve(null),Ai}),Kf(l=>{const{targetSnapshot:u,id:c,extractedUrl:d,rawUrl:h,extras:{skipLocationChange:f,replaceUrl:p}}=l;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:d,rawUrlTree:h,skipLocationChange:!!f,replaceUrl:!!p})}),En(l=>{const u=new RN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),qe(l=>fn(le({},l),{guards:PP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function(n,t){return Ft(e=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?Ae(fn(le({},e),{guardsResult:!0})):function(n,t,e,r){return Pt(n).pipe(Ft(s=>function(n,t,e,r,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ae(o.map(l=>{const u=Su(l,t,s);let c;if(function(n){return n&&dr(n.canDeactivate)}(u))c=Ei(u.canDeactivate(n,t,e,r));else{if(!dr(u))throw new Error("Invalid CanDeactivate guard");c=Ei(u(n,t,e,r))}return c.pipe(Ws())})).pipe(ya()):Ae(!0)}(s.component,s.route,e,t,r)),Ws(s=>!0!==s,!0))}(a,r,s,n).pipe(Ft(l=>l&&function(n){return"boolean"==typeof n}(l)?function(n,t,e,r){return Pt(t).pipe($s(s=>kf(function(n,t){return null!==n&&t&&t(new FN(n)),Ae(!0)}(s.route.parent,r),function(n,t){return null!==n&&t&&t(new ON(n)),Ae(!0)}(s.route,r),function(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>C0(()=>Ae(a.guards.map(u=>{const c=Su(u,a.node,e);let d;if(function(n){return n&&dr(n.canActivateChild)}(c))d=Ei(c.canActivateChild(r,n));else{if(!dr(c))throw new Error("Invalid CanActivateChild guard");d=Ei(c(r,n))}return d.pipe(Ws())})).pipe(ya())));return Ae(o).pipe(ya())}(n,s.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ae(!0);const s=r.map(o=>C0(()=>{const a=Su(o,t,e);let l;if(function(n){return n&&dr(n.canActivate)}(a))l=Ei(a.canActivate(t,n));else{if(!dr(a))throw new Error("Invalid CanActivate guard");l=Ei(a(t,n))}return l.pipe(Ws())}));return Ae(s).pipe(ya())}(n,s.route,e))),Ws(s=>!0!==s,!0))}(r,o,n,t):Ae(l)),qe(l=>fn(le({},e),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),En(l=>{if(Or(l.guardsResult)){const c=Lf(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw c.url=l.guardsResult,c}const u=new AN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(u)}),ur(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),Kf(l=>{if(l.guards.canActivateChecks.length)return Ae(l).pipe(En(u=>{const c=new kN(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Ir(u=>{let c=!1;return Ae(u).pipe(function(n,t){return Ft(e=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=e;if(!s.length)return Ae(e);let o=0;return Pt(s).pipe($s(a=>function(n,t,e,r){return function(n,t,e,r){const s=Object.keys(n);if(0===s.length)return Ae({});const o={};return Pt(s).pipe(Ft(a=>function(n,t,e,r){const s=Su(n,t,r);return Ei(s.resolve?s.resolve(t,e):s(t,e))}(n[a],t,e,r).pipe(En(l=>{o[a]=l}))),If(1),Ft(()=>Object.keys(o).length===s.length?Ae(o):Ai))}(n._resolve,n,t,r).pipe(qe(o=>(n._resolvedData=o,n.data=le(le({},n.data),K0(n,e).resolve),null)))}(a.route,r,n,t)),En(()=>o++),If(1),Ft(a=>o===s.length?Ae(e):Ai))})}(this.paramsInheritanceStrategy,this.ngModule.injector),En({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),En(u=>{const c=new IN(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Kf(l=>{const{targetSnapshot:u,id:c,extractedUrl:d,rawUrl:h,extras:{skipLocationChange:f,replaceUrl:p}}=l;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:d,rawUrlTree:h,skipLocationChange:!!f,replaceUrl:!!p})}),qe(l=>{const u=function(n,t,e){const r=ga(n,t._root,e?e._root:void 0);return new G0(r,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return fn(le({},l),{targetRouterState:u})}),En(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>qe(r=>(new gP(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),En({next(){o=!0},complete(){o=!0}}),function(n){return Ue((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var l;o||a||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null==(l=this.currentNavigation)?void 0:l.id)===s.id&&(this.currentNavigation=null)}),cr(l=>{if(a=!0,function(n){return n&&n[k0]}(l)){const u=Or(l.url);u||(this.navigated=!0,this.restoreHistory(s,!0));const c=new x0(s.id,this.serializeUrl(s.extractedUrl),l.message);r.next(c),u?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),h={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ru(s.source)};this.scheduleNavigation(d,"imperative",null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const u=new xN(s.id,this.serializeUrl(s.extractedUrl),l);r.next(u);try{s.resolve(this.errorHandler(l))}catch(c){s.reject(c)}}return Ai}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(le(le({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var l;const s={replaceUrl:!0},o=(null==(l=e.state)?void 0:l.navigationId)?e.state:null;if(o){const u=le({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){iC(e),this.config=e.map(Gf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,c=s||this.routerState.root,d=u?this.currentUrlTree.fragment:a;let h=null;switch(l){case"merge":h=le(le({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),function(n,t,e,r,s){if(0===e.length)return zf(t.root,t.root,t,r,s);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new X0(!0,0,n);let t=0,e=!1;const r=n.reduce((s,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Bt(o.outlets,(u,c)=>{l[c]="string"==typeof u?u.split("/"):u}),[...s,{outlets:l}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===a?(o.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?e=!0:".."===l?t++:""!=l&&s.push(l))}),s):[...s,o]},[]);return new X0(e,t,r)}(e);if(o.toRoot())return zf(t.root,new He([],{}),t,r,s);const a=function(n,t,e){if(n.isAbsolute)return new jf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new jf(o,o===t.root,0)}const r=wu(n.commands[0])?0:1;return function(n,t,e){let r=n,s=t,o=e;for(;o>s;){if(o-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new jf(r,!1,s-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,t,n),l=a.processChildren?Cu(a.segmentGroup,a.index,o.commands):J0(a.segmentGroup,a.index,o.commands);return zf(a.segmentGroup,l,t,r,s)}(c,this.currentUrlTree,e,h,null!=d?d:null)}navigateByUrl(e,r={skipLocationChange:!1}){const s=Or(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return r}isActive(e,r){let s;if(s=!0===r?le({},m2):!1===r?le({},g2):r,Or(e))return N0(this.currentUrlTree,e,s);const o=this.parseUrl(e);return N0(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.keys(e).reduce((r,s)=>{const o=e[s];return null!=o&&(r[s]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new fa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,s,o,a){var v,y,M;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,u=Ru(r)&&l&&!Ru(l.source),c=l.rawUrl.toString()===e.toString(),d=l.id===(null==(v=this.currentNavigation)?void 0:v.id);if(u&&c&&d)return Promise.resolve(!0);let f,p,m;a?(f=a.resolve,p=a.reject,m=a.promise):m=new Promise((O,j)=>{f=O,p=j});const b=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),g=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!=(y=this.browserPageId)?y:0:(null!=(M=this.browserPageId)?M:0)+1):g=0,this.setTransition({id:b,targetPageId:g,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:f,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(O=>Promise.reject(O))}setBrowserUrl(e,r){const s=this.urlSerializer.serialize(e),o=le(le({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(e,r=!1){var s,o;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(s=this.currentNavigation)?void 0:s.finalUrl)||0===a?this.currentUrlTree===(null==(o=this.currentNavigation)?void 0:o.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const s=new x0(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){Ch()},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function Ru(n){return"imperative"!==n}class yC{}class _C{preload(t,e){return Ae(null)}}let wC=(()=>{class n{constructor(e,r,s,o){this.router=e,this.injector=s,this.preloadingStrategy=o,this.loader=new bC(s,r,u=>e.triggerEvent(new S0(u)),u=>e.triggerEvent(new R0(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ur(e=>e instanceof fa),$s(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Pi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const s=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const a=o._loadedConfig;s.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?s.push(this.preloadConfig(e,o)):o.children&&s.push(this.processRoutes(e,o.children));return Pt(s).pipe(ho(),qe(o=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ae(r._loadedConfig):this.loader.load(e.injector,r)).pipe(Ft(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(Y(Dn),Y(Ql),Y($t),Y(yC))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),Xf=(()=>{class n{constructor(e,r,s={}){this.router=e,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ff?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof A0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new A0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Ch()},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const Nr=new pe("ROUTER_CONFIGURATION"),CC=new pe("ROUTER_FORROOT_GUARD"),w2=[df,{provide:V0,useClass:z0},{provide:Dn,useFactory:function(n,t,e,r,s,o,a={},l,u){const c=new Dn(null,n,t,e,r,s,F0(o));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,c),a.enableTracing&&c.events.subscribe(d=>{var h,f;null==(h=console.group)||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null==(f=console.groupEnd)||f.call(console)}),c},deps:[V0,_a,df,$t,Ql,Qf,Nr,[class{},new pi],[class{},new pi]]},_a,{provide:Ks,useFactory:function(n){return n.routerState.root},deps:[Dn]},wC,_C,class{preload(t,e){return e().pipe(cr(()=>Ae(null)))}},{provide:Nr,useValue:{enableTracing:!1}}];function C2(){return new yw("Router",Dn)}let EC=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[w2,DC(e),{provide:CC,useFactory:T2,deps:[[Dn,new pi,new ls]]},{provide:Nr,useValue:r||{}},{provide:Us,useFactory:D2,deps:[kr,[new ko(Xl),new pi],Nr]},{provide:Xf,useFactory:E2,deps:[Dn,TO,Nr]},{provide:yC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:_C},{provide:yw,multi:!0,useFactory:C2},[Jf,{provide:Kl,multi:!0,useFactory:R2,deps:[Jf]},{provide:TC,useFactory:A2,deps:[Jf]},{provide:hw,multi:!0,useExisting:TC}]]}}static forChild(e){return{ngModule:n,providers:[DC(e)]}}}return n.\u0275fac=function(e){return new(e||n)(Y(CC,8),Y(Dn,8))},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({}),n})();function E2(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Xf(n,t,e)}function D2(n,t,e={}){return e.useHash?new oL(n,t):new zw(n,t)}function T2(n){return"guarded"}function DC(n){return[{provide:Fx,multi:!0,useValue:n},{provide:Qf,multi:!0,useValue:n}]}let Jf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je}appInitializer(){return this.injector.get(iL,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(l=>r=l),o=this.injector.get(Dn),a=this.injector.get(Nr);return"disabled"===a.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Ae(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),s})}bootstrapListener(e){const r=this.injector.get(Nr),s=this.injector.get(wC),o=this.injector.get(Xf),a=this.injector.get(Dn),l=this.injector.get(oa);e===l.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&a.initialNavigation(),s.setUpPreloading(),o.init(),a.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(Y($t))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function R2(n){return n.appInitializer.bind(n)}function A2(n){return n.bootstrapListener.bind(n)}const TC=new pe("Router Initializer"),I2=[];let F2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:[{provide:Xl,useValue:"/webview"}],imports:[[EC.forRoot(I2)],EC]}),n})();class MC{}class xC{}class $i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const s=e.slice(0,r),o=s.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const s=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...r),this.headers.set(e,s);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===o.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class L2{encodeKey(t){return SC(t)}encodeValue(t){return SC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const N2=/%(\d[a-f0-9])/gi,P2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function SC(n){return encodeURIComponent(n).replace(N2,(t,e)=>{var r;return null!=(r=P2[e])?r:t})}function RC(n){return`${n}`}class hr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new L2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[a,l]=-1==o?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],u=e.get(a)||[];u.push(l),e.set(a,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const s=t[r];Array.isArray(s)?s.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new hr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(RC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const s=r.indexOf(RC(t.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class B2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function AC(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function kC(n){return"undefined"!=typeof Blob&&n instanceof Blob}function IC(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Da{constructor(t,e,r,s){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,o=s):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new $i),this.context||(this.context=new B2),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new hr,this.urlWithParams=e}serializeBody(){return null===this.body?null:AC(this.body)||kC(this.body)||IC(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof hr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IC(this.body)?null:kC(this.body)?this.body.type||null:AC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var h;const e=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const d=null!=(h=t.context)?h:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((f,p)=>f.set(p,t.setHeaders[p]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,p)=>f.set(p,t.setParams[p]),c)),new Da(e,r,o,{params:c,headers:u,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Mt=(()=>((Mt=Mt||{})[Mt.Sent=0]="Sent",Mt[Mt.UploadProgress=1]="UploadProgress",Mt[Mt.ResponseHeader=2]="ResponseHeader",Mt[Mt.DownloadProgress=3]="DownloadProgress",Mt[Mt.Response=4]="Response",Mt[Mt.User=5]="User",Mt))();class ep{constructor(t,e=200,r="OK"){this.headers=t.headers||new $i,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class tp extends ep{constructor(t={}){super(t),this.type=Mt.ResponseHeader}clone(t={}){return new tp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Au extends ep{constructor(t={}){super(t),this.type=Mt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Au({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class FC extends ep{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function np(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ku=(()=>{class n{constructor(e){this.handler=e}request(e,r,s={}){let o;if(e instanceof Da)o=e;else{let u,c;u=s.headers instanceof $i?s.headers:new $i(s.headers),s.params&&(c=s.params instanceof hr?s.params:new hr({fromObject:s.params})),o=new Da(e,r,void 0!==s.body?s.body:null,{headers:u,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ae(o).pipe($s(u=>this.handler.handle(u)));if(e instanceof Da||"events"===s.observe)return a;const l=a.pipe(ur(u=>u instanceof Au));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(qe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(qe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(qe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(qe(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new hr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,s={}){return this.request("PATCH",e,np(s,r))}post(e,r,s={}){return this.request("POST",e,np(s,r))}put(e,r,s={}){return this.request("PUT",e,np(s,r))}}return n.\u0275fac=function(e){return new(e||n)(Y(MC))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class LC{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const OC=new pe("HTTP_INTERCEPTORS");let z2=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const j2=/^\)\]\}',?\n/;let NC=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve(r=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((p,m)=>s.setRequestHeader(p,m.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const p=e.detectContentTypeHeader();null!==p&&s.setRequestHeader("Content-Type",p)}if(e.responseType){const p=e.responseType.toLowerCase();s.responseType="json"!==p?p:"text"}const o=e.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const p=1223===s.status?204:s.status,m=s.statusText||"OK",b=new $i(s.getAllResponseHeaders()),g=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new tp({headers:b,status:p,statusText:m,url:g}),a},u=()=>{let{headers:p,status:m,statusText:b,url:g}=l(),v=null;204!==m&&(v=void 0===s.response?s.responseText:s.response),0===m&&(m=v?200:0);let y=m>=200&&m<300;if("json"===e.responseType&&"string"==typeof v){const M=v;v=v.replace(j2,"");try{v=""!==v?JSON.parse(v):null}catch(O){v=M,y&&(y=!1,v={error:O,text:v})}}y?(r.next(new Au({body:v,headers:p,status:m,statusText:b,url:g||void 0})),r.complete()):r.error(new FC({error:v,headers:p,status:m,statusText:b,url:g||void 0}))},c=p=>{const{url:m}=l(),b=new FC({error:p,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});r.error(b)};let d=!1;const h=p=>{d||(r.next(l()),d=!0);let m={type:Mt.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===e.responseType&&!!s.responseText&&(m.partialText=s.responseText),r.next(m)},f=p=>{let m={type:Mt.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),r.next(m)};return s.addEventListener("load",u),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),e.reportProgress&&(s.addEventListener("progress",h),null!==o&&s.upload&&s.upload.addEventListener("progress",f)),s.send(o),r.next({type:Mt.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",u),s.removeEventListener("timeout",c),e.reportProgress&&(s.removeEventListener("progress",h),null!==o&&s.upload&&s.upload.removeEventListener("progress",f)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(Y(a0))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const ip=new pe("XSRF_COOKIE_NAME"),rp=new pe("XSRF_HEADER_NAME");class PC{}let ap,$2=(()=>{class n{constructor(e,r,s){this.doc=e,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zw(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(Y(at),Y(sa),Y(ip))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),sp=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(Y(PC),Y(rp))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),W2=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(OC,[]);this.chain=r.reduceRight((s,o)=>new LC(s,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(Y(xC),Y($t))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),G2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:sp,useClass:z2}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:ip,useValue:e.cookieName}:[],e.headerName?{provide:rp,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:[sp,{provide:OC,useExisting:sp,multi:!0},{provide:PC,useClass:$2},{provide:ip,useValue:"XSRF-TOKEN"},{provide:rp,useValue:"X-XSRF-TOKEN"}]}),n})(),q2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:[ku,{provide:MC,useClass:W2},NC,{provide:xC,useExisting:NC}],imports:[[G2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),BC=(()=>{class n{constructor(e){this.http=e,this.credentialReady=new Gt,this.userToken=null;let r=window.localStorage.getItem("discord_data");r&&(this.userToken=JSON.parse(r))}isIdentified(){return null!=this.userToken}identifyWithDiscordCredentials(e){this.http.get(`/identify/${window.location.protocol}/${window.location.host}/${e}`).subscribe(r=>{document.cookie=`discord_access_token=${r.access_token}`,document.cookie=`discord_refresh_token=${r.refresh_token}`,document.cookie=`discord_user_id=${r.user.id}`,document.cookie=`discord_user_name=${r.user.username}`,window.localStorage.setItem("discord_data",JSON.stringify(r)),this.userToken=r,window.location.reload()})}getUserToken(){return this.userToken}}return n.\u0275fac=function(e){return new(e||n)(Y(ku))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tB(n,t){return n===t}function HC(n){return null!=n&&"false"!=`${n}`}function op(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ta(n){return n instanceof cn?n.nativeElement:n}try{ap="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ap=!1}let Ma,lp,fr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===s0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ap)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Y(sa))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({}),n})();function Iu(n){return function(){if(null==Ma&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ma=!0}))}finally{Ma=Ma||!1}return Ma}()?n:!!n.capture}function jC(n){if(function(){if(null==lp){const n="undefined"!=typeof document?document.head:null;lp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lp}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function xa(n){return n.composedPath?n.composedPath()[0]:n.target}let aB=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:[aB]}),n})();function qC(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function KC(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const mB=new pe("cdk-input-modality-detector-options"),gB={ignoreKeys:[18,17,224,91,16]},Zs=Iu({passive:!0,capture:!0});let bB=(()=>{class n{constructor(e,r,s,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Bn(null),this._lastTouchMs=0,this._onKeydown=a=>{var l,u;(null==(u=null==(l=this._options)?void 0:l.ignoreKeys)?void 0:u.some(c=>c===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=xa(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qC(a)?"keyboard":"mouse"),this._mostRecentTarget=xa(a))},this._onTouchstart=a=>{KC(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xa(a))},this._options=le(le({},gB),o),this.modalityDetected=this._modality.pipe(ur((t,e)=>1<=e)),this.modalityChanged=this.modalityDetected.pipe(function(n,t=se){return n=null!=n?n:tB,Ue((e,r)=>{let s,o=!0;e.subscribe(new tt(r,a=>{const l=t(a);(o||!n(s,l))&&(o=!1,s=l,r.next(a))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Zs),s.addEventListener("mousedown",this._onMousedown,Zs),s.addEventListener("touchstart",this._onTouchstart,Zs)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Zs),document.removeEventListener("mousedown",this._onMousedown,Zs),document.removeEventListener("touchstart",this._onTouchstart,Zs))}}return n.\u0275fac=function(e){return new(e||n)(Y(fr),Y(Xe),Y(at),Y(mB,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yB=new pe("cdk-focus-monitor-default-options"),Lu=Iu({passive:!0,capture:!0});let _B=(()=>{class n{constructor(e,r,s,o,a){this._ngZone=e,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new je,this._rootNodeFocusAndBlurListener=l=>{const u=xa(l),c="focus"===l.type?this._onFocus:this._onBlur;for(let d=u;d;d=d.parentElement)c.call(this,l,d)},this._document=o,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,r=!1){const s=Ta(e);if(!this._platform.isBrowser||1!==s.nodeType)return Ae(null);const o=jC(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return r&&(a.checkChildren=!0),a.subject;const l={checkChildren:r,subject:new je,rootNode:o};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const r=Ta(e),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(e,r,s){const o=Ta(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([l,u])=>this._originChanged(l,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const s=this._elementInfo.get(r),o=xa(e);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(e,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(s.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lu),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lu)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(function(n){return Ue((t,e)=>{Un(n).subscribe(new tt(e,()=>e.complete(),I)),!e.closed&&t.subscribe(e)})}(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lu),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lu),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,s){this._setClasses(e,r),this._emitOrigin(s.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((s,o)=>{(o===e||s.checkChildren&&o.contains(e))&&r.push([o,s])}),r}}return n.\u0275fac=function(e){return new(e||n)(Y(Xe),Y(fr),Y(bB),Y(at,8),Y(yB,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YC="cdk-high-contrast-black-on-white",ZC="cdk-high-contrast-white-on-black",up="cdk-high-contrast-active";let XC=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(up),e.remove(YC),e.remove(ZC),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(up),e.add(YC)):2===r&&(e.add(up),e.add(ZC))}}}return n.\u0275fac=function(e){return new(e||n)(Y(fr),Y(at))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wB=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(Y(XC))},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({imports:[[VC,UC]]}),n})(),JC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({}),n})();class tE{}const Wi="*";function nE(n,t=null){return{type:2,steps:n,options:t}}function Br(n){return{type:6,styles:n,offset:null}}function iE(n){Promise.resolve(null).then(n)}class Xs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){iE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class rE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,s=0;const o=this.players.length;0==o?iE(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(s)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function sE(){return"undefined"!=typeof window&&void 0!==window.document}function pp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function pr(n){switch(n.length){case 0:return new Xs;case 1:return n[0];default:return new rE(n)}}function oE(n,t,e,r,s={},o={}){const a=[],l=[];let u=-1,c=null;if(r.forEach(d=>{const h=d.offset,f=h==u,p=f&&c||{};Object.keys(d).forEach(m=>{let b=m,g=d[m];if("offset"!==m)switch(b=t.normalizePropertyName(b,a),g){case"!":g=s[m];break;case Wi:g=o[m];break;default:g=t.normalizeStyleValue(m,b,g,a)}p[b]=g}),f||l.push(p),c=p,u=h}),a.length){const d="\n - ";throw new Error(`Unable to animate due to the following errors:${d}${a.join(d)}`)}return l}function mp(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&gp(e,"start",n)));break;case"done":n.onDone(()=>r(e&&gp(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&gp(e,"destroy",n)))}}function gp(n,t,e){const r=e.totalTime,o=bp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function bp(n,t,e,r,s="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:s,totalTime:o,disabled:!!a}}function Tn(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function aE(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let vp=(n,t)=>!1,yp=(n,t)=>!1,lE=(n,t,e)=>[];const uE=pp();(uE||"undefined"!=typeof Element)&&(vp=sE()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),yp=(()=>{if(uE||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):yp}})(),lE=(n,t,e)=>{let r=[];if(e){const s=n.querySelectorAll(t);for(let o=0;o<s.length;o++)r.push(s[o])}else{const s=n.querySelector(t);s&&r.push(s)}return r});let Hr=null,cE=!1;function _p(n){Hr||(Hr=("undefined"!=typeof document?document.body:null)||{},cE=!!Hr.style&&"WebkitAppearance"in Hr.style);let t=!0;return Hr.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Hr.style,!t&&cE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Hr.style)),t}const wp=yp,Cp=vp,Ep=lE;function dE(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let hE=(()=>{class n{validateStyleProperty(e){return _p(e)}matchesElement(e,r){return wp(e,r)}containsElement(e,r){return Cp(e,r)}query(e,r,s){return Ep(e,r,s)}computeStyle(e,r,s){return s||""}animate(e,r,s,o,a,l=[],u){return new Xs(s,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),Dp=(()=>{class n{}return n.NOOP=new hE,n})();const Tp="ng-enter",Ou="ng-leave",Nu="ng-trigger",Pu=".ng-trigger",pE="ng-animating",Mp=".ng-animating";function Vr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xp(parseFloat(t[1]),t[2])}function xp(n,t){return"s"===t?1e3*n:n}function Bu(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,o=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=xp(parseFloat(l[1]),l[2]);const u=l[3];null!=u&&(o=xp(parseFloat(u),l[4]));const c=l[5];c&&(a=c)}else s=n;if(!e){let l=!1,u=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:o,easing:a}}(n,t,e)}function Js(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function mr(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Js(n,e);return e}function gE(n,t,e){return e?t+":"+e+";":""}function bE(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=gE(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=gE(0,FB(e),n.style[e]));n.setAttribute("style",t)}function Di(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const s=Rp(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[s]),n.style[s]=t[r]}),pp()&&bE(n))}function zr(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Rp(e);n.style[r]=""}),pp()&&bE(n))}function Sa(n){return Array.isArray(n)?1==n.length?n[0]:nE(n):n}const Sp=new RegExp("{{\\s*(.+?)\\s*}}","g");function vE(n){let t=[];if("string"==typeof n){let e;for(;e=Sp.exec(n);)t.push(e[1]);Sp.lastIndex=0}return t}function Hu(n,t,e){const r=n.toString(),s=r.replace(Sp,(o,a)=>{let l=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),l=""),l.toString()});return s==r?n:s}function Vu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const IB=/-+([a-z0-9])/g;function Rp(n){return n.replace(IB,(...t)=>t[1].toUpperCase())}function FB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function yE(n,t){return 0===n||0===t}function _E(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let o=t[0],a=[];if(r.forEach(l=>{o.hasOwnProperty(l)||a.push(l),o[l]=e[l]}),a.length)for(var s=1;s<t.length;s++){let l=t[s];a.forEach(function(u){l[u]=Ap(n,u)})}}return t}function Mn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ap(n,t){return window.getComputedStyle(n)[t]}function LB(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const u=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=r[1],o=r[2],a=r[3];t.push(wE(s,a));"<"==o[0]&&!("*"==s&&"*"==a)&&t.push(wE(a,s))}(r,e,t)):e.push(n),e}const ju=new Set(["true","1"]),Uu=new Set(["false","0"]);function wE(n,t){const e=ju.has(n)||Uu.has(n),r=ju.has(t)||Uu.has(t);return(s,o)=>{let a="*"==n||n==s,l="*"==t||t==o;return!a&&e&&"boolean"==typeof s&&(a=s?ju.has(n):Uu.has(n)),!l&&r&&"boolean"==typeof o&&(l=o?ju.has(t):Uu.has(t)),a&&l}}const PB=new RegExp("s*:selfs*,?","g");function kp(n,t,e){return new BB(n).build(t,e)}class BB{constructor(t){this._driver=t}build(t,e){const r=new zB(e);return this._resetContextStyleTimingState(r),Mn(this,Sa(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,s=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const u=l,c=u.name;c.toString().split(/\s*,\s*/).forEach(d=>{u.name=d,o.push(this.visitState(u,e))}),u.name=c}else if(1==l.type){const u=this.visitTransition(l,e);r+=u.queryCount,s+=u.depCount,a.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:s,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,a=s||{};if(r.styles.forEach(l=>{if($u(l)){const u=l;Object.keys(u).forEach(c=>{vE(u[c]).forEach(d=>{a.hasOwnProperty(d)||o.add(d)})})}}),o.size){const l=Vu(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${l.join(", ")}`)}}return{type:0,name:t.name,style:r,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Mn(this,Sa(t.animation),e);return{type:1,matchers:LB(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:jr(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Mn(this,r,e)),options:jr(t.options)}}visitGroup(t,e){const r=e.currentTime;let s=0;const o=t.steps.map(a=>{e.currentTime=r;const l=Mn(this,a,e);return s=Math.max(s,e.currentTime),l});return e.currentTime=s,{type:3,steps:o,options:jr(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Ip(Bu(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Ip(0,0,"");return o.dynamic=!0,o.strValue=r,o}return e=e||Bu(r,t),Ip(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let s,o=t.styles?t.styles:Br({});if(5==o.type)s=this.visitKeyframes(o,e);else{let a=t.styles,l=!1;if(!a){l=!0;const c={};r.easing&&(c.easing=r.easing),a=Br(c)}e.currentTime+=r.duration+r.delay;const u=this.visitStyle(a,e);u.isEmptyStep=l,s=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Wi?r.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):r.push(a)}):r.push(t.styles);let s=!1,o=null;return r.forEach(a=>{if($u(a)){const l=a,u=l.easing;if(u&&(o=u,delete l.easing),!s)for(let c in l)if(l[c].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let s=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return void e.errors.push(`The provided animation property "${l}" is not a supported CSS property for animations`);const u=e.collectedStyles[e.currentQuerySelector],c=u[l];let d=!0;c&&(o!=s&&o>=c.startTime&&s<=c.endTime&&(e.errors.push(`The CSS property "${l}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${s}ms"`),d=!1),o=c.startTime),d&&(u[l]={startTime:o,endTime:s}),e.options&&function(n,t,e){const r=t.params||{},s=vE(n);s.length&&s.forEach(o=>{r.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(a[l],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let o=0;const a=[];let l=!1,u=!1,c=0;const d=t.steps.map(v=>{const y=this._makeStyleAst(v,e);let M=null!=y.offset?y.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if($u(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if($u(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(y.styles),O=0;return null!=M&&(o++,O=y.offset=M),u=u||O<0||O>1,l=l||O<c,c=O,a.push(O),y});u&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&e.errors.push("Please ensure that all keyframe offsets are in order");const h=t.steps.length;let f=0;o>0&&o<h?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(f=1/(h-1));const p=h-1,m=e.currentTime,b=e.currentAnimateTimings,g=b.duration;return d.forEach((v,y)=>{const M=f>0?y==p?1:f*y:a[y],O=M*g;e.currentTime=m+b.delay+O,b.duration=O,this._validateStyleAst(v,e),v.offset=M,r.styles.push(v)}),r}visitReference(t,e){return{type:8,animation:Mn(this,Sa(t.animation),e),options:jr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jr(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jr(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(PB,"")),n=n.replace(/@\*/g,Pu).replace(/@\w+/g,e=>Pu+"-"+e.substr(1)).replace(/:animating/g,Mp),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Tn(e.collectedStyles,e.currentQuerySelector,{});const l=Mn(this,Sa(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:jr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Bu(t.timings,e.errors,!0);return{type:12,animation:Mn(this,Sa(t.animation),e),timings:r,options:null}}}class zB{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function $u(n){return!Array.isArray(n)&&"object"==typeof n}function jr(n){return n?(n=Js(n)).params&&(n.params=function(n){return n?Js(n):null}(n.params)):n={},n}function Ip(n,t,e){return{duration:n,delay:t,easing:e}}function Fp(n,t,e,r,s,o,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:s,delay:o,totalTime:s+o,easing:a,subTimeline:l}}class Wu{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const GB=new RegExp(":enter","g"),KB=new RegExp(":leave","g");function Lp(n,t,e,r,s,o={},a={},l,u,c=[]){return(new QB).buildKeyframes(n,t,e,r,s,o,a,l,u,c)}class QB{buildKeyframes(t,e,r,s,o,a,l,u,c,d=[]){c=c||new Wu;const h=new Op(t,e,c,s,o,d,[]);h.options=u,h.currentTimeline.setStyles([a],null,h.errors,u),Mn(this,r,h);const f=h.timelines.filter(p=>p.containsAnimation());if(f.length&&Object.keys(l).length){const p=f[f.length-1];p.allowOnlyTimelineStyles()||p.setStyles([l],null,h.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[Fp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const s=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(r,s,s.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const a=null!=r.duration?Vr(r.duration):null,l=null!=r.delay?Vr(r.delay):null;return 0!==a&&t.forEach(u=>{const c=e.appendInstructionToTimeline(u,a,l);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Mn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let s=e;const o=t.options;if(o&&(o.params||o.delay)&&(s=e.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Gu);const a=Vr(o.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Mn(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let s=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Vr(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);o&&l.delayNextStep(o),Mn(this,a,l),s=Math.max(s,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Bu(e.params?Hu(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),s.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,s=e.currentAnimateTimings;!s&&r.getCurrentStyleProperties().length&&r.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,s=e.currentTimeline.duration,o=r.duration,l=e.createSubContext().currentTimeline;l.easing=r.easing,t.styles.forEach(u=>{l.forwardTime((u.offset||0)*o),l.setStyles(u.styles,u.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(s+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,s=t.options||{},o=s.delay?Vr(s.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Gu);let a=r;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=l.length;let u=null;l.forEach((c,d)=>{e.currentQueryIndex=d;const h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(u=h.currentTimeline),Mn(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,s=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),l=a*(e.currentQueryTotal-1);let u=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=l-u;break;case"full":u=r.currentStaggerTime}const d=e.currentTimeline;u&&d.delayNextStep(u);const h=d.currentTime;Mn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=s.currentTime-h+(s.startTime-r.currentTimeline.startTime)}}const Gu={};class Op{constructor(t,e,r,s,o,a,l,u){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new qu(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let s=this.options;null!=r.duration&&(s.duration=Vr(r.duration)),null!=r.delay&&(s.delay=Vr(r.delay));const o=r.params;if(o){let a=s.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Hu(o[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(s=>{r[s]=e[s]})}}return t}createSubContext(t=null,e,r){const s=e||this.element,o=new Op(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Gu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},o=new YB(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,s,o,a){let l=[];if(s&&l.push(this.element),t.length>0){t=(t=t.replace(GB,"."+this._enterClassName)).replace(KB,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),l.push(...c)}return!o&&0==l.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),l}}class qu{constructor(t,e,r,s){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Wi,this._currentKeyframe[e]=Wi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,s){e&&(this._previousKeyframe.easing=e);const o=s&&s.params||{},a=function(n,t){const e={};let r;return n.forEach(s=>{"*"===s?(r=r||Object.keys(t),r.forEach(o=>{e[o]=Wi})):mr(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const u=Hu(a[l],o,r);this._pendingStyles[l]=u,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:Wi),this._updateStyle(l,u)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],s=t._styleSummary[e];(!r||s.time>r.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((l,u)=>{const c=mr(l,!0);Object.keys(c).forEach(d=>{const h=c[d];"!"==h?t.add(d):h==Wi&&e.add(d)}),r||(c.offset=u/this.duration),s.push(c)});const o=t.size?Vu(t.values()):[],a=e.size?Vu(e.values()):[];if(r){const l=s[0],u=Js(l);l.offset=0,u.offset=1,s=[l,u]}return Fp(this.element,s,o,a,this.duration,this.startTime,this.easing,!1)}}class YB extends qu{constructor(t,e,r,s,o,a,l=!1){super(t,e,a.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=r+e,l=e/a,u=mr(t[0],!1);u.offset=0,o.push(u);const c=mr(t[0],!1);c.offset=DE(l),o.push(c);const d=t.length-1;for(let h=1;h<=d;h++){let f=mr(t[h],!1);f.offset=DE((e+f.offset*r)/a),o.push(f)}r=a,e=0,s="",t=o}return Fp(this.element,t,this.preStyleProps,this.postStyleProps,r,e,s,!0)}}function DE(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Np{}class XB extends Np{normalizePropertyName(t,e){return Rp(t)}normalizeStyleValue(t,e,r,s){let o="";const a=r.toString().trim();if(JB[e]&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&s.push(`Please provide a CSS unit value for ${t}:${r}`)}return a+o}}const JB=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function TE(n,t,e,r,s,o,a,l,u,c,d,h,f){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:o,toState:r,toStyles:a,timelines:l,queriedElements:u,preStyleProps:c,postStyleProps:d,totalTime:h,errors:f}}const Pp={};class ME{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,s){return function(n,t,e,r,s){return n.some(o=>o(t,e,r,s))}(this.ast.matchers,t,e,r,s)}buildStyles(t,e,r){const s=this._stateStyles["*"],o=this._stateStyles[t],a=s?s.buildStyles(e,r):{};return o?o.buildStyles(e,r):a}build(t,e,r,s,o,a,l,u,c,d){const h=[],f=this.ast.options&&this.ast.options.params||Pp,m=this.buildStyles(r,l&&l.params||Pp,h),b=u&&u.params||Pp,g=this.buildStyles(s,b,h),v=new Set,y=new Map,M=new Map,O="void"===s,j={params:le(le({},f),b)},ie=d?[]:Lp(t,e,this.ast.animation,o,a,m,g,j,c,h);let ue=0;if(ie.forEach(Se=>{ue=Math.max(Se.duration+Se.delay,ue)}),h.length)return TE(e,this._triggerName,r,s,O,m,g,[],[],y,M,ue,h);ie.forEach(Se=>{const de=Se.element,$=Tn(y,de,{});Se.preStyleProps.forEach(he=>$[he]=!0);const Te=Tn(M,de,{});Se.postStyleProps.forEach(he=>Te[he]=!0),de!==e&&v.add(de)});const me=Vu(v.values());return TE(e,this._triggerName,r,s,O,m,g,ie,me,y,M,ue)}}class nH{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},s=Js(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!=a&&(s[o]=a)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const a=o;Object.keys(a).forEach(l=>{let u=a[l];u.length>1&&(u=Hu(u,s,e));const c=this.normalizer.normalizePropertyName(l,e);u=this.normalizer.normalizeStyleValue(l,c,u,e),r[c]=u})}}),r}}class rH{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new nH(s.style,s.options&&s.options.params||{},r)}),xE(this.states,"true","1"),xE(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new ME(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new ME(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,s){return this.transitionFactories.find(a=>a.match(t,e,r,s))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function xE(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const oH=new Wu;class aH{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],s=kp(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,r){const s=t.element,o=oE(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const s=[],o=this._animations[t];let a;const l=new Map;if(o?(a=Lp(this._driver,e,o,Tp,Ou,{},{},r,oH,s),a.forEach(d=>{const h=Tn(l,d.element,{});d.postStyleProps.forEach(f=>h[f]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);l.forEach((d,h)=>{Object.keys(d).forEach(f=>{d[f]=this._driver.computeStyle(h,f,Wi)})});const c=pr(a.map(d=>{const h=l.get(d.element);return this._buildPlayer(d,{},h)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,s){const o=bp(e,"","","");return mp(this._getPlayer(t),r,o,s),()=>{}}command(t,e,r,s){if("register"==r)return void this.register(t,s[0]);if("create"==r)return void this.create(t,e,s[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const SE="ng-animate-queued",RE="ng-animate-disabled",AE=".ng-animate-disabled",dH=[],kE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vn="__ng_removed";class Bp{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=null!=(n=r?t.value:t)?n:null,r){const o=Js(t);delete o.value,this.options=o}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(s=>{null==r[s]&&(r[s]=e[s])})}}}const Ra="void",Hp=new Bp(Ra);class fH{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,zn(e,this._hostClassName)}listen(t,e,r,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);var n;const o=Tn(this._elementListeners,t,[]),a={name:e,phase:r,callback:s};o.push(a);const l=Tn(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(zn(t,Nu),zn(t,Nu+"-"+e),l[e]=Hp),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(a);u>=0&&o.splice(u,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,s=!0){const o=this._getTrigger(e),a=new Vp(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(zn(t,Nu),zn(t,Nu+"-"+e),this._engine.statesByElement.set(t,l={}));let u=l[e];const c=new Bp(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),l[e]=c,u||(u=Hp),c.value!==Ra&&u.value===c.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let s=0;s<e.length;s++){const o=e[s];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(u.params,c.params)){const b=[],g=o.matchStyles(u.value,u.params,b),v=o.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{zr(t,g),Di(t,v)})}return}const f=Tn(this._engine.playersByElement,t,[]);f.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let p=o.matchTransition(u.value,c.value,t,c.params),m=!1;if(!p){if(!s)return;p=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:u,toState:c,player:a,isFallbackTransition:m}),m||(zn(t,SE),a.onStart(()=>{eo(t,SE)})),a.onDone(()=>{let b=this.players.indexOf(a);b>=0&&this.players.splice(b,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(a);v>=0&&g.splice(v,1)}}),this.players.push(a),f.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Pu,!0);r.forEach(s=>{if(s[Vn])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,r,s){const o=this._engine.statesByElement.get(t);if(o){const a=[];if(Object.keys(o).forEach(l=>{if(this._triggers[l]){const u=this.trigger(t,l,Ra,s);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&pr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const s=new Set;e.forEach(o=>{const a=o.name;if(s.has(a))return;s.add(a);const u=this._triggers[a].fallbackTransition,c=r[a]||Hp,d=new Bp(Ra),h=new Vp(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:u,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(r.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Vn];(!o||o===kE)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){zn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const o=r.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==r.triggerName){const u=bp(o,r.triggerName,r.fromState.value,r.toState.value);u._data=t,mp(r.player,l.phase,u,l.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(r)}),this._queue=[],e.sort((r,s)=>{const o=r.transition.ast.depCount,a=s.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class pH{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new fH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let s=!1;for(let o=r;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let s=this._namespaceLookup[t];s&&s.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const s=Object.keys(r);for(let o=0;o<s.length;o++){const a=r[s[o]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&e.add(l)}}}return e}trigger(t,e,r,s){if(Ku(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,s),!0}return!1}insertNode(t,e,r,s){if(!Ku(e))return;const o=e[Vn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,r)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),zn(t,RE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),eo(t,RE))}removeNode(t,e,r,s){if(Ku(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),r){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,r,s){this.collectedLeaveElements.push(e),e[Vn]={namespaceId:t,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,s,o){return Ku(e)?this._fetchNamespace(t).listen(e,r,s,o):()=>{}}_buildInstruction(t,e,r,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,s,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Pu,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Mp,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return pr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Vn];if(e&&e.setForRemoval){if(t[Vn]=kE,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,AE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,AE,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)zn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?pr(e).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new Wu,s=[],o=new Map,a=[],l=new Map,u=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(E=>{d.add(E);const k=this.driver.query(E,".ng-animate-queued",!0);for(let N=0;N<k.length;N++)d.add(k[N])});const h=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=LE(f,this.collectedEnterElements),m=new Map;let b=0;p.forEach((E,k)=>{const N=Tp+b++;m.set(k,N),E.forEach(P=>zn(P,N))});const g=[],v=new Set,y=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const k=this.collectedLeaveElements[E],N=k[Vn];N&&N.setForRemoval&&(g.push(k),v.add(k),N.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(P=>v.add(P)):y.add(k))}const M=new Map,O=LE(f,Array.from(v));O.forEach((E,k)=>{const N=Ou+b++;M.set(k,N),E.forEach(P=>zn(P,N))}),t.push(()=>{p.forEach((E,k)=>{const N=m.get(k);E.forEach(P=>eo(P,N))}),O.forEach((E,k)=>{const N=M.get(k);E.forEach(P=>eo(P,N))}),g.forEach(E=>{this.processLeaveNode(E)})});const j=[],ie=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(N=>{const P=N.player,ee=N.element;if(j.push(P),this.collectedEnterElements.length){const Ge=ee[Vn];if(Ge&&Ge.setForMove)return void P.destroy()}const R=!h||!this.driver.containsElement(h,ee),V=M.get(ee),Ee=m.get(ee),ce=this._buildInstruction(N,r,Ee,V,R);if(ce.errors&&ce.errors.length)ie.push(ce);else{if(R)return P.onStart(()=>zr(ee,ce.fromStyles)),P.onDestroy(()=>Di(ee,ce.toStyles)),void s.push(P);if(N.isFallbackTransition)return P.onStart(()=>zr(ee,ce.fromStyles)),P.onDestroy(()=>Di(ee,ce.toStyles)),void s.push(P);ce.timelines.forEach(Ge=>Ge.stretchStartingKeyframe=!0),r.append(ee,ce.timelines),a.push({instruction:ce,player:P,element:ee}),ce.queriedElements.forEach(Ge=>Tn(l,Ge,[]).push(P)),ce.preStyleProps.forEach((Ge,Be)=>{const we=Object.keys(Ge);if(we.length){let Qe=u.get(Be);Qe||u.set(Be,Qe=new Set),we.forEach(ui=>Qe.add(ui))}}),ce.postStyleProps.forEach((Ge,Be)=>{const we=Object.keys(Ge);let Qe=c.get(Be);Qe||c.set(Be,Qe=new Set),we.forEach(ui=>Qe.add(ui))})}});if(ie.length){const E=[];ie.forEach(k=>{E.push(`@${k.triggerName} has failed due to:\n`),k.errors.forEach(N=>E.push(`- ${N}\n`))}),j.forEach(k=>k.destroy()),this.reportError(E)}const ue=new Map,me=new Map;a.forEach(E=>{const k=E.element;r.has(k)&&(me.set(k,k),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,ue))}),s.forEach(E=>{const k=E.element;this._getPreviousPlayers(k,!1,E.namespaceId,E.triggerName,null).forEach(P=>{Tn(ue,k,[]).push(P),P.destroy()})});const Se=g.filter(E=>NE(E,u,c)),de=new Map;FE(de,this.driver,y,c,Wi).forEach(E=>{NE(E,u,c)&&Se.push(E)});const Te=new Map;p.forEach((E,k)=>{FE(Te,this.driver,new Set(E),u,"!")}),Se.forEach(E=>{const k=de.get(E),N=Te.get(E);de.set(E,le(le({},k),N))});const he=[],w=[],B={};a.forEach(E=>{const{element:k,player:N,instruction:P}=E;if(r.has(k)){if(d.has(k))return N.onDestroy(()=>Di(k,P.toStyles)),N.disabled=!0,N.overrideTotalTime(P.totalTime),void s.push(N);let ee=B;if(me.size>1){let V=k;const Ee=[];for(;V=V.parentNode;){const ce=me.get(V);if(ce){ee=ce;break}Ee.push(V)}Ee.forEach(ce=>me.set(ce,ee))}const R=this._buildAnimation(N.namespaceId,P,ue,o,Te,de);if(N.setRealPlayer(R),ee===B)he.push(N);else{const V=this.playersByElement.get(ee);V&&V.length&&(N.parentPlayer=pr(V)),s.push(N)}}else zr(k,P.fromStyles),N.onDestroy(()=>Di(k,P.toStyles)),w.push(N),d.has(k)&&s.push(N)}),w.forEach(E=>{const k=o.get(E.element);if(k&&k.length){const N=pr(k);E.setRealPlayer(N)}}),s.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<g.length;E++){const k=g[E],N=k[Vn];if(eo(k,Ou),N&&N.hasAnimation)continue;let P=[];if(l.size){let R=l.get(k);R&&R.length&&P.push(...R);let V=this.driver.query(k,Mp,!0);for(let Ee=0;Ee<V.length;Ee++){let ce=l.get(V[Ee]);ce&&ce.length&&P.push(...ce)}}const ee=P.filter(R=>!R.destroyed);ee.length?vH(this,k,ee):this.processLeaveNode(k)}return g.length=0,he.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();const k=this.players.indexOf(E);this.players.splice(k,1)}),E.play()}),he}elementContainsData(t,e){let r=!1;const s=e[Vn];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,s,o){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const u=!o||o==Ra;l.forEach(c=>{c.queued||!u&&c.triggerName!=s||a.push(c)})}}return(r||s)&&(a=a.filter(l=>!(r&&r!=l.namespaceId||s&&s!=l.triggerName))),a}_beforeAnimationBuild(t,e,r){const o=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const c=u.element,d=c!==o,h=Tn(r,c,[]);this._getPreviousPlayers(c,d,a,l,e.toState).forEach(p=>{const m=p.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),p.destroy(),h.push(p)})}zr(o,e.fromStyles)}_buildAnimation(t,e,r,s,o,a){const l=e.triggerName,u=e.element,c=[],d=new Set,h=new Set,f=e.timelines.map(m=>{const b=m.element;d.add(b);const g=b[Vn];if(g&&g.removedBeforeQueried)return new Xs(m.duration,m.delay);const v=b!==u,y=function(n){const t=[];return OE(n,t),t}((r.get(b)||dH).map(ue=>ue.getRealPlayer())).filter(ue=>!!ue.element&&ue.element===b),M=o.get(b),O=a.get(b),j=oE(0,this._normalizer,0,m.keyframes,M,O),ie=this._buildPlayer(m,j,y);if(m.subTimeline&&s&&h.add(b),v){const ue=new Vp(t,l,b);ue.setRealPlayer(ie),c.push(ue)}return ie});c.forEach(m=>{Tn(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const s=r.indexOf(e);r.splice(s,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const s=r.indexOf(e);r.splice(s,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,m.element,m))}),d.forEach(m=>zn(m,pE));const p=pr(f);return p.onDestroy(()=>{d.forEach(m=>eo(m,pE)),Di(u,e.toStyles)}),h.forEach(m=>{Tn(s,m,[]).push(p)}),p}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Xs(t.duration,t.delay)}}class Vp{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Xs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>mp(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Tn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ku(n){return n&&1===n.nodeType}function IE(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function FE(n,t,e,r,s){const o=[];e.forEach(u=>o.push(IE(u)));const a=[];r.forEach((u,c)=>{const d={};u.forEach(h=>{const f=d[h]=t.computeStyle(c,h,s);(!f||0==f.length)&&(c[Vn]=hH,a.push(c))}),n.set(c,d)});let l=0;return e.forEach(u=>IE(u,o[l++])),a}function LE(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const s=new Set(t),o=new Map;function a(l){if(!l)return 1;let u=o.get(l);if(u)return u;const c=l.parentNode;return u=e.has(c)?c:s.has(c)?1:a(c),o.set(l,u),u}return t.forEach(l=>{const u=a(l);1!==u&&e.get(u).push(l)}),e}const Qu="$$classes";function zn(n,t){if(n.classList)n.classList.add(t);else{let e=n[Qu];e||(e=n[Qu]={}),e[t]=!0}}function eo(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Qu];e&&delete e[t]}}function vH(n,t,e){pr(e).onDone(()=>n.processLeaveNode(t))}function OE(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof rE?OE(r.players,t):t.push(r)}}function NE(n,t,e){const r=e.get(n);if(!r)return!1;let s=t.get(n);return s?r.forEach(o=>s.add(o)):t.set(n,r),e.delete(n),!0}class Yu{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new pH(t,e,r),this._timelineEngine=new aH(t,e,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,e,r,s,o){const a=t+"-"+s;let l=this._triggerCache[a];if(!l){const u=[],c=kp(this._driver,o,u);if(u.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);l=function(n,t,e){return new rH(n,t,e)}(s,c,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,s,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,s){this._transitionEngine.insertNode(t,e,r,s)}onRemove(t,e,r,s){this._transitionEngine.removeNode(t,e,s||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,s){if("@"==r.charAt(0)){const[o,a]=aE(r);this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(t,e,r,s)}listen(t,e,r,s,o){if("@"==r.charAt(0)){const[a,l]=aE(r);return this._timelineEngine.listen(a,e,l,o)}return this._transitionEngine.listen(t,e,r,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function PE(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=zp(t[0]),t.length>1&&(r=zp(t[t.length-1]))):t&&(e=zp(t)),e||r?new wH(n,e,r):null}let wH=(()=>{class n{constructor(e,r,s){this._element=e,this._startStyles=r,this._endStyles=s,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Di(this._element,this._initialStyles),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zr(this._element,this._endStyles),this._endStyles=null),Di(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zp(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const s=e[r];CH(s)&&(t=t||{},t[s]=n[s])}return t}function CH(n){return"display"===n||"position"===n}const BE="animation",HE="animationend";class TH{constructor(t,e,r,s,o,a,l){this._element=t,this._name=e,this._duration=r,this._delay=s,this._easing=o,this._fillMode=a,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(n,t){const e=Up(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),Zu(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){VE(this._element,this._name,"paused")}resume(){VE(this._element,this._name,"running")}setPosition(t){const e=zE(this._element,this._name);this._position=t*this._duration,Zu(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=Up(n,"").split(","),s=jp(r,t);s>=0&&(r.splice(s,1),Zu(n,"",r.join(",")))}(this._element,this._name))}}function VE(n,t,e){Zu(n,"PlayState",e,zE(n,t))}function zE(n,t){const e=Up(n,"");return e.indexOf(",")>0?jp(e.split(","),t):jp([e],t)}function jp(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function jE(n,t,e){e?n.removeEventListener(HE,t):n.addEventListener(HE,t)}function Zu(n,t,e,r){const s=BE+t;if(null!=r){const o=n.style[s];if(o.length){const a=o.split(",");a[r]=e,e=a.join(",")}}n.style[s]=e}function Up(n,t){return n.style[BE+t]||""}class UE{constructor(t,e,r,s,o,a,l,u){this.element=t,this.keyframes=e,this.animationName=r,this._duration=s,this._delay=o,this._finalStyles=l,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new TH(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:Ap(this.element,r))})}this.currentSnapshot=t}}class kH extends Xs{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=dE(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class WE{constructor(){this._count=0}validateStyleProperty(t){return _p(t)}matchesElement(t,e){return wp(t,e)}containsElement(t,e){return Cp(t,e)}query(t,e,r){return Ep(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(l=>dE(l));let s=`@keyframes ${e} {\n`,o="";r.forEach(l=>{o=" ";const u=parseFloat(l.offset);s+=`${o}${100*u}% {\n`,o+=" ",Object.keys(l).forEach(c=>{const d=l[c];switch(c){case"offset":return;case"easing":return void(d&&(s+=`${o}animation-timing-function: ${d};\n`));default:return void(s+=`${o}${c}: ${d};\n`)}}),s+=`${o}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,r,s,o,a=[],l){const u=a.filter(g=>g instanceof UE),c={};yE(r,s)&&u.forEach(g=>{let v=g.currentSnapshot;Object.keys(v).forEach(y=>c[y]=v[y])});const d=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(s=>{"offset"==s||"easing"==s||(t[s]=r[s])})}),t}(e=_E(t,e,c));if(0==r)return new kH(t,d);const h="gen_css_kf_"+this._count++,f=this.buildKeyframeElement(t,h,e);(function(n){var e;const t=null==(e=n.getRootNode)?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(t).appendChild(f);const m=PE(t,e),b=new UE(t,e,h,r,s,o,d,m);return b.onDestroy(()=>{var n;(n=f).parentNode.removeChild(n)}),b}}class qE{constructor(t,e,r,s){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ap(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class NH{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(KE().toString()),this._cssKeyframesDriver=new WE}validateStyleProperty(t){return _p(t)}matchesElement(t,e){return wp(t,e)}containsElement(t,e){return Cp(t,e)}query(t,e,r){return Ep(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,s,o,a=[],l){if(!l&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,s,o,a);const d={duration:r,delay:s,fill:0==s?"both":"forwards"};o&&(d.easing=o);const h={},f=a.filter(m=>m instanceof qE);yE(r,s)&&f.forEach(m=>{let b=m.currentSnapshot;Object.keys(b).forEach(g=>h[g]=b[g])});const p=PE(t,e=_E(t,e=e.map(m=>mr(m,!1)),h));return new qE(t,e,d,p)}}function KE(){return sE()&&Element.prototype.animate||{}}let BH=(()=>{class n extends tE{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:$n.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?nE(e):e;return QE(this._renderer,null,r,"register",[s]),new HH(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Y(Zo),Y(at))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class HH extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new VH(this._id,t,e||{},this._renderer)}}class VH{constructor(t,e,r,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return QE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!=(e=null==(t=this._renderer.engine.players[+this.id])?void 0:t.getPosition())?e:0}}function QE(n,t,e,r,s){return n.setProperty(t,`@@${e}:${r}`,s)}const YE="@.disabled";let zH=(()=>{class n{constructor(e,r,s){this.delegate=e,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,a)=>{const l=null==a?void 0:a.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(o);return d||(d=new ZE("",o,this.engine),this._rendererCache.set(o,d)),d}const a=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const u=d=>{Array.isArray(d)?d.forEach(u):this.engine.registerTrigger(a,l,e,d.name,d)};return r.data.animation.forEach(u),new jH(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,s){e>=0&&e<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Y(Zo),Y(Yu),Y(Xe))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class ZE{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,s=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,s){this.delegate.setAttribute(t,e,r,s)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,s){this.delegate.setStyle(t,e,r,s)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==YE?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class jH extends ZE{constructor(t,e,r,s){super(e,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==YE?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),a="";return"@"!=o.charAt(0)&&([o,a]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(t,e,r)}}let WH=(()=>{class n extends Yu{constructor(e,r,s){super(e.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Y(at),Y(Dp),Y(Np))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const to=new pe("AnimationModuleType"),XE=[{provide:tE,useClass:BH},{provide:Np,useFactory:function(){return new XB}},{provide:Yu,useClass:WH},{provide:Zo,useFactory:function(n,t,e){return new zH(n,t,e)},deps:[fu,Yu,Xe]}],JE=[{provide:Dp,useFactory:function(){return"function"==typeof KE()?new NH:new WE}},{provide:to,useValue:"BrowserAnimations"},...XE],QH=[{provide:Dp,useClass:hE},{provide:to,useValue:"NoopAnimations"},...XE];let YH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?QH:JE}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({providers:JE,imports:[v0]}),n})();const XH=new pe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ti=(()=>{class n{constructor(e,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!("undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(Y(XC),Y(XH,8),Y(at))},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({imports:[[JC],JC]}),n})();function JH(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=HC(t)}}}function $p(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function eV(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=HC(t)}}}class nV{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tD={enterDuration:225,exitDuration:150},Wp=Iu({passive:!0}),nD=["mousedown","touchstart"],iD=["mouseup","mouseleave","touchend","touchcancel"];class rV{constructor(t,e,r,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Ta(r))}fadeInRipple(t,e,r={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=le(le({},tD),r.animation);r.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const a=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+s*s)}(t,e,s),l=t-s.left,u=e-s.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=l-a+"px",d.style.top=u-a+"px",d.style.height=2*a+"px",d.style.width=2*a+"px",null!=r.color&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d),window.getComputedStyle(d).getPropertyValue("opacity"),d.style.transform="scale(1)";const h=new nV(this,d,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const f=h===this._mostRecentTransientRipple;h.state=1,!r.persistent&&(!f||!this._isPointerDown)&&h.fadeOut()},c),h}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,s=le(le({},tD),t.config.animation);r.style.transitionDuration=`${s.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ta(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(nD))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(iD),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=qC(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!KC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Wp)})})}_removeTriggerEvents(){this._triggerElement&&(nD.forEach(t=>{this._triggerElement.removeEventListener(t,this,Wp)}),this._pointerUpEventsRegistered&&iD.forEach(t=>{this._triggerElement.removeEventListener(t,this,Wp)}))}}const aV=new pe("mat-ripple-global-options");let rD=(()=>{class n{constructor(e,r,s,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new rV(this,r,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:le(le(le({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,le(le({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,le(le({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(Q(cn),Q(Xe),Q(fr),Q(aV,8),Q(to,8))},n.\u0275dir=Lt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&or("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),sD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({imports:[[Ti,VC],Ti]}),n})();const lV=["mat-button",""],uV=["*"],dV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],hV=$p(JH(eV(class{constructor(n){this._elementRef=n}})));let fV=(()=>{class n extends hV{constructor(e,r,s){super(e),this._focusMonitor=r,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of dV)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(Q(cn),Q(_B),Q(to,8))},n.\u0275cmp=ci({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&function(n,t,e){const r=We();r.firstCreatePass&&(G_(r,new j_(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),W_(r,U(),t)}(rD,5),2&e){let s;ta(s=na())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(Xn("disabled",r.disabled||null),or("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ys],attrs:lV,ngContentSelectors:uV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(Th(),tn(0,"span",0),Ll(1),nn(),un(2,"span",1),un(3,"span",2)),2&e&&(Qn(2),or("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Cn("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[rD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),pV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({imports:[[sD,Ti],Ti]}),n})();class mV extends T{constructor(t,e){super()}schedule(t,e=0){return this}}const Ju={setInterval(...n){const{delegate:t}=Ju;return((null==t?void 0:t.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:t}=Ju;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Gp extends mV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,r=0){return Ju.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Ju.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,r=!1;try{this.work(t)}catch(o){r=!0,s=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,L(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ka={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ka;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const s=t(o=>{e=void 0,n(o)});return new T(()=>null==e?void 0:e(s))},requestAnimationFrame(...n){const{delegate:t}=ka;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ka;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},oD={now:()=>(oD.delegate||Date).now(),delegate:void 0};class Ia{constructor(t,e=Ia.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Ia.now=oD.now;class qp extends Ia{constructor(t,e=Ia.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}new class extends qp{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,s=-1;t=t||e.shift();const o=e.length;do{if(r=t.execute(t.state,t.delay))break}while(++s<o&&(t=e.shift()));if(this._active=!1,r){for(;++s<o&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends Gp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ka.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(ka.cancelAnimationFrame(e),t._scheduled=void 0)}});let Kp,yV=1;const ec={};function aD(n){return n in ec&&(delete ec[n],!0)}const _V={setImmediate(n){const t=yV++;return ec[t]=!0,Kp||(Kp=Promise.resolve()),Kp.then(()=>aD(t)&&n()),t},clearImmediate(n){aD(n)}},{setImmediate:wV,clearImmediate:CV}=_V,tc={setImmediate(...n){const{delegate:t}=tc;return((null==t?void 0:t.setImmediate)||wV)(...n)},clearImmediate(n){const{delegate:t}=tc;return((null==t?void 0:t.clearImmediate)||CV)(n)},delegate:void 0},lD=(new class extends qp{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,s=-1;t=t||e.shift();const o=e.length;do{if(r=t.execute(t.state,t.delay))break}while(++s<o&&(t=e.shift()));if(this._active=!1,r){for(;++s<o&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends Gp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=tc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(tc.clearImmediate(e),t._scheduled=void 0)}}),new qp(Gp));function RV(n,t=lD){return function(n){return Ue((t,e)=>{let r=!1,s=null,o=null,a=!1;const l=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const c=s;s=null,e.next(c)}a&&e.complete()},u=()=>{o=null,a&&e.complete()};t.subscribe(new tt(e,c=>{r=!0,s=c,o||Un(n()).subscribe(o=new tt(e,l,u))},()=>{a=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>function(n=0,t,e=lD){let r=-1;return null!=t&&(Wm(t)?e=t:r=t),new ve(s=>{let o=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){s.closed||(s.next(a++),0<=r?this.schedule(void 0,r):s.complete())},o)})}(n,t))}let uD=(()=>{class n{constructor(e,r,s){this._platform=e,this._change=new je,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(RV(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Y(fr),Y(Xe),Y(at,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kV(n,t){if(1&n&&(Tr(),un(0,"circle",4)),2&n){const e=sr(),r=Sr(1);yi("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),Xn("r",e._getCircleRadius())}}function IV(n,t){if(1&n&&(Tr(),un(0,"circle",4)),2&n){const e=sr(),r=Sr(1);yi("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),Xn("r",e._getCircleRadius())}}function FV(n,t){if(1&n&&(Tr(),un(0,"circle",4)),2&n){const e=sr(),r=Sr(1);yi("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),Xn("r",e._getCircleRadius())}}function LV(n,t){if(1&n&&(Tr(),un(0,"circle",4)),2&n){const e=sr(),r=Sr(1);yi("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),Xn("r",e._getCircleRadius())}}const PV=$p(class{constructor(n){this._elementRef=n}},"primary"),cD=new pe("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Gi extends PV{constructor(t,e,r,s,o,a,l,u){super(t),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=T.EMPTY,this.mode="determinate";const c=Gi._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&l&&a&&u&&(this._resizeSubscription=l.change(150).subscribe(()=>{"indeterminate"===this.mode&&u.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=op(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=op(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,op(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=jC(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var r;const e=50*(null!=(r=t.currentScale)?r:1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,r=Gi._diameters;let s=r.get(t);if(!s||!s.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),s||(s=new Set,r.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Gi._diameters=new WeakMap,Gi.\u0275fac=function(t){return new(t||Gi)(Q(cn),Q(fr),Q(at,8),Q(to,8),Q(cD),Q(zs),Q(uD),Q(Xe))},Gi.\u0275cmp=ci({type:Gi,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Xn("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),yi("width",e.diameter,"px")("height",e.diameter,"px"),or("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[ys],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(Tr(),tn(0,"svg",0,1),Jn(2,kV,1,11,"circle",2),Jn(3,IV,1,9,"circle",3),nn()),2&t&&(yi("width",e.diameter,"px")("height",e.diameter,"px"),Cn("ngSwitch","indeterminate"===e.mode),Xn("viewBox",e._getViewBox()),Qn(2),Cn("ngSwitchCase",!0),Qn(1),Cn("ngSwitchCase",!1))},directives:[ca,wf],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let VV=(()=>{class n extends Gi{constructor(e,r,s,o,a,l,u,c){super(e,r,s,o,a,l,u,c),this.mode="indeterminate"}}return n.\u0275fac=function(e){return new(e||n)(Q(cn),Q(fr),Q(at,8),Q(to,8),Q(cD),Q(zs),Q(uD),Q(Xe))},n.\u0275cmp=ci({type:n,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,r){2&e&&(yi("width",r.diameter,"px")("height",r.diameter,"px"),or("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color"},features:[ys],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,r){1&e&&(Tr(),tn(0,"svg",0,1),Jn(2,FV,1,11,"circle",2),Jn(3,LV,1,9,"circle",3),nn()),2&e&&(yi("width",r.diameter,"px")("height",r.diameter,"px"),Cn("ngSwitch","indeterminate"===r.mode),Xn("viewBox",r._getViewBox()),Qn(2),Cn("ngSwitchCase",!0),Qn(1),Cn("ngSwitchCase",!1))},directives:[ca,wf],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),n})(),zV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({imports:[[Ti,Df],Ti]}),n})();const jV=["*",[["mat-toolbar-row"]]],UV=["*","mat-toolbar-row"],$V=$p(class{constructor(n){this._elementRef=n}});let WV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Lt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),GV=(()=>{class n extends $V{constructor(e,r,s){super(e),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(Q(cn),Q(fr),Q(at))},n.\u0275cmp=ci({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,s){if(1&e&&function(n,t,e,r){const s=We();if(s.firstCreatePass){const o=xt();G_(s,new j_(t,e,r),o.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}W_(s,U(),e)}(s,WV,5),2&e){let o;ta(o=na())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&or("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ys],ngContentSelectors:UV,decls:2,vars:0,template:function(e,r){1&e&&(Th(jV),Ll(0),Ll(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),qV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({imports:[[Ti],Ti]}),n})();function KV(n){return n}function QV(n){return"translate("+n+",0)"}function YV(n){return"translate(0,"+n+")"}function ZV(n){return t=>+n(t)}function XV(n,t){return t=Math.max(0,n.bandwidth()-2*t)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function JV(){return!this.__axis}function rc(n,t){var e=[],r=null,s=null,o=6,a=6,l=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===n||4===n?-1:1,d=4===n||2===n?"x":"y",h=1===n||3===n?QV:YV;function f(p){var m=null==r?t.ticks?t.ticks.apply(t,e):t.domain():r,b=null==s?t.tickFormat?t.tickFormat.apply(t,e):KV:s,g=Math.max(o,0)+l,v=t.range(),y=+v[0]+u,M=+v[v.length-1]+u,O=(t.bandwidth?XV:ZV)(t.copy(),u),j=p.selection?p.selection():p,ie=j.selectAll(".domain").data([null]),ue=j.selectAll(".tick").data(m,t).order(),me=ue.exit(),Se=ue.enter().append("g").attr("class","tick"),de=ue.select("line"),$=ue.select("text");ie=ie.merge(ie.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ue=ue.merge(Se),de=de.merge(Se.append("line").attr("stroke","currentColor").attr(d+"2",c*o)),$=$.merge(Se.append("text").attr("fill","currentColor").attr(d,c*g).attr("dy",1===n?"0em":3===n?"0.71em":"0.32em")),p!==j&&(ie=ie.transition(p),ue=ue.transition(p),de=de.transition(p),$=$.transition(p),me=me.transition(p).attr("opacity",1e-6).attr("transform",function(Te){return isFinite(Te=O(Te))?h(Te+u):this.getAttribute("transform")}),Se.attr("opacity",1e-6).attr("transform",function(Te){var he=this.parentNode.__axis;return h((he&&isFinite(he=he(Te))?he:O(Te))+u)})),me.remove(),ie.attr("d",4===n||2===n?a?"M"+c*a+","+y+"H"+u+"V"+M+"H"+c*a:"M"+u+","+y+"V"+M:a?"M"+y+","+c*a+"V"+u+"H"+M+"V"+c*a:"M"+y+","+u+"H"+M),ue.attr("opacity",1).attr("transform",function(Te){return h(O(Te)+u)}),de.attr(d+"2",c*o),$.attr(d,c*g).text(b),j.filter(JV).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===n?"start":4===n?"end":"middle"),j.each(function(){this.__axis=O})}return f.scale=function(p){return arguments.length?(t=p,f):t},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(e=null==p?[]:Array.from(p),f):e.slice()},f.tickValues=function(p){return arguments.length?(r=null==p?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(s=p,f):s},f.tickSize=function(p){return arguments.length?(o=a=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(l=+p,f):l},f.offset=function(p){return arguments.length?(u=+p,f):u},f}function nz(){}function Zp(n){return null==n?nz:function(){return this.querySelector(n)}}function rz(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function sz(){return[]}function hD(n){return null==n?sz:function(){return this.querySelectorAll(n)}}function fD(n){return function(){return this.matches(n)}}function pD(n){return function(t){return t.matches(n)}}var lz=Array.prototype.find;function cz(){return this.firstElementChild}var hz=Array.prototype.filter;function fz(){return Array.from(this.children)}function mD(n){return new Array(n.length)}function sc(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function vz(n){return function(){return n}}function yz(n,t,e,r,s,o){for(var l,a=0,u=t.length,c=o.length;a<c;++a)(l=t[a])?(l.__data__=o[a],r[a]=l):e[a]=new sc(n,o[a]);for(;a<u;++a)(l=t[a])&&(s[a]=l)}function _z(n,t,e,r,s,o,a){var l,u,p,c=new Map,d=t.length,h=o.length,f=new Array(d);for(l=0;l<d;++l)(u=t[l])&&(f[l]=p=a.call(u,u.__data__,l,t)+"",c.has(p)?s[l]=u:c.set(p,u));for(l=0;l<h;++l)p=a.call(n,o[l],l,o)+"",(u=c.get(p))?(r[l]=u,u.__data__=o[l],c.delete(p)):e[l]=new sc(n,o[l]);for(l=0;l<d;++l)(u=t[l])&&c.get(f[l])===u&&(s[l]=u)}function wz(n){return n.__data__}function Ez(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Rz(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}sc.prototype={constructor:sc,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Xp="http://www.w3.org/1999/xhtml";const gD={svg:"http://www.w3.org/2000/svg",xhtml:Xp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oc(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),gD.hasOwnProperty(t)?{space:gD[t],local:n}:n}function Nz(n){return function(){this.removeAttribute(n)}}function Pz(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Bz(n,t){return function(){this.setAttribute(n,t)}}function Hz(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Vz(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function zz(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function bD(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Uz(n){return function(){this.style.removeProperty(n)}}function $z(n,t,e){return function(){this.style.setProperty(n,t,e)}}function Wz(n,t,e){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function no(n,t){return n.style.getPropertyValue(t)||bD(n).getComputedStyle(n,null).getPropertyValue(t)}function qz(n){return function(){delete this[n]}}function Kz(n,t){return function(){this[n]=t}}function Qz(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function vD(n){return n.trim().split(/^|\s+/)}function Jp(n){return n.classList||new yD(n)}function yD(n){this._node=n,this._names=vD(n.getAttribute("class")||"")}function _D(n,t){for(var e=Jp(n),r=-1,s=t.length;++r<s;)e.add(t[r])}function wD(n,t){for(var e=Jp(n),r=-1,s=t.length;++r<s;)e.remove(t[r])}function Zz(n){return function(){_D(this,n)}}function Xz(n){return function(){wD(this,n)}}function Jz(n,t){return function(){(t.apply(this,arguments)?_D:wD)(this,n)}}function t3(){this.textContent=""}function n3(n){return function(){this.textContent=n}}function r3(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function o3(){this.innerHTML=""}function a3(n){return function(){this.innerHTML=n}}function l3(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function c3(){this.nextSibling&&this.parentNode.appendChild(this)}function h3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function p3(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Xp&&t.documentElement.namespaceURI===Xp?t.createElement(n):t.createElementNS(e,n)}}function m3(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function CD(n){var t=oc(n);return(t.local?m3:p3)(t)}function b3(){return null}function y3(){var n=this.parentNode;n&&n.removeChild(this)}function w3(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function C3(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function M3(n){return n.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}})}function x3(n){return function(){var t=this.__on;if(t){for(var o,e=0,r=-1,s=t.length;e<s;++e)o=t[e],n.type&&o.type!==n.type||o.name!==n.name?t[++r]=o:this.removeEventListener(o.type,o.listener,o.options);++r?t.length=r:delete this.__on}}}function S3(n,t,e){return function(){var s,r=this.__on,o=function(n){return function(t){n.call(this,t,this.__data__)}}(t);if(r)for(var a=0,l=r.length;a<l;++a)if((s=r[a]).type===n.type&&s.name===n.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=e),void(s.value=t);this.addEventListener(n.type,o,e),s={type:n.type,name:n.name,value:t,listener:o,options:e},r?r.push(s):this.__on=[s]}}function ED(n,t,e){var r=bD(n),s=r.CustomEvent;"function"==typeof s?s=new s(t,e):(s=r.document.createEvent("Event"),e?(s.initEvent(t,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(t,!1,!1)),n.dispatchEvent(s)}function A3(n,t){return function(){return ED(this,n,t)}}function k3(n,t){return function(){return ED(this,n,t.apply(this,arguments))}}yD.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var DD=[null];function xn(n,t){this._groups=n,this._parents=t}function TD(){return new xn([[document.documentElement]],DD)}xn.prototype=TD.prototype={constructor:xn,select:function(n){"function"!=typeof n&&(n=Zp(n));for(var t=this._groups,e=t.length,r=new Array(e),s=0;s<e;++s)for(var u,c,o=t[s],a=o.length,l=r[s]=new Array(a),d=0;d<a;++d)(u=o[d])&&(c=n.call(u,u.__data__,d,o))&&("__data__"in u&&(c.__data__=u.__data__),l[d]=c);return new xn(r,this._parents)},selectAll:function(n){n="function"==typeof n?function(n){return function(){return rz(n.apply(this,arguments))}}(n):hD(n);for(var t=this._groups,e=t.length,r=[],s=[],o=0;o<e;++o)for(var u,a=t[o],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(n.call(u,u.__data__,c,a)),s.push(u));return new xn(r,s)},selectChild:function(n){return this.select(null==n?cz:function(n){return function(){return lz.call(this.children,n)}}("function"==typeof n?n:pD(n)))},selectChildren:function(n){return this.selectAll(null==n?fz:function(n){return function(){return hz.call(this.children,n)}}("function"==typeof n?n:pD(n)))},filter:function(n){"function"!=typeof n&&(n=fD(n));for(var t=this._groups,e=t.length,r=new Array(e),s=0;s<e;++s)for(var u,o=t[s],a=o.length,l=r[s]=[],c=0;c<a;++c)(u=o[c])&&n.call(u,u.__data__,c,o)&&l.push(u);return new xn(r,this._parents)},data:function(n,t){if(!arguments.length)return Array.from(this,wz);var e=t?_z:yz,r=this._parents,s=this._groups;"function"!=typeof n&&(n=vz(n));for(var o=s.length,a=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var d=r[c],h=s[c],f=h.length,p=Ez(n.call(d,d&&d.__data__,c,r)),m=p.length,b=l[c]=new Array(m),g=a[c]=new Array(m),v=u[c]=new Array(f);e(d,h,b,g,v,p,t);for(var O,j,y=0,M=0;y<m;++y)if(O=b[y]){for(y>=M&&(M=y+1);!(j=g[M])&&++M<m;);O._next=j||null}}return(a=new xn(a,r))._enter=l,a._exit=u,a},enter:function(){return new xn(this._enter||this._groups.map(mD),this._parents)},exit:function(){return new xn(this._exit||this._groups.map(mD),this._parents)},join:function(n,t,e){var r=this.enter(),s=this,o=this.exit();return"function"==typeof n?(r=n(r))&&(r=r.selection()):r=r.append(n+""),null!=t&&(s=t(s))&&(s=s.selection()),null==e?o.remove():e(o),r&&s?r.merge(s).order():s},merge:function(n){for(var t=n.selection?n.selection():n,e=this._groups,r=t._groups,s=e.length,a=Math.min(s,r.length),l=new Array(s),u=0;u<a;++u)for(var p,c=e[u],d=r[u],h=c.length,f=l[u]=new Array(h),m=0;m<h;++m)(p=c[m]||d[m])&&(f[m]=p);for(;u<s;++u)l[u]=e[u];return new xn(l,this._parents)},selection:function(){return this},order:function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var a,r=n[t],s=r.length-1,o=r[s];--s>=0;)(a=r[s])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function(n){function t(h,f){return h&&f?n(h.__data__,f.__data__):!h-!f}n||(n=Rz);for(var e=this._groups,r=e.length,s=new Array(r),o=0;o<r;++o){for(var c,a=e[o],l=a.length,u=s[o]=new Array(l),d=0;d<l;++d)(c=a[d])&&(u[d]=c);u.sort(t)}return new xn(s,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],s=0,o=r.length;s<o;++s){var a=r[s];if(a)return a}return null},size:function(){let n=0;for(const t of this)++n;return n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var l,s=t[e],o=0,a=s.length;o<a;++o)(l=s[o])&&n.call(l,l.__data__,o,s);return this},attr:function(n,t){var e=oc(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==t?e.local?Pz:Nz:"function"==typeof t?e.local?zz:Vz:e.local?Hz:Bz)(e,t))},style:function(n,t,e){return arguments.length>1?this.each((null==t?Uz:"function"==typeof t?Wz:$z)(n,t,null==e?"":e)):no(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?qz:"function"==typeof t?Qz:Kz)(n,t)):this.node()[n]},classed:function(n,t){var e=vD(n+"");if(arguments.length<2){for(var r=Jp(this.node()),s=-1,o=e.length;++s<o;)if(!r.contains(e[s]))return!1;return!0}return this.each(("function"==typeof t?Jz:t?Zz:Xz)(e,t))},text:function(n){return arguments.length?this.each(null==n?t3:("function"==typeof n?r3:n3)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?o3:("function"==typeof n?l3:a3)(n)):this.node().innerHTML},raise:function(){return this.each(c3)},lower:function(){return this.each(h3)},append:function(n){var t="function"==typeof n?n:CD(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(n,t){var e="function"==typeof n?n:CD(n),r=null==t?b3:"function"==typeof t?t:Zp(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(y3)},clone:function(n){return this.select(n?C3:w3)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,e){var s,a,r=M3(n+""),o=r.length;if(!(arguments.length<2)){for(l=t?S3:x3,s=0;s<o;++s)this.each(l(r[s],t,e));return this}var l=this.node().__on;if(l)for(var d,u=0,c=l.length;u<c;++u)for(s=0,d=l[u];s<o;++s)if((a=r[s]).type===d.type&&a.name===d.name)return d.value},dispatch:function(n,t){return this.each(("function"==typeof t?k3:A3)(n,t))},[Symbol.iterator]:function*(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var a,r=n[t],s=0,o=r.length;s<o;++s)(a=r[s])&&(yield a)}};const La=TD;var O3={value:()=>{}};function MD(){for(var r,n=0,t=arguments.length,e={};n<t;++n){if(!(r=arguments[n]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new ac(e)}function ac(n){this._=n}function N3(n,t){return n.trim().split(/^|\s+/).map(function(e){var r="",s=e.indexOf(".");if(s>=0&&(r=e.slice(s+1),e=e.slice(0,s)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}function P3(n,t){for(var s,e=0,r=n.length;e<r;++e)if((s=n[e]).name===t)return s.value}function xD(n,t,e){for(var r=0,s=n.length;r<s;++r)if(n[r].name===t){n[r]=O3,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=e&&n.push({name:t,value:e}),n}ac.prototype=MD.prototype={constructor:ac,on:function(n,t){var s,e=this._,r=N3(n+"",e),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(s=(n=r[o]).type)e[s]=xD(e[s],n.name,t);else if(null==t)for(s in e)e[s]=xD(e[s],n.name,null);return this}for(;++o<a;)if((s=(n=r[o]).type)&&(s=P3(e[s],n.name)))return s},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new ac(n)},call:function(n,t){if((s=arguments.length-2)>0)for(var s,o,e=new Array(s),r=0;r<s;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=0,s=(o=this._[n]).length;r<s;++r)o[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],s=0,o=r.length;s<o;++s)r[s].value.apply(t,e)}};const B3=MD;var lc,Pa,io=0,Oa=0,Na=0,uc=0,Ur=0,cc=0,Ba="object"==typeof performance&&performance.now?performance:Date,RD="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function em(){return Ur||(RD(H3),Ur=Ba.now()+cc)}function H3(){Ur=0}function dc(){this._call=this._time=this._next=null}function AD(n,t,e){var r=new dc;return r.restart(n,t,e),r}function kD(){Ur=(uc=Ba.now())+cc,io=Oa=0;try{!function(){em(),++io;for(var t,n=lc;n;)(t=Ur-n._time)>=0&&n._call.call(void 0,t),n=n._next;--io}()}finally{io=0,function(){for(var n,e,t=lc,r=1/0;t;)t._call?(r>t._time&&(r=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:lc=e);Pa=n,tm(r)}(),Ur=0}}function z3(){var n=Ba.now(),t=n-uc;t>1e3&&(cc-=t,uc=n)}function tm(n){io||(Oa&&(Oa=clearTimeout(Oa)),n-Ur>24?(n<1/0&&(Oa=setTimeout(kD,n-Ba.now()-cc)),Na&&(Na=clearInterval(Na))):(Na||(uc=Ba.now(),Na=setInterval(z3,1e3)),io=1,RD(kD)))}function ID(n,t,e){var r=new dc;return r.restart(s=>{r.stop(),n(s+t)},t=null==t?0:+t,e),r}dc.prototype=AD.prototype={constructor:dc,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?em():+e)+(null==t?0:+t),!this._next&&Pa!==this&&(Pa?Pa._next=this:lc=this,Pa=this),this._call=n,this._time=e,tm()},stop:function(){this._call&&(this._call=null,this._time=1/0,tm())}};var U3=B3("start","end","cancel","interrupt"),$3=[];function pc(n,t,e,r,s,o){var a=n.__transition;if(a){if(e in a)return}else n.__transition={};!function(n,t,e){var s,r=n.__transition;function a(c){var d,h,f,p;if(1!==e.state)return u();for(d in r)if((p=r[d]).name===e.name){if(3===p.state)return ID(a);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete r[d])}if(ID(function(){3===e.state&&(e.state=4,e.timer.restart(l,e.delay,e.time),l(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,s=new Array(f=e.tween.length),d=0,h=-1;d<f;++d)(p=e.tween[d].value.call(n,n.__data__,e.index,e.group))&&(s[++h]=p);s.length=h+1}}function l(c){for(var d=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(u),e.state=5,1),h=-1,f=s.length;++h<f;)s[h].call(n,d);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),u())}function u(){for(var c in e.state=6,e.timer.stop(),delete r[t],r)return;delete n.__transition}r[t]=e,e.timer=AD(function(c){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=c&&a(c-e.delay)},0,e.time)}(n,e,{name:t,index:r,group:s,on:U3,tween:$3,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function rm(n,t){var e=oi(n,t);if(e.state>0)throw new Error("too late; already scheduled");return e}function Mi(n,t){var e=oi(n,t);if(e.state>3)throw new Error("too late; already running");return e}function oi(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function ai(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var mc,ND=180/Math.PI,sm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function PD(n,t,e,r,s,o){var a,l,u;return(a=Math.sqrt(n*n+t*t))&&(n/=a,t/=a),(u=n*e+t*r)&&(e-=n*u,r-=t*u),(l=Math.sqrt(e*e+r*r))&&(e/=l,r/=l,u/=l),n*r<t*e&&(n=-n,t=-t,u=-u,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(t,n)*ND,skewX:Math.atan(u)*ND,scaleX:a,scaleY:l}}function BD(n,t,e,r){function s(c){return c.length?c.pop()+" ":""}return function(c,d){var h=[],f=[];return c=n(c),d=n(d),function(c,d,h,f,p,m){if(c!==h||d!==f){var b=p.push("translate(",null,t,null,e);m.push({i:b-4,x:ai(c,h)},{i:b-2,x:ai(d,f)})}else(h||f)&&p.push("translate("+h+t+f+e)}(c.translateX,c.translateY,d.translateX,d.translateY,h,f),function(c,d,h,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:h.push(s(h)+"rotate(",null,r)-2,x:ai(c,d)})):d&&h.push(s(h)+"rotate("+d+r)}(c.rotate,d.rotate,h,f),function(c,d,h,f){c!==d?f.push({i:h.push(s(h)+"skewX(",null,r)-2,x:ai(c,d)}):d&&h.push(s(h)+"skewX("+d+r)}(c.skewX,d.skewX,h,f),function(c,d,h,f,p,m){if(c!==h||d!==f){var b=p.push(s(p)+"scale(",null,",",null,")");m.push({i:b-4,x:ai(c,h)},{i:b-2,x:ai(d,f)})}else(1!==h||1!==f)&&p.push(s(p)+"scale("+h+","+f+")")}(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,f),c=d=null,function(p){for(var g,m=-1,b=f.length;++m<b;)h[(g=f[m]).i]=g.x(p);return h.join("")}}}var Y3=BD(function(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?sm:PD(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Z3=BD(function(n){return null!=n&&(mc||(mc=document.createElementNS("http://www.w3.org/2000/svg","g")),mc.setAttribute("transform",n),n=mc.transform.baseVal.consolidate())?PD((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):sm},", ",")",")");function X3(n,t){var e,r;return function(){var s=Mi(this,n),o=s.tween;if(o!==e)for(var a=0,l=(r=e=o).length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}s.tween=r}}function J3(n,t,e){var r,s;if("function"!=typeof e)throw new Error;return function(){var o=Mi(this,n),a=o.tween;if(a!==r){s=(r=a).slice();for(var l={name:t,value:e},u=0,c=s.length;u<c;++u)if(s[u].name===t){s[u]=l;break}u===c&&s.push(l)}o.tween=s}}function om(n,t,e){var r=n._id;return n.each(function(){var s=Mi(this,r);(s.value||(s.value={}))[t]=e.apply(this,arguments)}),function(s){return oi(s,r).value[t]}}function am(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function HD(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function Ha(){}var gc=1/.7,ro="\\s*([+-]?\\d+)\\s*",za="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tj=/^#([0-9a-f]{3,8})$/,nj=new RegExp("^rgb\\("+[ro,ro,ro]+"\\)$"),ij=new RegExp("^rgb\\("+[xi,xi,xi]+"\\)$"),rj=new RegExp("^rgba\\("+[ro,ro,ro,za]+"\\)$"),sj=new RegExp("^rgba\\("+[xi,xi,xi,za]+"\\)$"),oj=new RegExp("^hsl\\("+[za,xi,xi]+"\\)$"),aj=new RegExp("^hsla\\("+[za,xi,xi,za]+"\\)$"),VD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zD(){return this.rgb().formatHex()}function jD(){return this.rgb().formatRgb()}function $r(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=tj.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?UD(t):3===e?new Sn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?bc(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?bc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=nj.exec(n))?new Sn(t[1],t[2],t[3],1):(t=ij.exec(n))?new Sn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rj.exec(n))?bc(t[1],t[2],t[3],t[4]):(t=sj.exec(n))?bc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=oj.exec(n))?GD(t[1],t[2]/100,t[3]/100,1):(t=aj.exec(n))?GD(t[1],t[2]/100,t[3]/100,t[4]):VD.hasOwnProperty(n)?UD(VD[n]):"transparent"===n?new Sn(NaN,NaN,NaN,0):null}function UD(n){return new Sn(n>>16&255,n>>8&255,255&n,1)}function bc(n,t,e,r){return r<=0&&(n=t=e=NaN),new Sn(n,t,e,r)}function uj(n){return n instanceof Ha||(n=$r(n)),n?new Sn((n=n.rgb()).r,n.g,n.b,n.opacity):new Sn}function vc(n,t,e,r){return 1===arguments.length?uj(n):new Sn(n,t,e,null==r?1:r)}function Sn(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}function $D(){return"#"+lm(this.r)+lm(this.g)+lm(this.b)}function WD(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function lm(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function GD(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Si(n,t,e,r)}function qD(n){if(n instanceof Si)return new Si(n.h,n.s,n.l,n.opacity);if(n instanceof Ha||(n=$r(n)),!n)return new Si;if(n instanceof Si)return n;var t=(n=n.rgb()).r/255,e=n.g/255,r=n.b/255,s=Math.min(t,e,r),o=Math.max(t,e,r),a=NaN,l=o-s,u=(o+s)/2;return l?(a=t===o?(e-r)/l+6*(e<r):e===o?(r-t)/l+2:(t-e)/l+4,l/=u<.5?o+s:2-o-s,a*=60):l=u>0&&u<1?0:a,new Si(a,l,u,n.opacity)}function Si(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function um(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function KD(n,t,e,r,s){var o=n*n,a=o*n;return((1-3*n+3*o-a)*t+(4-6*o+3*a)*e+(1+3*n+3*o-3*a)*r+a*s)/6}am(Ha,$r,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:zD,formatHex:zD,formatHsl:function(){return qD(this).formatHsl()},formatRgb:jD,toString:jD}),am(Sn,vc,HD(Ha,{brighter:function(n){return n=null==n?gc:Math.pow(gc,n),new Sn(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Sn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$D,formatHex:$D,formatRgb:WD,toString:WD})),am(Si,function(n,t,e,r){return 1===arguments.length?qD(n):new Si(n,t,e,null==r?1:r)},HD(Ha,{brighter:function(n){return n=null==n?gc:Math.pow(gc,n),new Si(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Si(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,s=2*e-r;return new Sn(um(n>=240?n-240:n+120,s,r),um(n,s,r),um(n<120?n+240:n-120,s,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const cm=n=>()=>n;function YD(n,t){var e=t-n;return e?function(n,t){return function(e){return n+e*t}}(n,e):cm(isNaN(n)?t:n)}const yc=function n(t){var e=function(n){return 1==(n=+n)?YD:function(t,e){return e-t?function(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}(t,e,n):cm(isNaN(t)?e:t)}}(t);function r(s,o){var a=e((s=vc(s)).r,(o=vc(o)).r),l=e(s.g,o.g),u=e(s.b,o.b),c=YD(s.opacity,o.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=u(d),s.opacity=c(d),s+""}}return r.gamma=n,r}(1);function ZD(n){return function(t){var a,l,e=t.length,r=new Array(e),s=new Array(e),o=new Array(e);for(a=0;a<e;++a)l=vc(t[a]),r[a]=l.r||0,s[a]=l.g||0,o[a]=l.b||0;return r=n(r),s=n(s),o=n(o),l.opacity=1,function(u){return l.r=r(u),l.g=s(u),l.b=o(u),l+""}}}ZD(function(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),s=n[r],o=n[r+1];return KD((e-r/t)*t,r>0?n[r-1]:2*s-o,s,o,r<t-1?n[r+2]:2*o-s)}}),ZD(function(n){var t=n.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*t);return KD((e-r/t)*t,n[(r+t-1)%t],n[r%t],n[(r+1)%t],n[(r+2)%t])}});var dm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hm=new RegExp(dm.source,"g");function XD(n,t){var r,s,o,e=dm.lastIndex=hm.lastIndex=0,a=-1,l=[],u=[];for(n+="",t+="";(r=dm.exec(n))&&(s=hm.exec(t));)(o=s.index)>e&&(o=t.slice(e,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,u.push({i:a,x:ai(r,s)})),e=hm.lastIndex;return e<t.length&&(o=t.slice(e),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?function(n){return function(t){return n(t)+""}}(u[0].x):function(n){return function(){return n}}(t):(t=u.length,function(c){for(var h,d=0;d<t;++d)l[(h=u[d]).i]=h.x(c);return l.join("")})}function JD(n,t){var e;return("number"==typeof t?ai:t instanceof $r?yc:(e=$r(t))?(t=e,yc):XD)(n,t)}function bj(n){return function(){this.removeAttribute(n)}}function vj(n){return function(){this.removeAttributeNS(n.space,n.local)}}function yj(n,t,e){var r,o,s=e+"";return function(){var a=this.getAttribute(n);return a===s?null:a===r?o:o=t(r=a,e)}}function _j(n,t,e){var r,o,s=e+"";return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===r?o:o=t(r=a,e)}}function wj(n,t,e){var r,s,o;return function(){var a,u,l=e(this);return null==l?void this.removeAttribute(n):(a=this.getAttribute(n))===(u=l+"")?null:a===r&&u===s?o:(s=u,o=t(r=a,l))}}function Cj(n,t,e){var r,s,o;return function(){var a,u,l=e(this);return null==l?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local))===(u=l+"")?null:a===r&&u===s?o:(s=u,o=t(r=a,l))}}function Dj(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Tj(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function Mj(n,t){var e,r;function s(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Tj(n,o)),e}return s._value=t,s}function xj(n,t){var e,r;function s(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Dj(n,o)),e}return s._value=t,s}function Rj(n,t){return function(){rm(this,n).delay=+t.apply(this,arguments)}}function Aj(n,t){return t=+t,function(){rm(this,n).delay=t}}function Ij(n,t){return function(){Mi(this,n).duration=+t.apply(this,arguments)}}function Fj(n,t){return t=+t,function(){Mi(this,n).duration=t}}function Oj(n,t){if("function"!=typeof t)throw new Error;return function(){Mi(this,n).ease=t}}function jj(n,t,e){var r,s,o=function(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?rm:Mi;return function(){var a=o(this,n),l=a.on;l!==r&&(s=(r=l).copy()).on(t,e),a.on=s}}var Kj=La.prototype.constructor;function eT(n){return function(){this.style.removeProperty(n)}}function t8(n,t,e){return function(r){this.style.setProperty(n,t.call(this,r),e)}}function n8(n,t,e){var r,s;function o(){var a=t.apply(this,arguments);return a!==s&&(r=(s=a)&&t8(n,a,e)),r}return o._value=t,o}function a8(n){return function(t){this.textContent=n.call(this,t)}}function l8(n){var t,e;function r(){var s=n.apply(this,arguments);return s!==e&&(t=(e=s)&&a8(s)),t}return r._value=n,r}var h8=0;function qi(n,t,e,r){this._groups=n,this._parents=t,this._name=e,this._id=r}function tT(){return++h8}var Ki=La.prototype;qi.prototype=function(n){return La().transition(n)}.prototype={constructor:qi,select:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=Zp(n));for(var r=this._groups,s=r.length,o=new Array(s),a=0;a<s;++a)for(var d,h,l=r[a],u=l.length,c=o[a]=new Array(u),f=0;f<u;++f)(d=l[f])&&(h=n.call(d,d.__data__,f,l))&&("__data__"in d&&(h.__data__=d.__data__),c[f]=h,pc(c[f],t,e,f,c,oi(d,e)));return new qi(o,this._parents,t,e)},selectAll:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=hD(n));for(var r=this._groups,s=r.length,o=[],a=[],l=0;l<s;++l)for(var d,u=r[l],c=u.length,h=0;h<c;++h)if(d=u[h]){for(var p,f=n.call(d,d.__data__,h,u),m=oi(d,e),b=0,g=f.length;b<g;++b)(p=f[b])&&pc(p,t,e,b,f,m);o.push(f),a.push(d)}return new qi(o,a,t,e)},selectChild:Ki.selectChild,selectChildren:Ki.selectChildren,filter:function(n){"function"!=typeof n&&(n=fD(n));for(var t=this._groups,e=t.length,r=new Array(e),s=0;s<e;++s)for(var u,o=t[s],a=o.length,l=r[s]=[],c=0;c<a;++c)(u=o[c])&&n.call(u,u.__data__,c,o)&&l.push(u);return new qi(r,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,r=t.length,o=Math.min(r,e.length),a=new Array(r),l=0;l<o;++l)for(var f,u=t[l],c=e[l],d=u.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=u[p]||c[p])&&(h[p]=f);for(;l<r;++l)a[l]=t[l];return new qi(a,this._parents,this._name,this._id)},selection:function(){return new Kj(this._groups,this._parents)},transition:function(){for(var n=this._name,t=this._id,e=tT(),r=this._groups,s=r.length,o=0;o<s;++o)for(var u,a=r[o],l=a.length,c=0;c<l;++c)if(u=a[c]){var d=oi(u,t);pc(u,n,e,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new qi(r,this._parents,n,e)},call:Ki.call,nodes:Ki.nodes,node:Ki.node,size:Ki.size,empty:Ki.empty,each:Ki.each,on:function(n,t){var e=this._id;return arguments.length<2?oi(this.node(),e).on.on(n):this.each(jj(e,n,t))},attr:function(n,t){var e=oc(n),r="transform"===e?Z3:JD;return this.attrTween(n,"function"==typeof t?(e.local?Cj:wj)(e,r,om(this,"attr."+n,t)):null==t?(e.local?vj:bj)(e):(e.local?_j:yj)(e,r,t))},attrTween:function(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var r=oc(n);return this.tween(e,(r.local?Mj:xj)(r,t))},style:function(n,t,e){var r="transform"==(n+="")?Y3:JD;return null==t?this.styleTween(n,function(n,t){var e,r,s;return function(){var o=no(this,n),a=(this.style.removeProperty(n),no(this,n));return o===a?null:o===e&&a===r?s:s=t(e=o,r=a)}}(n,r)).on("end.style."+n,eT(n)):"function"==typeof t?this.styleTween(n,function(n,t,e){var r,s,o;return function(){var a=no(this,n),l=e(this),u=l+"";return null==l&&(this.style.removeProperty(n),u=l=no(this,n)),a===u?null:a===r&&u===s?o:(s=u,o=t(r=a,l))}}(n,r,om(this,"style."+n,t))).each(function(n,t){var e,r,s,l,o="style."+t,a="end."+o;return function(){var u=Mi(this,n),c=u.on,d=null==u.value[o]?l||(l=eT(t)):void 0;(c!==e||s!==d)&&(r=(e=c).copy()).on(a,s=d),u.on=r}}(this._id,n)):this.styleTween(n,function(n,t,e){var r,o,s=e+"";return function(){var a=no(this,n);return a===s?null:a===r?o:o=t(r=a,e)}}(n,r,t),e).on("end.style."+n,null)},styleTween:function(n,t,e){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,n8(n,t,null==e?"":e))},text:function(n){return this.tween("text","function"==typeof n?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(om(this,"text",n)):function(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,l8(n))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(n,t){var e=this._id;if(n+="",arguments.length<2){for(var a,r=oi(this.node(),e).tween,s=0,o=r.length;s<o;++s)if((a=r[s]).name===n)return a.value;return null}return this.each((null==t?X3:J3)(e,n,t))},delay:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Rj:Aj)(t,n)):oi(this.node(),t).delay},duration:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Ij:Fj)(t,n)):oi(this.node(),t).duration},ease:function(n){var t=this._id;return arguments.length?this.each(Oj(t,n)):oi(this.node(),t).ease},easeVarying:function(n){if("function"!=typeof n)throw new Error;return this.each(function(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;Mi(this,n).ease=e}}(this._id,n))},end:function(){var n,t,e=this,r=e._id,s=e.size();return new Promise(function(o,a){var l={value:a},u={value:function(){0==--s&&o()}};e.each(function(){var c=Mi(this,r),d=c.on;d!==n&&((t=(n=d).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),0===s&&o()})},[Symbol.iterator]:Ki[Symbol.iterator]};var m8={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function g8(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}La.prototype.interrupt=function(n){return this.each(function(){!function(n,t){var r,s,a,e=n.__transition,o=!0;if(e){for(a in t=null==t?null:t+"",e)(r=e[a]).name===t?(s=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(s?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete e[a]):o=!1;o&&delete n.__transition}}(this,n)})},La.prototype.transition=function(n){var t,e;n instanceof qi?(t=n._id,n=n._name):(t=tT(),(e=m8).time=em(),n=null==n?null:n+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var u,a=r[o],l=a.length,c=0;c<l;++c)(u=a[c])&&pc(u,n,t,c,a,e||g8(u,t));return new qi(r,this._parents,n,t)};Math;function ja(n){return{type:n}}function T8(n,t,e){n=+n,t=+t,e=(s=arguments.length)<2?(t=n,n=0,1):s<3?1:+e;for(var r=-1,s=0|Math.max(0,Math.ceil((t-n)/e)),o=new Array(s);++r<s;)o[r]=n+r*e;return o}function bm(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}["w","e"].map(ja),["n","s"].map(ja),["n","w","e","s","nw","ne","sw","se"].map(ja);class aT extends Map{constructor(t,e=cT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(vm(this,t))}has(t){return super.has(vm(this,t))}set(t,e){return super.set(function({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}(this,t),e)}delete(t){return super.delete(function({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}(this,t))}}function vm({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function cT(n){return null!==n&&"object"==typeof n?n.valueOf():n}Set;const dT=Symbol("implicit");function hT(){var n=new aT,t=[],e=[],r=dT;function s(o){let a=n.get(o);if(void 0===a){if(r!==dT)return r;n.set(o,a=t.push(o)-1)}return e[a%e.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new aT;for(const a of o)n.has(a)||n.set(a,t.push(a)-1);return s},s.range=function(o){return arguments.length?(e=Array.from(o),s):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return hT(t,e).unknown(r)},bm.apply(s,arguments),s}function ym(){var o,a,n=hT().unknown(void 0),t=n.domain,e=n.range,r=0,s=1,l=!1,u=0,c=0,d=.5;function h(){var f=t().length,p=s<r,m=p?s:r,b=p?r:s;o=(b-m)/Math.max(1,f-u+2*c),l&&(o=Math.floor(o)),m+=(b-m-o*(f-u))*d,a=o*(1-u),l&&(m=Math.round(m),a=Math.round(a));var g=T8(f).map(function(v){return m+o*v});return e(p?g.reverse():g)}return delete n.unknown,n.domain=function(f){return arguments.length?(t(f),h()):t()},n.range=function(f){return arguments.length?([r,s]=f,r=+r,s=+s,h()):[r,s]},n.rangeRound=function(f){return[r,s]=f,r=+r,s=+s,l=!0,h()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(f){return arguments.length?(l=!!f,h()):l},n.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),h()):u},n.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},n.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},n.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},n.copy=function(){return ym(t(),[r,s]).round(l).paddingInner(u).paddingOuter(c).align(d)},bm.apply(h(),arguments)}var _m=Math.sqrt(50),wm=Math.sqrt(10),Cm=Math.sqrt(2);function pT(n,t,e){var r=(t-n)/Math.max(0,e),s=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,s);return s>=0?(o>=_m?10:o>=wm?5:o>=Cm?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(o>=_m?10:o>=wm?5:o>=Cm?2:1)}function Em(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function mT(n){let t=n,e=n,r=n;function s(l,u,c=0,d=l.length){if(c<d){if(0!==e(u,u))return d;do{const h=c+d>>>1;r(l[h],u)<0?c=h+1:d=h}while(c<d)}return c}return 2!==n.length&&(t=(l,u)=>n(l)-u,e=Em,r=(l,u)=>Em(n(l),u)),{left:s,center:function(l,u,c=0,d=l.length){const h=s(l,u,c,d-1);return h>c&&t(l[h-1],u)>-t(l[h],u)?h-1:h},right:function(l,u,c=0,d=l.length){if(c<d){if(0!==e(u,u))return d;do{const h=c+d>>>1;r(l[h],u)<=0?c=h+1:d=h}while(c<d)}return c}}}const R8=mT(Em).right,A8=(mT(function(n){return null===n?NaN:+n}),R8);function bT(n,t){var a,e=t?t.length:0,r=n?Math.min(e,n.length):0,s=new Array(r),o=new Array(e);for(a=0;a<r;++a)s[a]=Dm(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=s[a](l);return o}}function k8(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function I8(n,t){var s,e={},r={};for(s in(null===n||"object"!=typeof n)&&(n={}),(null===t||"object"!=typeof t)&&(t={}),t)s in n?e[s]=Dm(n[s],t[s]):r[s]=t[s];return function(o){for(s in e)r[s]=e[s](o);return r}}function F8(n,t){t||(t=[]);var s,e=n?Math.min(t.length,n.length):0,r=t.slice();return function(o){for(s=0;s<e;++s)r[s]=n[s]*(1-o)+t[s]*o;return r}}function Dm(n,t){var r,e=typeof t;return null==t||"boolean"===e?cm(t):("number"===e?ai:"string"===e?(r=$r(t))?(t=r,yc):XD:t instanceof $r?yc:t instanceof Date?k8:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(t)?F8:Array.isArray(t)?bT:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?I8:ai)(n,t)}function O8(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function P8(n){return+n}var vT=[0,1];function ao(n){return n}function Tm(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:function(n){return function(){return n}}(isNaN(t)?NaN:.5)}function H8(n,t,e){var r=n[0],s=n[1],o=t[0],a=t[1];return s<r?(r=Tm(s,r),o=e(a,o)):(r=Tm(r,s),o=e(o,a)),function(l){return o(r(l))}}function V8(n,t,e){var r=Math.min(n.length,t.length)-1,s=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)s[a]=Tm(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(l){var u=A8(n,l,1,r)-1;return o[u](s[u](l))}}function z8(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function U8(){return function(){var r,s,o,l,u,c,n=vT,t=vT,e=Dm,a=ao;function d(){var f=Math.min(n.length,t.length);return a!==ao&&(a=function(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}(n[0],n[f-1])),l=f>2?V8:H8,u=c=null,h}function h(f){return null==f||isNaN(f=+f)?o:(u||(u=l(n.map(r),t,e)))(r(a(f)))}return h.invert=function(f){return a(s((c||(c=l(t,n.map(r),ai)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,P8),d()):n.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),e=O8,d()},h.clamp=function(f){return arguments.length?(a=!!f||ao,d()):a!==ao},h.interpolate=function(f){return arguments.length?(e=f,d()):e},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return r=f,s=p,d()}}()(ao,ao)}var yT,$8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cc(n){if(!(t=$8.exec(n)))throw new Error("invalid format: "+n);var t;return new Mm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Mm(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function Ec(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function lo(n){return(n=Ec(Math.abs(n)))?n[1]:NaN}function _T(n,t){var e=Ec(n,t);if(!e)return n+"";var r=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}Cc.prototype=Mm.prototype,Mm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const wT={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>_T(100*n,t),r:_T,s:function(n,t){var e=Ec(n,t);if(!e)return n+"";var r=e[0],s=e[1],o=s-(yT=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ec(n,Math.max(0,t+o-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function CT(n){return n}var Dc,TT,MT,ET=Array.prototype.map,DT=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function nU(n){var t=n.domain;return n.ticks=function(e){var r=t();return function(n,t,e){var r,o,a,l,s=-1;if(e=+e,(n=+n)==(t=+t)&&e>0)return[n];if((r=t<n)&&(o=n,n=t,t=o),0===(l=pT(n,t,e))||!isFinite(l))return[];if(l>0){let u=Math.round(n/l),c=Math.round(t/l);for(u*l<n&&++u,c*l>t&&--c,a=new Array(o=c-u+1);++s<o;)a[s]=(u+s)*l}else{l=-l;let u=Math.round(n*l),c=Math.round(t*l);for(u/l<n&&++u,c/l>t&&--c,a=new Array(o=c-u+1);++s<o;)a[s]=(u+s)/l}return r&&a.reverse(),a}(r[0],r[r.length-1],null==e?10:e)},n.tickFormat=function(e,r){var s=t();return function(n,t,e,r){var o,s=function(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/s;return o>=_m?s*=10:o>=wm?s*=5:o>=Cm&&(s*=2),t<n?-s:s}(n,t,e);switch((r=Cc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(n),Math.abs(t));return null==r.precision&&!isNaN(o=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lo(t)/3)))-lo(Math.abs(n)))}(s,a))&&(r.precision=o),MT(r,a);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(o=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,lo(t)-lo(n))+1}(s,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(o=function(n){return Math.max(0,-lo(Math.abs(n)))}(s))&&(r.precision=o-2*("%"===r.type))}return TT(r)}(s[0],s[s.length-1],null==e?10:e,r)},n.nice=function(e){null==e&&(e=10);var u,c,r=t(),s=0,o=r.length-1,a=r[s],l=r[o],d=10;for(l<a&&(c=a,a=l,l=c,c=s,s=o,o=c);d-- >0;){if((c=pT(a,l,e))===u)return r[s]=a,r[o]=l,t(r);if(c>0)a=Math.floor(a/c)*c,l=Math.ceil(l/c)*c;else{if(!(c<0))break;a=Math.ceil(a*c)/c,l=Math.floor(l*c)/c}u=c}return n},n}function xT(){var n=U8();return n.copy=function(){return z8(n,xT())},bm.apply(n,arguments),nU(n)}function uo(n,t,e){this.k=n,this.x=t,this.y=e}Dc=function(n){var t=void 0===n.grouping||void 0===n.thousands?CT:function(n,t){return function(e,r){for(var s=e.length,o=[],a=0,l=n[0],u=0;s>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(e.substring(s-=l,s+l)),!((u+=l+1)>r));)l=n[a=(a+1)%n.length];return o.reverse().join(t)}}(ET.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",r=void 0===n.currency?"":n.currency[1]+"",s=void 0===n.decimal?".":n.decimal+"",o=void 0===n.numerals?CT:function(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(ET.call(n.numerals,String)),a=void 0===n.percent?"%":n.percent+"",l=void 0===n.minus?"\u2212":n.minus+"",u=void 0===n.nan?"NaN":n.nan+"";function c(h){var f=(h=Cc(h)).fill,p=h.align,m=h.sign,b=h.symbol,g=h.zero,v=h.width,y=h.comma,M=h.precision,O=h.trim,j=h.type;"n"===j?(y=!0,j="g"):wT[j]||(void 0===M&&(M=12),O=!0,j="g"),(g||"0"===f&&"="===p)&&(g=!0,f="0",p="=");var ie="$"===b?e:"#"===b&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",ue="$"===b?r:/[%p]/.test(j)?a:"",me=wT[j],Se=/[defgprs%]/.test(j);function de($){var w,B,E,Te=ie,he=ue;if("c"===j)he=me($)+he,$="";else{var k=($=+$)<0||1/$<0;if($=isNaN($)?u:me(Math.abs($),M),O&&($=function(n){e:for(var s,t=n.length,e=1,r=-1;e<t;++e)switch(n[e]){case".":r=s=e;break;case"0":0===r&&(r=e),s=e;break;default:if(!+n[e])break e;r>0&&(r=0)}return r>0?n.slice(0,r)+n.slice(s+1):n}($)),k&&0==+$&&"+"!==m&&(k=!1),Te=(k?"("===m?m:l:"-"===m||"("===m?"":m)+Te,he=("s"===j?DT[8+yT/3]:"")+he+(k&&"("===m?")":""),Se)for(w=-1,B=$.length;++w<B;)if(48>(E=$.charCodeAt(w))||E>57){he=(46===E?s+$.slice(w+1):$.slice(w))+he,$=$.slice(0,w);break}}y&&!g&&($=t($,1/0));var N=Te.length+$.length+he.length,P=N<v?new Array(v-N+1).join(f):"";switch(y&&g&&($=t(P+$,P.length?v-he.length:1/0),P=""),p){case"<":$=Te+$+he+P;break;case"=":$=Te+P+$+he;break;case"^":$=P.slice(0,N=P.length>>1)+Te+$+he+P.slice(N);break;default:$=P+Te+$+he}return o($)}return M=void 0===M?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M)),de.toString=function(){return h+""},de}return{format:c,formatPrefix:function(h,f){var p=c(((h=Cc(h)).type="f",h)),m=3*Math.max(-8,Math.min(8,Math.floor(lo(f)/3))),b=Math.pow(10,-m),g=DT[8+m/3];return function(v){return p(b*v)+g}}}}({thousands:",",grouping:[3],currency:["$",""]}),TT=Dc.format,MT=Dc.formatPrefix,uo.prototype={constructor:uo,scale:function(n){return 1===n?this:new uo(this.k*n,this.x,this.y)},translate:function(n,t){return 0===n&0===t?this:new uo(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new uo(1,0,0);var Je=W(225),RT=W(781);const Qt={encode:(n,t=Je.Writer.create())=>(""!==n.game&&t.uint32(10).string(n.game),0!==n.attempts&&t.uint32(16).int32(n.attempts),0!==n.maxAttempts&&t.uint32(24).int32(n.maxAttempts),""!==n.extraData&&t.uint32(34).string(n.extraData),t),decode(n,t){const e=n instanceof Je.Reader?n:new Je.Reader(n);let r=void 0===t?e.len:e.pos+t;const s={game:"",attempts:0,maxAttempts:0,extraData:""};for(;e.pos<r;){const o=e.uint32();switch(o>>>3){case 1:s.game=e.string();break;case 2:s.attempts=e.int32();break;case 3:s.maxAttempts=e.int32();break;case 4:s.extraData=e.string();break;default:e.skipType(7&o)}}return s},fromJSON:n=>({game:Ht(n.game)?String(n.game):"",attempts:Ht(n.attempts)?Number(n.attempts):0,maxAttempts:Ht(n.maxAttempts)?Number(n.maxAttempts):0,extraData:Ht(n.extraData)?String(n.extraData):""}),toJSON(n){const t={};return void 0!==n.game&&(t.game=n.game),void 0!==n.attempts&&(t.attempts=Math.round(n.attempts)),void 0!==n.maxAttempts&&(t.maxAttempts=Math.round(n.maxAttempts)),void 0!==n.extraData&&(t.extraData=n.extraData),t},fromPartial(n){var t,e,r,s;const o={game:"",attempts:0,maxAttempts:0,extraData:""};return o.game=null!==(t=n.game)&&void 0!==t?t:"",o.attempts=null!==(e=n.attempts)&&void 0!==e?e:0,o.maxAttempts=null!==(r=n.maxAttempts)&&void 0!==r?r:0,o.extraData=null!==(s=n.extraData)&&void 0!==s?s:"",o}},gr={encode:(n,t=Je.Writer.create())=>(""!==n.lastKnownName&&t.uint32(26).string(n.lastKnownName),Object.entries(n.classicGames).forEach(([e,r])=>{FT.encode({key:e,value:r},t.uint32(10).fork()).ldelim()}),Object.entries(n.customGames).forEach(([e,r])=>{OT.encode({key:e,value:r},t.uint32(18).fork()).ldelim()}),t),decode(n,t){const e=n instanceof Je.Reader?n:new Je.Reader(n);let r=void 0===t?e.len:e.pos+t;const s={lastKnownName:"",classicGames:{},customGames:{}};for(;e.pos<r;){const o=e.uint32();switch(o>>>3){case 3:s.lastKnownName=e.string();break;case 1:const a=FT.decode(e,e.uint32());void 0!==a.value&&(s.classicGames[a.key]=a.value);break;case 2:const l=OT.decode(e,e.uint32());void 0!==l.value&&(s.customGames[l.key]=l.value);break;default:e.skipType(7&o)}}return s},fromJSON:n=>({lastKnownName:Ht(n.lastKnownName)?String(n.lastKnownName):"",classicGames:Tc(n.classicGames)?Object.entries(n.classicGames).reduce((t,[e,r])=>(t[e]=Qt.fromJSON(r),t),{}):{},customGames:Tc(n.customGames)?Object.entries(n.customGames).reduce((t,[e,r])=>(t[e]=Qt.fromJSON(r),t),{}):{}}),toJSON(n){const t={};return void 0!==n.lastKnownName&&(t.lastKnownName=n.lastKnownName),t.classicGames={},n.classicGames&&Object.entries(n.classicGames).forEach(([e,r])=>{t.classicGames[e]=Qt.toJSON(r)}),t.customGames={},n.customGames&&Object.entries(n.customGames).forEach(([e,r])=>{t.customGames[e]=Qt.toJSON(r)}),t},fromPartial(n){var t,e,r;const s={lastKnownName:"",classicGames:{},customGames:{}};return s.lastKnownName=null!==(t=n.lastKnownName)&&void 0!==t?t:"",s.classicGames=Object.entries(null!==(e=n.classicGames)&&void 0!==e?e:{}).reduce((o,[a,l])=>(void 0!==l&&(o[a]=Qt.fromPartial(l)),o),{}),s.customGames=Object.entries(null!==(r=n.customGames)&&void 0!==r?r:{}).reduce((o,[a,l])=>(void 0!==l&&(o[a]=Qt.fromPartial(l)),o),{}),s}},FT={encode:(n,t=Je.Writer.create())=>(""!==n.key&&t.uint32(10).string(n.key),void 0!==n.value&&Qt.encode(n.value,t.uint32(18).fork()).ldelim(),t),decode(n,t){const e=n instanceof Je.Reader?n:new Je.Reader(n);let r=void 0===t?e.len:e.pos+t;const s={key:"",value:void 0};for(;e.pos<r;){const o=e.uint32();switch(o>>>3){case 1:s.key=e.string();break;case 2:s.value=Qt.decode(e,e.uint32());break;default:e.skipType(7&o)}}return s},fromJSON:n=>({key:Ht(n.key)?String(n.key):"",value:Ht(n.value)?Qt.fromJSON(n.value):void 0}),toJSON(n){const t={};return void 0!==n.key&&(t.key=n.key),void 0!==n.value&&(t.value=n.value?Qt.toJSON(n.value):void 0),t},fromPartial(n){var t;const e={key:"",value:void 0};return e.key=null!==(t=n.key)&&void 0!==t?t:"",e.value=null!=n.value?Qt.fromPartial(n.value):void 0,e}},OT={encode:(n,t=Je.Writer.create())=>(""!==n.key&&t.uint32(10).string(n.key),void 0!==n.value&&Qt.encode(n.value,t.uint32(18).fork()).ldelim(),t),decode(n,t){const e=n instanceof Je.Reader?n:new Je.Reader(n);let r=void 0===t?e.len:e.pos+t;const s={key:"",value:void 0};for(;e.pos<r;){const o=e.uint32();switch(o>>>3){case 1:s.key=e.string();break;case 2:s.value=Qt.decode(e,e.uint32());break;default:e.skipType(7&o)}}return s},fromJSON:n=>({key:Ht(n.key)?String(n.key):"",value:Ht(n.value)?Qt.fromJSON(n.value):void 0}),toJSON(n){const t={};return void 0!==n.key&&(t.key=n.key),void 0!==n.value&&(t.value=n.value?Qt.toJSON(n.value):void 0),t},fromPartial(n){var t;const e={key:"",value:void 0};return e.key=null!==(t=n.key)&&void 0!==t?t:"",e.value=null!=n.value?Qt.fromPartial(n.value):void 0,e}},dU={encode:(n,t=Je.Writer.create())=>(""!==n.name&&t.uint32(10).string(n.name),""!==n.filename&&t.uint32(18).string(n.filename),Object.entries(n.users).forEach(([e,r])=>{BT.encode({key:e,value:r},t.uint32(26).fork()).ldelim()}),t),decode(n,t){const e=n instanceof Je.Reader?n:new Je.Reader(n);let r=void 0===t?e.len:e.pos+t;const s={name:"",filename:"",users:{}};for(;e.pos<r;){const o=e.uint32();switch(o>>>3){case 1:s.name=e.string();break;case 2:s.filename=e.string();break;case 3:const a=BT.decode(e,e.uint32());void 0!==a.value&&(s.users[a.key]=a.value);break;default:e.skipType(7&o)}}return s},fromJSON:n=>({name:Ht(n.name)?String(n.name):"",filename:Ht(n.filename)?String(n.filename):"",users:Tc(n.users)?Object.entries(n.users).reduce((t,[e,r])=>(t[e]=gr.fromJSON(r),t),{}):{}}),toJSON(n){const t={};return void 0!==n.name&&(t.name=n.name),void 0!==n.filename&&(t.filename=n.filename),t.users={},n.users&&Object.entries(n.users).forEach(([e,r])=>{t.users[e]=gr.toJSON(r)}),t},fromPartial(n){var t,e,r;const s={name:"",filename:"",users:{}};return s.name=null!==(t=n.name)&&void 0!==t?t:"",s.filename=null!==(e=n.filename)&&void 0!==e?e:"",s.users=Object.entries(null!==(r=n.users)&&void 0!==r?r:{}).reduce((o,[a,l])=>(void 0!==l&&(o[a]=gr.fromPartial(l)),o),{}),s}},BT={encode:(n,t=Je.Writer.create())=>(""!==n.key&&t.uint32(10).string(n.key),void 0!==n.value&&gr.encode(n.value,t.uint32(18).fork()).ldelim(),t),decode(n,t){const e=n instanceof Je.Reader?n:new Je.Reader(n);let r=void 0===t?e.len:e.pos+t;const s={key:"",value:void 0};for(;e.pos<r;){const o=e.uint32();switch(o>>>3){case 1:s.key=e.string();break;case 2:s.value=gr.decode(e,e.uint32());break;default:e.skipType(7&o)}}return s},fromJSON:n=>({key:Ht(n.key)?String(n.key):"",value:Ht(n.value)?gr.fromJSON(n.value):void 0}),toJSON(n){const t={};return void 0!==n.key&&(t.key=n.key),void 0!==n.value&&(t.value=n.value?gr.toJSON(n.value):void 0),t},fromPartial(n){var t;const e={key:"",value:void 0};return e.key=null!==(t=n.key)&&void 0!==t?t:"",e.value=null!=n.value?gr.fromPartial(n.value):void 0,e}};function Tc(n){return"object"==typeof n&&null!==n}function Ht(n){return null!=n}Je.util.Long!==RT&&(Je.util.Long=RT,(0,Je.configure)());class li{constructor(t){this.table=t}reloadData(t,e){return this.table.dataLoader.load(t,void 0,void 0,void 0,e)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(){return this.table.modules.layout.layout()}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(t){return this.table.eventBus.subscribed(t)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(t){return this.table.externalEvents.subscribed(t)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(t){return this.table.options[t]}setOption(t,e){return void 0!==e&&(this.table.options[t]=e),this.table.options[t]}module(t){return this.table.module(t)}}class Ve extends li{constructor(t,e){super(t),this._handler=null}initialize(){}registerTableOption(t,e){this.table.optionsList.register(t,e)}registerColumnOption(t,e){this.table.columnManager.optionsList.register(t,e)}registerTableFunction(t,e){void 0===this.table[t]?this.table[t]=e:console.warn("Unable to bind table function, name already in use",t)}registerComponentFunction(t,e,r){return this.table.componentFunctionBinder.bind(t,e,r)}registerDataHandler(t,e){this.table.rowManager.registerDataPipelineHandler(t,e),this._handler=t}registerDisplayHandler(t,e){this.table.rowManager.registerDisplayPipelineHandler(t,e),this._handler=t}refreshData(t,e){e||(e=this._handler),e&&this.table.rowManager.refreshActiveData(e,!1,t)}}class lt{static elVisible(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)}static elOffset(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(t,e,r=[]){var s={}.__proto__,o=[].__proto__;for(var a in e||(e=Object.assign(Array.isArray(t)?[]:{},t)),t){let u,c,l=t[a];null!=l&&"object"==typeof l&&(l.__proto__===s||l.__proto__===o)&&(u=r.findIndex(d=>d.subject===l),u>-1?e[a]=r[u].copy:(c=Object.assign(Array.isArray(l)?[]:{},l),r.unshift({subject:l,copy:c}),e[a]=this.deepClone(l,c,r)))}return e}}var hU={};let fU=(()=>{class n extends Ve{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var r=!1,s={};this.allowedTypes.forEach(o=>{var l,a="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[a]&&(l=this.lookupAccessor(e.definition[a]))&&(r=!0,s[a]={accessor:l,params:e.definition[a+"Params"]||{}})}),r&&(e.modules.accessor=s)}lookupAccessor(e){var r=!1;switch(typeof e){case"string":n.accessors[e]?r=n.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":r=e}return r}transformRow(e,r){var s="accessor"+(r.charAt(0).toUpperCase()+r.slice(1)),o=e.getComponent(),a=lt.deepClone(e.data||{});return this.table.columnManager.traverse(function(l){var u,c,d,h;l.modules.accessor&&(c=l.modules.accessor[s]||l.modules.accessor.accessor||!1)&&"undefined"!=(u=l.getFieldValue(a))&&(h=l.getComponent(),d="function"==typeof c.params?c.params(u,a,r,h,o):c.params,l.setFieldValue(a,c.accessor(u,a,r,d,h,o)))}),a}}return n.moduleName="accessor",n.accessors=hU,n})();var pU={method:"GET"};function xm(n,t){var e=[];if(t=t||"",Array.isArray(n))n.forEach((s,o)=>{e=e.concat(xm(s,t?t+"["+o+"]":o))});else if("object"==typeof n)for(var r in n)e=e.concat(xm(n[r],t?t+"["+r+"]":r));else e.push({key:t,value:n});return e}function mU(n){var t=xm(n),e=[];return t.forEach(function(r){e.push(encodeURIComponent(r.key)+"="+encodeURIComponent(r.value))}),e.join("&")}function gU(n,t,e){return n&&e&&Object.keys(e).length&&(!t.method||"get"==t.method.toLowerCase())&&(t.method="get",n+=(n.includes("?")?"&":"?")+mU(e)),n}function bU(n,t,e){var r;return new Promise((s,o)=>{if(n=this.urlGenerator.call(this.table,n,t,e),"GET"!=t.method.toUpperCase())if(r="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var a in r.headers)t.headers||(t.headers={}),void 0===t.headers[a]&&(t.headers[a]=r.headers[a]);t.body=r.body.call(this,n,t,e)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);n?(void 0===t.headers&&(t.headers={}),void 0===t.headers.Accept&&(t.headers.Accept="application/json"),void 0===t.headers["X-Requested-With"]&&(t.headers["X-Requested-With"]="XMLHttpRequest"),void 0===t.mode&&(t.mode="cors"),"cors"==t.mode?(void 0===t.headers.Origin&&(t.headers.Origin=window.location.origin),void 0===t.credentials&&(t.credentials="same-origin")):void 0===t.credentials&&(t.credentials="include"),fetch(n,t).then(l=>{l.ok?l.json().then(u=>{s(u)}).catch(u=>{o(u),console.warn("Ajax Load Error - Invalid JSON returned",u)}):(console.error("Ajax Load Error - Connection Error: "+l.status,l.statusText),o(l))}).catch(l=>{console.error("Ajax Load Error - Connection Error: ",l),o(l)})):(console.warn("Ajax Load Error - No URL Set"),s([]))})}function Sm(n,t){var e=[];if(t=t||"",Array.isArray(n))n.forEach((s,o)=>{e=e.concat(Sm(s,t?t+"["+o+"]":o))});else if("object"==typeof n)for(var r in n)e=e.concat(Sm(n[r],t?t+"["+r+"]":r));else e.push({key:t,value:n});return e}var vU={json:{headers:{"Content-Type":"application/json"},body:function(n,t,e){return JSON.stringify(e)}},form:{headers:{},body:function(n,t,e){var r=Sm(e),s=new FormData;return r.forEach(function(o){s.append(o.key,o.value)}),s}}};let yU=(()=>{class n extends Ve{constructor(e){super(e),this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=n.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||n.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||n.defaultURLGenerator,this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestDataCheck(e,r,s,o){return!((e||!this.url)&&"string"!=typeof e)}requestData(e,r,s,o,a){return this.requestDataCheck(e)?(e&&this.setUrl(e),r&&this.setParams(r,!0),s&&this.setConfig(s),this.sendRequest()):a}setParams(e,r){if(r){this.params=this.params||{};for(let s in e)this.params[s]=e[s]}else this.params=e}getParams(){return this.params||{}}setConfig(e){if(this._loadDefaultConfig(),"string"==typeof e)this.config.method=e;else for(let r in e)this.config[r]=e[r]}_loadDefaultConfig(e){if(!this.config||e){this.config={};for(let r in n.defaultConfig)this.config[r]=n.defaultConfig[r]}}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e){var r=this.url;return this._loadDefaultConfig(),!1!==this.table.options.ajaxRequesting.call(this.table,this.url,this.params)?this.loaderPromise(r,this.config,this.params).then(s=>(this.table.options.ajaxResponse&&(s=this.table.options.ajaxResponse.call(this.table,this.url,this.params,s)),s)):Promise.reject()}}return n.moduleName="ajax",n.defaultConfig=pU,n.defaultURLGenerator=gU,n.defaultLoaderPromise=bU,n.contentTypeFormatters=vU,n})();var _U={replace:function(n){return this.table.setData(n)},update:function(n){return this.table.updateOrAddData(n)},insert:function(n){return this.table.addData(n)}},wU={table:function(n){var t=[],e=!0,r=this.table.columnManager.columns,s=[],o=[];return(n=n.split("\n")).forEach(function(a){t.push(a.split("\t"))}),!(!t.length||1===t.length&&t[0].length<2)&&(t[0].forEach(function(a){var l=r.find(function(u){return a&&u.definition.title&&a.trim()&&u.definition.title.trim()===a.trim()});l?s.push(l):e=!1}),e||(e=!0,s=[],t[0].forEach(function(a){var l=r.find(function(u){return a&&u.field&&a.trim()&&u.field.trim()===a.trim()});l?s.push(l):e=!1}),e||(s=this.table.columnManager.columnsByIndex)),e&&t.shift(),t.forEach(function(a){var l={};a.forEach(function(u,c){s[c]&&(l[s[c].field]=u)}),o.push(l)}),o)}};let CU=(()=>{class n extends Ve{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",e=>{var r,s;if(!this.blocked){if(e.preventDefault(),this.customSelection)r=this.customSelection,this.table.options.clipboardCopyFormatter&&(r=this.table.options.clipboardCopyFormatter("plain",r));else{var o=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard");r=(s=this.table.modules.export.genereateHTMLTable(o))?this.generatePlainContent(o):"",this.table.options.clipboardCopyFormatter&&(r=this.table.options.clipboardCopyFormatter("plain",r),s=this.table.options.clipboardCopyFormatter("html",s))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",r):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",r),s&&e.clipboardData.setData("text/html",s)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",r),s&&e.originalEvent.clipboardData.setData("text/html",s)),this.dispatchExternal("clipboardCopied",r,s),this.reset()}}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var r=[];return e.forEach(s=>{var o=[];s.columns.forEach(a=>{var l="";if(a)if("group"===s.type&&(a.value=a.component.getKey()),null===a.value)l="";else switch(typeof a.value){case"object":l=JSON.stringify(a.value);break;case"undefined":l="";break;default:l=a.value}o.push(l)}),r.push(o.join("\t"))}),r.join("\n")}copy(e,r){var s,o;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((e=document.createRange()).selectNodeContents(this.table.element),(s=window.getSelection()).toString()&&r&&(this.customSelection=s.toString()),s.removeAllRanges(),s.addRange(e)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((o=document.body.createTextRange()).moveToElementText(this.table.element),o.select()),document.execCommand("copy"),s&&s.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=n.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=n.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}}paste(e){var r,s,o;this.checkPaseOrigin(e)&&(r=this.getPasteData(e),(s=this.pasteParser.call(this,r))?(e.preventDefault(),this.table.modExists("mutator")&&(s=this.mutateData(s)),o=this.pasteAction.call(this,s),this.dispatchExternal("clipboardPasted",r,s,o)):this.dispatchExternal("clipboardPasteError",r))}mutateData(e){var r=[];return Array.isArray(e)?e.forEach(s=>{r.push(this.table.modules.mutator.transformRow(s,"clipboard"))}):r=e,r}checkPaseOrigin(e){var r=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(r=!1),r}getPasteData(e){var r;return window.clipboardData&&window.clipboardData.getData?r=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?r=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(r=e.originalEvent.clipboardData.getData("text/plain")),r}}return n.moduleName="clipboard",n.pasteActions=_U,n.pasteParsers=wU,n})();class EU{constructor(t){return this._row=t,new Proxy(this,{get:function(e,r,s){return void 0!==e[r]?e[r]:e._row.table.componentFunctionBinder.handle("row",e._row,r)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}_getSelf(){return this._row}}class jT{constructor(t){return this._cell=t,new Proxy(this,{get:function(e,r,s){return void 0!==e[r]?e[r]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,r)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(t,e){void 0===e&&(e=!0),this._cell.setValue(t,e)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class Mc extends li{constructor(t,e){super(t.table),this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}_configureCell(){var t=this.element,e=this.column.getField();t.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(t.style.display="inline-flex",t.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(t.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),e&&t.setAttribute("tabulator-field",e),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(a=>{t.classList.add(a)}),"hover"===this.table.options.tooltipGenerationMode&&t.addEventListener("mouseenter",a=>{this._generateTooltip()}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var t;switch(typeof(t=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(t instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",null!=t&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=t}}cellRendered(){this.dispatch("cell-rendered",this)}_generateTooltip(){var t=this.column.tooltip;t?(!0===t?t=this.value:"function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),void 0===t&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")}getElement(t){return this.loaded||(this.loaded=!0,t||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(t,e){this.setValueProcessData(t,e)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(t,e){var r=!1;return this.value!=t&&(r=!0,e&&(t=this.chain("cell-value-changing",[this,t],null,t))),this.setValueActual(t),r&&this.dispatch("cell-value-changed",this),r}setValueActual(t){this.oldValue=this.value,this.value=t,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,t),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new jT(this)),this.component}}class UT{constructor(t){return this._column=t,this.type="ColumnComponent",new Proxy(this,{get:function(e,r,s){return void 0!==e[r]?e[r]:e._column.table.componentFunctionBinder.handle("column",e._column,r)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getCells(){var t=[];return this._column.cells.forEach(function(e){t.push(e.getComponent())}),t}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(t){t.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(t){t.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var t=[];return this._column.columns.length&&this._column.columns.forEach(function(e){t.push(e.getComponent())}),t}getParentColumn(){return this._column.parent instanceof Column&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(t,e){var r=this._column.table.columnManager.findColumn(t);r?this._column.table.columnManager.moveColumn(this._column,r,e):console.warn("Move Error - No matching column found:",r)}getNextColumn(){var t=this._column.nextColumn();return!!t&&t.getComponent()}getPrevColumn(){var t=this._column.prevColumn();return!!t&&t.getComponent()}updateDefinition(t){return this._column.updateDefinition(t)}getWidth(){return this._column.getWidth()}setWidth(t){var e;return e=!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.columnManager.renderer.rerenderColumns(!0),e}}var $T={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0};let xc=(()=>{class n extends li{constructor(e,r){super(r.table),this.definition=e,this.parent=r,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((s,o)=>{var a=new n(s,this);this.attachColumn(a)}),this.checkColumnVisibility()):r.registerColumnField(this),this._initialize(),this.bindModuleColumns()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let r in e)void 0===this.definition[r]&&(this.definition[r]=e[r]);this.definition=this.table.columnManager.optionsList.generate(n.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{-1===n.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_mapDepricatedFunctionality(){}setTooltip(){var e=this.definition,r=e.headerTooltip;r?!0===r?e.field?this.langBind("columns|"+e.field,s=>{this.element.setAttribute("title",s||e.title)}):this.element.setAttribute("title",e.title):("function"==typeof r&&!1===(r=r(this.getComponent()))&&(r=""),this.element.setAttribute("title",r)):this.element.setAttribute("title","")}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",r=>{this.setTooltip()})}_bindEvents(){var r,s,o,e=this.definition;"function"==typeof e.headerClick&&this.element.addEventListener("click",a=>{e.headerClick(a,this.getComponent())}),"function"==typeof e.headerDblClick&&this.element.addEventListener("dblclick",a=>{e.headerDblClick(a,this.getComponent())}),"function"==typeof e.headerContext&&this.element.addEventListener("contextmenu",a=>{e.headerContext(a,this.getComponent())}),"function"==typeof e.headerTap&&(o=!1,this.element.addEventListener("touchstart",a=>{o=!0},{passive:!0}),this.element.addEventListener("touchend",a=>{o&&e.headerTap(a,this.getComponent()),o=!1})),"function"==typeof e.headerDblTap&&(r=null,this.element.addEventListener("touchend",a=>{r?(clearTimeout(r),r=null,e.headerDblTap(a,this.getComponent())):r=setTimeout(()=>{clearTimeout(r),r=null},300)})),"function"==typeof e.headerTapHold&&(s=null,this.element.addEventListener("touchstart",a=>{clearTimeout(s),s=setTimeout(function(){clearTimeout(s),s=null,o=!1,e.headerTapHold(a,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",a=>{clearTimeout(s),s=null}))}_buildColumnHeader(){var e=this.definition;this.dispatch("column-layout",this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach(o=>{this.element.classList.add(o)}),e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var s=document.createElement("div");return s.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),s.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),s}_buildColumnHeaderTitle(){var e=this.definition,r=document.createElement("div");if(r.classList.add("tabulator-col-title"),e.editableTitle){var s=document.createElement("input");s.classList.add("tabulator-title-editor"),s.addEventListener("click",o=>{o.stopPropagation(),s.focus()}),s.addEventListener("change",()=>{e.title=s.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),r.appendChild(s),e.field?this.langBind("columns|"+e.field,o=>{s.value=o||e.title||"&nbsp;"}):s.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,o=>{this._formatColumnHeaderTitle(r,o||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(r,e.title||"&nbsp;");return r}_formatColumnHeaderTitle(e,r){var s=this.chain("column-format",[this,r,e],null,()=>r);switch(typeof s){case"object":s instanceof Node?e.appendChild(s):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",s));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=s}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(r=>{this.element.classList.add(r)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var a,r=e,s=this.fieldStructure,o=s.length;for(let l=0;l<o&&(a=r=r[s[l]],r);l++);return a}_setFlatData(e,r){this.field&&(e[this.field]=r)}_setNestedData(e,r){var s=e,o=this.fieldStructure,a=o.length;for(let l=0;l<a;l++)if(l==a-1)s[o[l]]=r;else{if(!s[o[l]]){if(void 0===r)break;s[o[l]]={}}s=s[o[l]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,r){var s=this.parent.isGroup?this.parent.getGroupElement().clientHeight:r||this.parent.getHeadersElement().clientHeight;this.element.style.height=s+"px",this.isGroup&&(this.groupElement.style.minHeight=s-this.contentElement.offsetHeight+"px"),!this.isGroup&&"top"!==e&&(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(o){o.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()})}bindModuleColumns(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(){return this.columns}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var r=[];return this.isGroup&&e&&(this.columns.forEach(function(s){r.push(s.getDefinition(!0))}),this.definition.columns=r),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(r){r.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,r){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(s){s.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,r),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}hide(e,r){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(s){s.hide()}),this.dispatch("column-hide",this,r),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(r){r.visible&&(e+=r.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var r=this.columns.indexOf(e);r>-1&&this.columns.splice(r,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(r){r.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(r){r.row.heightInitialized&&(null!==r.row.getElement().offsetParent?(e.push(r.row),r.row.clearCellHeight()):r.row.heightInitialized=!1)}),e.forEach(function(r){r.calcHeight()}),e.forEach(function(r){r.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(r){r.visible&&(e+=r.getWidth())}):e=this.width,e}getHeight(){return this.element.offsetHeight}setMinWidth(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(r){r.setMinWidth()})}setMaxWidth(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(r){r.setMaxWidth()})}delete(){return new Promise((e,r)=>{this.isGroup&&this.columns.forEach(function(o){o.delete()}),this.dispatch("column-delete",this);var s=this.cells.length;for(let o=0;o<s;o++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.renderer.rerenderColumns(!0),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered()}generateCell(e){var r=new Mc(this,e);return this.cells.push(r),r}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}_nextVisibleColumn(e){var r=this.table.columnManager.getColumnByIndex(e);return!r||r.visible?r:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}_prevVisibleColumn(e){var r=this.table.columnManager.getColumnByIndex(e);return!r||r.visible?r:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,void 0!==this.definition.width&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(),this.dispatch("column-width-fit-after",this)}fitToData(){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(r=>{r.clearWidth()}));var e=this.element.offsetWidth;(!this.width||!this.widthFixed)&&(this.cells.forEach(r=>{var s=r.getWidth();s>e&&(e=s)}),e&&this.setWidthActual(e+1))}}updateDefinition(e){var r;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(r=Object.assign({},this.getDefinition()),r=Object.assign(r,e),this.table.columnManager.addColumn(r,!1,this).then(s=>(r.field==this.field&&(this.field=!1),this.delete().then(()=>s.getComponent()))))}deleteCell(e){var r=this.cells.indexOf(e);r>-1&&this.cells.splice(r,1)}getComponent(){return this.component||(this.component=new UT(this)),this.component}}return n.defaultOptionList=$T,n})();class Rm{constructor(t){return this._row=t,new Proxy(this,{get:function(e,r,s){return void 0!==e[r]?e[r]:e._row.table.componentFunctionBinder.handle("row",e._row,r)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getCells(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(t){return this._row.table.rowManager.getRowPosition(this._row,t)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(t,e){this._row.moveToRow(t,e)}update(t){return this._row.updateData(t)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var t=this._row.nextRow();return t&&t.getComponent()}getPrevRow(){var t=this._row.prevRow();return t&&t.getComponent()}}class hn extends li{constructor(t,e,r="row"){super(e.table),this.parent=e,this.data={},this.type=r,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(t)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var t=document.createElement("div");t.classList.add("tabulator-row"),t.setAttribute("role","row"),this.element=t}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(t){if(this.create(),!this.initialized||t){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),t&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.initialized=!0,this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitializeHeight(){this.heightInitialized=!1}reinitialize(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(t){var e=0,r=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(s){var o=s.getHeight();o>e&&(e=o)}),this.height=t?Math.max(e,r):this.manualHeight?this.height:Math.max(e,r),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(t){t.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(t){t.clearHeight()})}normalizeHeight(t){t&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()}setHeight(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}setData(t){this.data=this.chain("row-data-init-before",[this,t],void 0,t),this.dispatch("row-data-init-after",this)}updateData(t){var s,e=this.element&&lt.elVisible(this.element),r={};return new Promise((o,a)=>{for(var l in"string"==typeof t&&(t=JSON.parse(t)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(r=Object.assign(r,this.data),r=Object.assign(r,t)),s=this.chain("row-data-changing",[this,r,t],null,t))this.data[l]=s[l];for(var l in this.dispatch("row-data-save-after",this),t)this.table.columnManager.getColumnsByFieldRoot(l).forEach(d=>{let h=this.getCell(d.getField());if(h){let f=d.getFieldValue(s);h.getValue()!=f&&(h.setValueProcessData(f),e&&h.cellRendered())}});e?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,e,t),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o()})}getData(t){return t?this.chain("row-data-retrieve",[this,t],null,this.data):this.data}getCell(t){return t=this.table.columnManager.findColumn(t),this.initialized||this.generateCells(),this.cells.find(function(r){return r.column===t})}getCellIndex(t){return this.cells.findIndex(function(e){return e===t})}findCell(t){return this.cells.find(e=>e.element===t)}getCells(){return this.initialized||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(t,e){var r=this.table.rowManager.findRow(t);r?(this.table.rowManager.moveRowActual(this,r,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",t)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(t){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detatchModules(){this.dispatch("row-deleting",this)}deleteCells(){var t=this.cells.length;for(let e=0;e<t;e++)this.cells[0].delete()}wipe(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Rm(this)),this.component}}var DU={avg:function(n,t,e){var r=0,s=void 0!==e.precision?e.precision:2;return n.length&&(r=n.reduce(function(o,a){return Number(o)+Number(a)}),r/=n.length,r=!1!==s?r.toFixed(s):r),parseFloat(r).toString()},max:function(n,t,e){var r=null,s=void 0!==e.precision&&e.precision;return n.forEach(function(o){((o=Number(o))>r||null===r)&&(r=o)}),null!==r?!1!==s?r.toFixed(s):r:""},min:function(n,t,e){var r=null,s=void 0!==e.precision&&e.precision;return n.forEach(function(o){((o=Number(o))<r||null===r)&&(r=o)}),null!==r?!1!==s?r.toFixed(s):r:""},sum:function(n,t,e){var r=0,s=void 0!==e.precision&&e.precision;return n.length&&n.forEach(function(o){o=Number(o),r+=isNaN(o)?0:Number(o)}),!1!==s?r.toFixed(s):r},concat:function(n,t,e){var r=0;return n.length&&(r=n.reduce(function(s,o){return String(s)+String(o)})),r},count:function(n,t,e){var r=0;return n.length&&n.forEach(function(s){s&&r++}),r}};let TU=(()=>{class n extends Ve{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new xc({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refeshed",this.recalcActiveRows.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}userRecalc(){this.recalc(this.table.rowManager.activeRows)}visibleRows(e,r){return this.topRow&&r.unshift(this.topRow),this.botRow&&r.push(this.botRow),r}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var r=e.definition,s={topCalcParams:r.topCalcParams||{},botCalcParams:r.bottomCalcParams||{}};if(r.topCalc){switch(typeof r.topCalc){case"string":n.calculations[r.topCalc]?s.topCalc=n.calculations[r.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",r.topCalc);break;case"function":s.topCalc=r.topCalc}s.topCalc&&(e.modules.columnCalcs=s,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(r.bottomCalc){switch(typeof r.bottomCalc){case"string":n.calculations[r.bottomCalc]?s.botCalc=n.calculations[r.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",r.bottomCalc);break;case"function":s.botCalc=r.bottomCalc}s.botCalc&&(e.modules.columnCalcs=s,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-e+"px")}recalc(e){var r;if(this.topInitialized||this.botInitialized){if(this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),r=this.generateRow("top",this.rowsToData(e)),this.topRow=r;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(r.getElement()),r.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),r=this.generateRow("bottom",this.rowsToData(e)),this.botRow=r;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(r.getElement()),r.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(r=>{this.recalcGroup(r)})}recalcGroup(e){var r,s;e&&e.calcs&&(e.calcs.bottom&&(r=this.rowsToData(e.rows),s=this.generateRowData("bottom",r),e.calcs.bottom.updateData(s),e.calcs.bottom.reinitialize()),e.calcs.top&&(r=this.rowsToData(e.rows),s=this.generateRowData("top",r),e.calcs.top.updateData(s),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var r=[];return e.forEach(s=>{if(r.push(s.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&s.modules.dataTree.open){var o=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(s));r=r.concat(o)}}),r}generateRow(e,r){var o,s=this.generateRowData(e,r);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),o=new hn(s,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),o.component=!1,o.getComponent=()=>(o.component||(o.component=new EU(o)),o.component),o.generateCells=()=>{var a=[];this.table.columnManager.columnsByIndex.forEach(l=>{this.genColumn.setField(l.getField()),this.genColumn.hozAlign=l.hozAlign,this.genColumn.modules.format=l.definition[e+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.getFormatter(l.definition[e+"CalcFormatter"]),params:l.definition[e+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=l.definition.cssClass;var u=new Mc(this.genColumn,o);u.getElement(),u.column=l,u.setWidth(),l.cells.push(u),a.push(u),l.visible||u.hide()}),o.cells=a},o}generateRowData(e,r){var l,u,s={},a="top"==e?"topCalc":"botCalc";return("top"==e?this.topCalcs:this.botCalcs).forEach(function(c){var d=[];c.modules.columnCalcs&&c.modules.columnCalcs[a]&&(r.forEach(function(h){d.push(c.getFieldValue(h))}),l="function"==typeof c.modules.columnCalcs[u=a+"Params"]?c.modules.columnCalcs[u](d,r):c.modules.columnCalcs[u],c.setFieldValue(s,c.modules.columnCalcs[a](d,r,l)))}),s}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(s=>{e[s.getKey()]=this.getGroupResults(s)}):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var r=e._getSelf(),s=e.getSubGroups(),o={};return s.forEach(l=>{o[l.getKey()]=this.getGroupResults(l)}),{top:r.calcs.top?r.calcs.top.getData():{},bottom:r.calcs.bottom?r.calcs.bottom.getData():{},groups:o}}}return n.moduleName="columnCalcs",n.calculations=DU,n})(),MU=(()=>{class n extends Ve{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0,this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,r=this.table.options;switch(this.field=r.dataTreeChildField,this.indent=r.dataTreeChildIndent,r.dataTreeBranchElement&&(!0===r.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof r.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=r.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=r.dataTreeBranchElement),r.dataTreeCollapseElement?"string"==typeof r.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=r.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=r.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),r.dataTreeExpandElement?"string"==typeof r.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=r.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=r.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof r.dataTreeStartExpanded){case"boolean":this.startOpen=function(s,o){return r.dataTreeStartExpanded};break;case"function":this.startOpen=r.dataTreeStartExpanded;break;default:this.startOpen=function(s,o){return r.dataTreeStartExpanded[o]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!e&&e.field}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(r=>{e=e.concat(this.getTreeChildren(r,!1,!0))}),e}rowDataChanged(e,r,s){this.redrawNeeded(s)&&(this.initializeRow(e),r&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){e.column.getField()===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var r=e.getData()[this.field],s=Array.isArray(r),o=s||!s&&"object"==typeof r&&null!==r;!o&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!o&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!o&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!o)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:o}}reinitializeRowChildren(e){this.getTreeChildren(e,!1,!0).forEach(function(s){s.reinitialize(!0)})}layoutRow(e){var s=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),o=e.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(e,s),e.getElement().classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),s.insertBefore(o.branchEl,s.firstChild),this.table.rtl?o.branchEl.style.marginRight=(o.branchEl.offsetWidth+o.branchEl.style.marginLeft)*(o.index-1)+o.index*this.indent+"px":o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):this.table.rtl?s.style.paddingRight=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-right"))+o.index*this.indent+"px":s.style.paddingLeft=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")}generateControlElement(e,r){var s=e.modules.dataTree,o=(r=r||e.getCells()[0].getElement(),s.controlEl);!1!==s.children&&(s.open?(s.controlEl=this.collapseEl.cloneNode(!0),s.controlEl.addEventListener("click",a=>{a.stopPropagation(),this.collapseRow(e)})):(s.controlEl=this.expandEl.cloneNode(!0),s.controlEl.addEventListener("click",a=>{a.stopPropagation(),this.expandRow(e)})),s.controlEl.addEventListener("mousedown",a=>{a.stopPropagation()}),o&&o.parentNode===r?o.parentNode.replaceChild(s.controlEl,o):r.insertBefore(s.controlEl,r.firstChild))}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){var r=[];return e.forEach((s,o)=>{var a;r.push(s),s instanceof hn&&(s.create(),!(a=s.modules.dataTree.children).index&&!1!==a.children&&this.getChildren(s).forEach(u=>{u.create(),r.push(u)}))}),r}getChildren(e,r){var s=e.modules.dataTree,o=[],a=[];return!1!==s.children&&(s.open||r)&&(Array.isArray(s.children)||(s.children=this.generateChildren(e)),o=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(s.children):s.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o),o.forEach(l=>{a.push(l),this.getChildren(l).forEach(c=>{a.push(c)})})),a}generateChildren(e){var r=[],s=e.getData()[this.field];return Array.isArray(s)||(s=[s]),s.forEach(o=>{var a=new hn(o||{},this.table.rowManager);a.create(),a.modules.dataTree.index=e.modules.dataTree.index+1,a.modules.dataTree.parent=e,a.modules.dataTree.children&&(a.modules.dataTree.open=this.startOpen(a.getComponent(),a.modules.dataTree.index)),r.push(a)}),r}expandRow(e,r){var s=e.modules.dataTree;!1!==s.children&&(s.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var r=e.modules.dataTree;!1!==r.children&&(r.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var r=e.modules.dataTree;!1!==r.children&&(r.open?this.collapseRow(e):this.expandRow(e))}getTreeParent(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}getFilteredTreeChildren(e){var r=e.modules.dataTree,s=[];return r.children&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(r.children):r.children).forEach(a=>{a instanceof hn&&s.push(a)})),s}rowDelete(e){var s,r=e.modules.dataTree.parent;r&&(!1!==(s=this.findChildIndex(e,r))&&r.data[this.field].splice(s,1),r.data[this.field].length||delete r.data[this.field],this.initializeRow(r),this.layoutRow(r)),this.refreshData(!0)}addTreeChildRow(e,r,s,o){var a=!1;"string"==typeof r&&(r=JSON.parse(r)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),void 0!==o&&!1!==(a=this.findChildIndex(o,e))&&e.data[this.field].splice(s?a:a+1,0,r),!1===a&&(s?e.data[this.field].unshift(r):e.data[this.field].push(r)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,r){var s=!1;return"object"==typeof e?e instanceof hn?s=e.data:e instanceof RowComponent?s=e._getSelf().data:"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&r.modules.dataTree&&(s=r.modules.dataTree.children.find(o=>o instanceof hn&&o.element===e))&&(s=s.data):s=null!=e&&r.data[this.field].find(o=>o.data[this.table.options.index]==e),s&&(Array.isArray(r.data[this.field])&&(s=r.data[this.field].indexOf(s)),-1==s&&(s=!1)),s}getTreeChildren(e,r,s){var o=e.modules.dataTree,a=[];return o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),o.children.forEach(l=>{l instanceof hn&&(a.push(r?l.getComponent():l),s&&(a=a.concat(this.getTreeChildren(l,r,s))))})),a}getChildField(){return this.field}redrawNeeded(e){return console.log("needed?",e),!!this.field&&void 0!==e[this.field]||!!this.elementField&&void 0!==e[this.elementField]}}return n.moduleName="dataTree",n})();var IU={csv:function(n,t,e){var r=t&&t.delimiter?t.delimiter:",",s=[],o=[];n.forEach(a=>{var l=[];switch(a.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":a.columns.forEach((u,c)=>{u&&1===u.depth&&(o[c]=null==u.value?"":'"'+String(u.value).split('"').join('""')+'"')});break;case"row":a.columns.forEach(u=>{if(u){switch(typeof u.value){case"object":u.value=JSON.stringify(u.value);break;case"undefined":case"null":u.value=""}l.push('"'+String(u.value).split('"').join('""')+'"')}}),s.push(l.join(r))}}),o.length&&s.unshift(o.join(r)),s=s.join("\n"),t.bom&&(s="\ufeff"+s),e(s,"text/csv")},json:function(n,t,e){var r=[];n.forEach(s=>{var o={};switch(s.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":s.columns.forEach(a=>{a&&(o[a.component.getField()]=a.value)}),r.push(o)}}),e(r=JSON.stringify(r,null,"\t"),"application/json")},pdf:function(n,t,e){var r=[],s=[],o={},a=t.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=t.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},u=t.jsPDF||{},c=t&&t.title?t.title:"";function d(f,p){var m=[];return f.columns.forEach(b=>{var g;if(b){switch(typeof b.value){case"object":b.value=JSON.stringify(b.value);break;case"undefined":case"null":b.value=""}g={content:b.value,colSpan:b.width,rowSpan:b.height},p&&(g.styles=p),m.push(g)}}),m}u.orientation||(u.orientation=t.orientation||"landscape"),u.unit||(u.unit="pt"),n.forEach(f=>{switch(f.type){case"header":r.push(d(f));break;case"group":s.push(d(f,a));break;case"calc":s.push(d(f,l));break;case"row":s.push(d(f))}});var h=new jspdf.jsPDF(u);t&&t.autoTable&&(o="function"==typeof t.autoTable?t.autoTable(h)||{}:t.autoTable),c&&(o.didDrawPage=function(f){h.text(c,40,30)}),o.head=r,o.body=s,h.autoTable(o),t&&t.documentProcessing&&t.documentProcessing(h),e(h.output("arraybuffer"),"application/pdf")},xlsx:function(n,t,e){var s=t.sheetName||"Sheet1",o=XLSX.utils.book_new(),a=new li(this);function u(){var h=[],f=[],p={},m={s:{c:0,r:0},e:{c:n[0]?n[0].columns.reduce((b,g)=>b+(g&&g.width?g.width:1),0):0,r:n.length}};return n.forEach((b,g)=>{var v=[];b.columns.forEach(function(y,M){y?(v.push(y.value instanceof Date||"object"!=typeof y.value?y.value:JSON.stringify(y.value)),(y.width>1||y.height>-1)&&(y.height>1||y.width>1)&&f.push({s:{r:g,c:M},e:{r:g+y.height-1,c:M+y.width-1}})):v.push("")}),h.push(v)}),XLSX.utils.sheet_add_aoa(p,h),p["!ref"]=XLSX.utils.encode_range(m),f.length&&(p["!merges"]=f),p}if(o.SheetNames=[],o.Sheets={},t.sheetOnly)e(u());else{if(t.sheets)for(var c in t.sheets)!0===t.sheets[c]?(o.SheetNames.push(c),o.Sheets[c]=u()):(o.SheetNames.push(c),a.commsSend(t.sheets[c],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(h){o.Sheets[c]=h}}));else o.SheetNames.push(s),o.Sheets[s]=u();t.documentProcessing&&(o=t.documentProcessing(o)),e(function(h){for(var f=new ArrayBuffer(h.length),p=new Uint8Array(f),m=0;m!=h.length;++m)p[m]=255&h.charCodeAt(m);return f}(XLSX.write(o,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(n,t,e){this.modExists("export",!0)&&e(this.modules.export.genereateHTMLTable(n),"text/html")}};let FU=(()=>{class n extends Ve{constructor(e){super(e),this.registerTableOption("downloadReady",function(r,s){return s}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}downloadToTab(e,r,s,o){this.download(e,r,s,o,!0)}download(e,r,s,o,a){var l=!1;if("function"==typeof e?l=e:n.downloaders[e]?l=n.downloaders[e]:console.warn("Download Error - No such download type found: ",e),l){var c=this.generateExportList(o);l.call(this.table,c,s||{},function(d,h){a?!0===a?this.triggerDownload(d,h,e,r,!0):a(d):this.triggerDownload(d,h,e,r)}.bind(this))}}generateExportList(e){var r=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),s=this.table.options.groupHeaderDownload;return s&&!Array.isArray(s)&&(s=[s]),r.forEach(o=>{var a;"group"===o.type&&(a=o.columns[0],s&&s[o.indent]&&(a.value=s[o.indent](a.value,o.component._group.getRowCount(),o.component._group.getData(),o.component)))}),r}triggerDownload(e,r,s,o,a){var l=document.createElement("a"),u=new Blob([e],{type:r});o=o||"Tabulator."+("function"==typeof s?"txt":s),(u=this.table.options.downloadReady(e,u))&&(a?window.open(window.URL.createObjectURL(u)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(u,o):(l.setAttribute("href",window.URL.createObjectURL(u)),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)),this.dispatchExternal("downloadComplete"))}commsReceived(e,r,s){"intercept"===r&&this.download(s.type,"",s.options,s.active,s.intercept)}}return n.moduleName="download",n.downloaders=IU,n})();function Sc(n,t){var e=t.mask,r=void 0!==t.maskLetterChar?t.maskLetterChar:"A",s=void 0!==t.maskNumberChar?t.maskNumberChar:"9",o=void 0!==t.maskWildcardChar?t.maskWildcardChar:"*";function a(l){var u=e[l];void 0!==u&&u!==o&&u!==r&&u!==s&&(n.value=n.value+""+u,a(l+1))}n.addEventListener("keydown",l=>{var u=n.value.length,c=l.key;if(l.keyCode>46){if(u>=e.length)return l.preventDefault(),l.stopPropagation(),!1;switch(e[u]){case r:if(c.toUpperCase()==c.toLowerCase())return l.preventDefault(),l.stopPropagation(),!1;break;case s:if(isNaN(c))return l.preventDefault(),l.stopPropagation(),!1;break;case o:break;default:if(c!==e[u])return l.preventDefault(),l.stopPropagation(),!1}}}),n.addEventListener("keyup",l=>{l.keyCode>46&&t.maskAutoFill&&a(n.value.length)}),n.placeholder||(n.placeholder=e),t.maskAutoFill&&a(n.value.length)}var UU={input:function(n,t,e,r,s){var o=n.getValue(),a=document.createElement("input");if(a.setAttribute("type",s.search?"search":"text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let u in s.elementAttributes)"+"==u.charAt(0)?(u=u.slice(1),a.setAttribute(u,a.getAttribute(u)+s.elementAttributes["+"+u])):a.setAttribute(u,s.elementAttributes[u]);function l(u){null==o&&""!==a.value||a.value!==o?e(a.value)&&(o=a.value):r()}return a.value=void 0!==o?o:"",t(function(){a.focus({preventScroll:!0}),a.style.height="100%"}),a.addEventListener("change",l),a.addEventListener("blur",l),a.addEventListener("keydown",function(u){switch(u.keyCode){case 13:l();break;case 27:r();break;case 35:case 36:u.stopPropagation()}}),s.mask&&Sc(a,s),a},textarea:function(n,t,e,r,s){var o=n.getValue(),a=s.verticalNavigation||"hybrid",l=String(null!=o?o:""),c=(l.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),d=0;if(c.style.display="block",c.style.padding="2px",c.style.height="100%",c.style.width="100%",c.style.boxSizing="border-box",c.style.whiteSpace="pre-wrap",c.style.resize="none",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let f in s.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),c.setAttribute(f,c.getAttribute(f)+s.elementAttributes["+"+f])):c.setAttribute(f,s.elementAttributes[f]);function h(f){null==o&&""!==c.value||c.value!==o?(e(c.value)&&(o=c.value),setTimeout(function(){n.getRow().normalizeHeight()},300)):r()}return c.value=l,t(function(){c.focus({preventScroll:!0}),c.style.height="100%",c.style.height=c.scrollHeight+"px",n.getRow().normalizeHeight()}),c.addEventListener("change",h),c.addEventListener("blur",h),c.addEventListener("keyup",function(){c.style.height="";var f=c.scrollHeight;c.style.height=f+"px",f!=d&&(d=f,n.getRow().normalizeHeight())}),c.addEventListener("keydown",function(f){switch(f.keyCode){case 27:r();break;case 38:("editor"==a||"hybrid"==a&&c.selectionStart)&&(f.stopImmediatePropagation(),f.stopPropagation());break;case 40:("editor"==a||"hybrid"==a&&c.selectionStart!==c.value.length)&&(f.stopImmediatePropagation(),f.stopPropagation());break;case 35:case 36:f.stopPropagation()}}),s.mask&&Sc(c,s),c},number:function(n,t,e,r,s){var o=n.getValue(),a=s.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),void 0!==s.max&&l.setAttribute("max",s.max),void 0!==s.min&&l.setAttribute("min",s.min),void 0!==s.step&&l.setAttribute("step",s.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let d in s.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),l.setAttribute(d,l.getAttribute(d)+s.elementAttributes["+"+d])):l.setAttribute(d,s.elementAttributes[d]);l.value=o;var u=function(d){c()};function c(){var d=l.value;!isNaN(d)&&""!==d&&(d=Number(d)),d!==o?e(d)&&(o=d):r()}return t(function(){l.removeEventListener("blur",u),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",u)}),l.addEventListener("keydown",function(d){switch(d.keyCode){case 13:c();break;case 27:r();break;case 38:case 40:"editor"==a&&(d.stopImmediatePropagation(),d.stopPropagation());break;case 35:case 36:d.stopPropagation()}}),s.mask&&Sc(l,s),l},range:function(n,t,e,r,s){var o=n.getValue(),a=document.createElement("input");if(a.setAttribute("type","range"),void 0!==s.max&&a.setAttribute("max",s.max),void 0!==s.min&&a.setAttribute("min",s.min),void 0!==s.step&&a.setAttribute("step",s.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let u in s.elementAttributes)"+"==u.charAt(0)?(u=u.slice(1),a.setAttribute(u,a.getAttribute(u)+s.elementAttributes["+"+u])):a.setAttribute(u,s.elementAttributes[u]);function l(){var u=a.value;!isNaN(u)&&""!==u&&(u=Number(u)),u!=o?e(u)&&(o=u):r()}return a.value=o,t(function(){a.focus({preventScroll:!0}),a.style.height="100%"}),a.addEventListener("blur",function(u){l()}),a.addEventListener("keydown",function(u){switch(u.keyCode){case 13:l();break;case 27:r()}}),a},select:function(n,t,e,r,s){var o=this,a=n.getElement(),l=n.getValue(),u=s.verticalNavigation||"editor",c=void 0!==l||null===l?Array.isArray(l)?l:[l]:void 0!==s.defaultValue?s.defaultValue:[],d=document.createElement("input"),h=document.createElement("div"),f=s.multiselect,p=[],m={},b=[],g=[],v=!0,y=!1,M="",O=null;function j(R){var ce,V={},Ee=o.table.getData();return(ce=R?o.table.columnManager.getColumnByField(R):n.getColumn()._getSelf())?Ee.forEach(function(ht){var Ge=ce.getFieldValue(ht);null!=Ge&&""!==Ge&&(V[Ge]=!0)}):console.warn("unable to find matching column to create select lookup list:",R),Object.keys(V)}function me(R,V){!f&&m&&m.element&&m.element.classList.remove("active"),m&&m.element&&m.element.classList.remove("focused"),m=R,R.element&&(R.element.classList.add("focused"),V&&R.element.classList.add("active")),R&&R.element&&R.element.scrollIntoView&&R.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function Se(R){-1==g.indexOf(R)&&(g.push(R),me(R,!0)),w()}function de(R){var V=g[R];R>-1&&(g.splice(R,1),V.element&&V.element.classList.remove("active"))}function $(R){R||(R=m);var V=g.indexOf(R);V>-1?de(V):(!0!==f&&g.length>=f&&de(0),Se(R)),w()}function Te(R){N(),R||(R=m),R&&(d.value=R.label,e(R.value)),c=[R.value]}function he(R){R||N();var V=[];g.forEach(Ee=>{V.push(Ee.value)}),c=V,e(V)}function w(){var R=[];g.forEach(V=>{R.push(V.label)}),d.value=R.join(", "),!1===o.currentCell&&he(!0)}function E(){N(),r()}function N(){h.parentNode&&h.parentNode.removeChild(h),o.table.rowManager.element.removeEventListener("scroll",E)}if((Array.isArray(s)||!Array.isArray(s)&&"object"==typeof s&&!s.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),s={values:s}),d.setAttribute("type","text"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",d.style.cursor="default",d.readOnly=0!=this.currentCell,s.elementAttributes&&"object"==typeof s.elementAttributes)for(let R in s.elementAttributes)"+"==R.charAt(0)?(R=R.slice(1),d.setAttribute(R,d.getAttribute(R)+s.elementAttributes["+"+R])):d.setAttribute(R,s.elementAttributes[R]);return d.value=void 0!==l||null===l?l:"",d.addEventListener("search",function(R){d.value||(function(){var R=g.length;for(let V=0;V<R;V++)de(0)}(),he())}),d.addEventListener("keydown",function(R){var V;switch(R.keyCode){case 38:V=p.indexOf(m),("editor"==u||"hybrid"==u&&V)&&(R.stopImmediatePropagation(),R.stopPropagation(),R.preventDefault(),V>0&&me(p[V-1],!f));break;case 40:V=p.indexOf(m),("editor"==u||"hybrid"==u&&V<p.length-1)&&(R.stopImmediatePropagation(),R.stopPropagation(),R.preventDefault(),V<p.length-1&&me(-1==V?p[0]:p[V+1],!f));break;case 37:case 39:R.stopImmediatePropagation(),R.stopPropagation(),R.preventDefault();break;case 13:f?$():Te();break;case 27:E();break;case 9:break;default:!1===o.currentCell&&R.preventDefault(),R.keyCode>=38&&R.keyCode<=90&&function(R){clearTimeout(O);var V=String.fromCharCode(event.keyCode).toLowerCase();M+=V.toLowerCase();var Ee=p.find(ce=>void 0!==ce.label&&ce.label.toLowerCase().startsWith(M));Ee&&me(Ee,!f),O=setTimeout(()=>{M=""},800)}()}}),d.addEventListener("blur",function(R){v&&(f?he():E())}),d.addEventListener("focus",function(R){y||function(){if(g=[],!h.parentNode){!function(R,V){var Ee=[],ce=[];function ht(we){return V.indexOf((we={label:we.label,value:we.value,itemParams:we.itemParams,elementAttributes:we.elementAttributes,element:!1}).value)>-1&&Se(we),Ee.push(we),ce.push(we),we}if("function"==typeof R&&(R=R(n)),Array.isArray(R))R.forEach(function(we){var Qe;"object"==typeof we?we.options?(ce.push(Qe={label:we.label,group:!0,itemParams:we.itemParams,elementAttributes:we.elementAttributes,element:!1}),we.options.forEach(function(ui){ht(ui)})):ht(we):(V.indexOf((Qe={label:we,value:we,element:!1}).value)>-1&&Se(Qe),Ee.push(Qe),ce.push(Qe))});else for(var Ge in R){var Be={label:R[Ge],value:Ge,element:!1};V.indexOf(Be.value)>-1&&Se(Be),Ee.push(Be),ce.push(Be)}s.sortValuesList&&(Ee.sort((we,Qe)=>we.label<Qe.label?-1:we.label>Qe.label?1:0),ce.sort((we,Qe)=>we.label<Qe.label?-1:we.label>Qe.label?1:0),"asc"!==s.sortValuesList&&(Ee.reverse(),ce.reverse())),p=Ee,b=ce,function(){for(;h.firstChild;)h.removeChild(h.firstChild);b.forEach(function(R){var V=R.element;if(!V){if(V=document.createElement("div"),R.label=s.listItemFormatter?s.listItemFormatter(R.value,R.label,n,V,R.itemParams):R.label,R.group?(V.classList.add("tabulator-edit-select-list-group"),V.tabIndex=0,V.innerHTML=""===R.label?"&nbsp;":R.label):(V.classList.add("tabulator-edit-select-list-item"),V.tabIndex=0,V.innerHTML=""===R.label?"&nbsp;":R.label,V.addEventListener("click",function(){y=!0,setTimeout(()=>{y=!1},10),f?($(R),d.focus()):Te(R)}),g.indexOf(R)>-1&&V.classList.add("active")),R.elementAttributes&&"object"==typeof R.elementAttributes)for(let Ee in R.elementAttributes)"+"==Ee.charAt(0)?(Ee=Ee.slice(1),V.setAttribute(Ee,d.getAttribute(Ee)+R.elementAttributes["+"+Ee])):V.setAttribute(Ee,R.elementAttributes[Ee]);V.addEventListener("mousedown",function(){v=!1,setTimeout(function(){v=!0},10)}),R.element=V}h.appendChild(V)})}()}(!0===s.values?j():"string"==typeof s.values?j(s.values):s.values||[],c);var R=lt.elOffset(a);h.style.minWidth=a.offsetWidth+"px",h.style.top=R.top+a.offsetHeight+"px",h.style.left=R.left+"px",h.addEventListener("mousedown",function(V){v=!1,setTimeout(function(){v=!0},10)}),document.body.appendChild(h)}}()}),(h=document.createElement("div")).classList.add("tabulator-edit-select-list"),t(function(){d.style.height="100%",d.focus({preventScroll:!0})}),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",E)},10),d},autocomplete:function(n,t,e,r,s){var o=this,a=n.getElement(),l=n.getValue(),u=s.verticalNavigation||"editor",c=void 0!==l||null===l?l:void 0!==s.defaultValue?s.defaultValue:"",d=document.createElement("input"),h=document.createElement("div"),f=[],p=!1,m=!0,b=!1;if(d.setAttribute("type","search"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let w in s.elementAttributes)"+"==w.charAt(0)?(w=w.slice(1),d.setAttribute(w,d.getAttribute(w)+s.elementAttributes["+"+w])):d.setAttribute(w,s.elementAttributes[w]);function g(){!0===s.values?b=v():"string"==typeof s.values&&(b=v(s.values))}function v(w){var k,B={},E=o.table.getData();return(k=w?o.table.columnManager.getColumnByField(w):n.getColumn()._getSelf())?(E.forEach(function(N){var P=k.getFieldValue(N);null!=P&&""!==P&&(B[P]=!0)}),B=s.sortValuesList?"asc"==s.sortValuesList?Object.keys(B).sort():Object.keys(B).sort().reverse():Object.keys(B)):console.warn("unable to find matching column to create autocomplete lookup list:",w),B}function y(w,B){var k,N,E=[];k=b||s.values||[],s.searchFunc?(E=s.searchFunc(w,k))instanceof Promise?(M(void 0!==s.searchingPlaceholder?s.searchingPlaceholder:"Searching..."),E.then(P=>{ie(O(P),B)}).catch(P=>{console.err("error in autocomplete search promise:",P)})):ie(O(E),B):(N=O(k),""===w?s.showListOnEmpty&&(E=N):N.forEach(function(P){(null!==P.value||void 0!==P.value)&&(String(P.value).toLowerCase().indexOf(String(w).toLowerCase())>-1||String(P.title).toLowerCase().indexOf(String(w).toLowerCase())>-1)&&E.push(P)}),ie(E,B))}function M(w){var B=document.createElement("div");j(),!1!==w&&(B.classList.add("tabulator-edit-select-list-notice"),B.tabIndex=0,w instanceof Node?B.appendChild(w):B.innerHTML=w,h.appendChild(B))}function O(w){var B=[];if(Array.isArray(w))w.forEach(function(N){var P={};"object"==typeof N?(P.title=s.listItemFormatter?s.listItemFormatter(N.value,N.label):N.label,P.value=N.value):(P.title=s.listItemFormatter?s.listItemFormatter(N,N):N,P.value=N),B.push(P)});else for(var E in w){var k={title:s.listItemFormatter?s.listItemFormatter(E,w[E]):w[E],value:E};B.push(k)}return B}function j(){for(;h.firstChild;)h.removeChild(h.firstChild)}function ie(w,B){w.length?function(w,B){var E=!1;j(),(f=w).forEach(function(k){var N=k.element;N||((N=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),N.tabIndex=0,N.innerHTML=k.title,N.addEventListener("click",function(P){de(k),me()}),N.addEventListener("mousedown",function(P){m=!1,setTimeout(function(){m=!0},10)}),k.element=N,B&&k.value==l&&(d.value=k.title,k.element.classList.add("active"),E=!0),k===p&&(k.element.classList.add("active"),E=!0)),h.appendChild(N)}),E||de(!1)}(w,B):s.emptyPlaceholder&&M(s.emptyPlaceholder)}function me(){$(),p?l!==p.value?(l=p.value,d.value=p.title,e(p.value)):r():s.freetext||s.allowEmpty&&""===d.value?(l=d.value,e(d.value)):r()}function de(w,B){p&&p.element&&p.element.classList.remove("active"),p=w,w&&w.element&&w.element.classList.add("active"),w&&w.element&&w.element.scrollIntoView&&w.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function $(){h.parentNode&&h.parentNode.removeChild(h),o.table.rowManager.element.removeEventListener("scroll",Te)}function Te(){$(),r()}return h.classList.add("tabulator-edit-select-list"),h.addEventListener("mousedown",function(w){m=!1,setTimeout(function(){m=!0},10)}),d.addEventListener("keydown",function(w){var B;switch(w.keyCode){case 38:B=f.indexOf(p),("editor"==u||"hybrid"==u&&B)&&(w.stopImmediatePropagation(),w.stopPropagation(),w.preventDefault(),de(B>0&&f[B-1]));break;case 40:B=f.indexOf(p),("editor"==u||"hybrid"==u&&B<f.length-1)&&(w.stopImmediatePropagation(),w.stopPropagation(),w.preventDefault(),B<f.length-1&&de(-1==B?f[0]:f[B+1]));break;case 37:case 39:w.stopImmediatePropagation(),w.stopPropagation();break;case 13:me();break;case 27:Te();break;case 36:case 35:w.stopImmediatePropagation()}}),d.addEventListener("keyup",function(w){switch(w.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:y(d.value)}}),d.addEventListener("search",function(w){y(d.value)}),d.addEventListener("blur",function(w){m&&me()}),d.addEventListener("focus",function(w){var B=c;g(),function(){if(!h.parentNode){for(;h.firstChild;)h.removeChild(h.firstChild);var w=lt.elOffset(a);h.style.minWidth=a.offsetWidth+"px",h.style.top=w.top+a.offsetHeight+"px",h.style.left=w.left+"px",document.body.appendChild(h)}}(),d.value=B,y(B,!0)}),t(function(){d.style.height="100%",d.focus({preventScroll:!0})}),s.mask&&Sc(d,s),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Te)},10),g(),d.value=c,y(c,!0),d},star:function(n,t,e,r,s){var o=this,a=n.getElement(),l=n.getValue(),u=a.getElementsByTagName("svg").length||5,c=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,d=[],h=document.createElement("div"),f=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(v){d.forEach(function(y,M){M<v?("ie"==o.table.browser?y.setAttribute("class","tabulator-star-active"):y.classList.replace("tabulator-star-inactive","tabulator-star-active"),y.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==o.table.browser?y.setAttribute("class","tabulator-star-inactive"):y.classList.replace("tabulator-star-active","tabulator-star-inactive"),y.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function m(v){var y=document.createElement("span"),M=f.cloneNode(!0);d.push(M),y.addEventListener("mouseenter",function(O){O.stopPropagation(),O.stopImmediatePropagation(),p(v)}),y.addEventListener("mousemove",function(O){O.stopPropagation(),O.stopImmediatePropagation()}),y.addEventListener("click",function(O){O.stopPropagation(),O.stopImmediatePropagation(),e(v),a.blur()}),y.appendChild(M),h.appendChild(y)}function b(v){l=v,p(v)}if(a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",h.style.verticalAlign="middle",h.style.display="inline-block",h.style.padding="4px",f.setAttribute("width",c),f.setAttribute("height",c),f.setAttribute("viewBox","0 0 512 512"),f.setAttribute("xml:space","preserve"),f.style.padding="0 1px",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let v in s.elementAttributes)"+"==v.charAt(0)?(v=v.slice(1),h.setAttribute(v,h.getAttribute(v)+s.elementAttributes["+"+v])):h.setAttribute(v,s.elementAttributes[v]);for(var g=1;g<=u;g++)m(g);return p(l=Math.min(parseInt(l),u)),h.addEventListener("mousemove",function(v){p(0)}),h.addEventListener("click",function(v){e(0)}),a.addEventListener("blur",function(v){r()}),a.addEventListener("keydown",function(v){switch(v.keyCode){case 39:b(l+1);break;case 37:b(l-1);break;case 13:e(l);break;case 27:r()}}),h},progress:function(n,t,e,r,s){var f,p,o=n.getElement(),a=void 0===s.max?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("max")||100:s.max,l=void 0===s.min?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("min")||0:s.min,u=(a-l)/100,c=n.getValue()||0,d=document.createElement("div"),h=document.createElement("div");function m(){var b=window.getComputedStyle(o,null),g=u*Math.round(h.offsetWidth/((o.clientWidth-parseInt(b.getPropertyValue("padding-left"))-parseInt(b.getPropertyValue("padding-right")))/100))+l;e(g),o.setAttribute("aria-valuenow",g),o.setAttribute("aria-label",c)}if(d.style.position="absolute",d.style.right="0",d.style.top="0",d.style.bottom="0",d.style.width="5px",d.classList.add("tabulator-progress-handle"),h.style.display="inline-block",h.style.position="relative",h.style.height="100%",h.style.backgroundColor="#488CE9",h.style.maxWidth="100%",h.style.minWidth="0%",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let b in s.elementAttributes)"+"==b.charAt(0)?(b=b.slice(1),h.setAttribute(b,h.getAttribute(b)+s.elementAttributes["+"+b])):h.setAttribute(b,s.elementAttributes[b]);return o.style.padding="4px 4px",c=Math.min(parseFloat(c),a),c=Math.max(parseFloat(c),l),c=Math.round((c-l)/u),h.style.width=c+"%",o.setAttribute("aria-valuemin",l),o.setAttribute("aria-valuemax",a),h.appendChild(d),d.addEventListener("mousedown",function(b){f=b.screenX,p=h.offsetWidth}),d.addEventListener("mouseover",function(){d.style.cursor="ew-resize"}),o.addEventListener("mousemove",function(b){f&&(h.style.width=p+b.screenX-f+"px")}),o.addEventListener("mouseup",function(b){f&&(b.stopPropagation(),b.stopImmediatePropagation(),f=!1,p=!1,m())}),o.addEventListener("keydown",function(b){switch(b.keyCode){case 39:b.preventDefault(),h.style.width=h.clientWidth+o.clientWidth/100+"px";break;case 37:b.preventDefault(),h.style.width=h.clientWidth-o.clientWidth/100+"px";break;case 9:case 13:m();break;case 27:r()}}),o.addEventListener("blur",function(){r()}),h},tickCross:function(n,t,e,r,s){var o=n.getValue(),a=document.createElement("input"),l=s.tristate,u=void 0===s.indeterminateValue?null:s.indeterminateValue,c=!1;if(a.setAttribute("type","checkbox"),a.style.marginTop="5px",a.style.boxSizing="border-box",s.elementAttributes&&"object"==typeof s.elementAttributes)for(let h in s.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),a.setAttribute(h,a.getAttribute(h)+s.elementAttributes["+"+h])):a.setAttribute(h,s.elementAttributes[h]);function d(h){return l?h?c?u:a.checked:a.checked&&!c?(a.checked=!1,a.indeterminate=!0,c=!0,u):(c=!1,a.checked):a.checked}return a.value=o,l&&(void 0===o||o===u||""===o)&&(c=!0,a.indeterminate=!0),"firefox"!=this.table.browser&&t(function(){a.focus({preventScroll:!0})}),a.checked=!0===o||"true"===o||"True"===o||1===o,t(function(){a.focus()}),a.addEventListener("change",function(h){e(d())}),a.addEventListener("blur",function(h){e(d(!0))}),a.addEventListener("keydown",function(h){13==h.keyCode&&e(d()),27==h.keyCode&&r()}),a}};let $U=(()=>{class n extends Ve{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=n.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellisEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refeshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this))}keybindingNavigateNext(e){var r=this.currentCell,s=this.options("tabEndNewRow");r&&(this.navigateNext(e)||s&&(r.getElement().firstChild.blur(),(s=this.table.addRow(!0===s?{}:"function"==typeof s?s(r.row.getComponent()):Object.assign({},s))).then(()=>{setTimeout(()=>{nav.next()})})))}cellisEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}clearCellEdited(e){e||(e=this.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(r=>{this.modules.edit.clearEdited(r._getSelf())})}navigatePrev(e){var s,o,r=this.currentCell;if(r){if(e&&e.preventDefault(),s=this.navigateLeft())return!0;if((o=this.table.rowManager.prevDisplayRow(r.row,!0))&&(s=this.findNextEditableCell(o,o.cells.length)))return s.getComponent().edit(),!0}return!1}navigateNext(e){var s,o,r=this.currentCell;if(r){if(e&&e.preventDefault(),s=this.navigateRight())return!0;if((o=this.table.rowManager.nextDisplayRow(r.row,!0))&&(s=this.findNextEditableCell(o,-1)))return s.getComponent().edit(),!0}return!1}navigateLeft(e){var s,o,r=this.currentCell;return!(!r||(e&&e.preventDefault(),s=r.getIndex(),o=this.findPrevEditableCell(r.row,s),!o)||(o.getComponent().edit(),0))}navigateRight(e){var s,o,r=this.currentCell;return!(!r||(e&&e.preventDefault(),s=r.getIndex(),o=this.findNextEditableCell(r.row,s),!o)||(o.getComponent().edit(),0))}navigateUp(e){var s,o,r=this.currentCell;return!(!r||(e&&e.preventDefault(),s=r.getIndex(),o=this.table.rowManager.prevDisplayRow(r.row,!0),!o)||(o.cells[s].getComponent().edit(),0))}navigateDown(e){var s,o,r=this.currentCell;return!(!r||(e&&e.preventDefault(),s=r.getIndex(),o=this.table.rowManager.nextDisplayRow(r.row,!0),!o)||(o.cells[s].getComponent().edit(),0))}findNextEditableCell(e,r){var s=!1;if(r<e.cells.length-1)for(var o=r+1;o<e.cells.length;o++){let a=e.cells[o];if(a.column.modules.edit&&lt.elVisible(a.getElement())){let l=!0;if("function"==typeof a.column.modules.edit.check&&(l=a.column.modules.edit.check(a.getComponent())),l){s=a;break}}}return s}findPrevEditableCell(e,r){var s=!1;if(r>0)for(var o=r-1;o>=0;o--){let a=e.cells[o],l=!0;if(a.column.modules.edit&&lt.elVisible(a.getElement())&&("function"==typeof a.column.modules.edit.check&&(l=a.column.modules.edit.check(a.getComponent())),l)){s=a;break}}return s}initializeColumnCheck(e){void 0!==e.definition.editor&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}initializeColumn(e){var r={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?r.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":r.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!=typeof e.definition.formatter?r.editor=this.editors[e.definition.formatter]?this.editors[e.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}r.editor&&(e.modules.edit=r)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(e){var s,r=this.currentCell;if(this.invalidEdit=!1,console.log("clear",e,r,r.validate),r){for(this.currentCell=!1,s=r.getElement(),e?r.column.modules.validate&&this.table.modExists("validate")&&this.table.modules.validate.cellValidate(r):s.classList.remove("tabulator-validation-fail"),s.classList.remove("tabulator-editing");s.firstChild;)s.removeChild(s.firstChild);r.row.getElement().classList.remove("tabulator-row-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,r=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,r),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",r)}}bindEditor(e){if(e.column.modules.edit){var r=this,s=e.getElement(!0);s.setAttribute("tabindex",0),s.addEventListener("click",function(o){s.classList.contains("tabulator-editing")||s.focus({preventScroll:!0})}),s.addEventListener("mousedown",function(o){2===o.button?o.preventDefault():r.mouseClick=!0}),s.addEventListener("focus",function(o){r.recursionBlock||r.edit(e,o,!1)})}}focusCellNoEvent(e,r){this.recursionBlock=!0,r&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,r){this.focusCellNoEvent(e),this.edit(e,!1,r)}focusScrollAdjust(e){if("virtual"==this.table.rowManager.getRenderMode()){var r=this.table.rowManager.element.scrollTop,s=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=e.row.getElement();o.offsetTop<r?this.table.rowManager.element.scrollTop-=r-o.offsetTop:o.offsetTop+o.offsetHeight>s&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-s);var l=this.table.rowManager.element.scrollLeft,u=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,c=e.getElement();this.table.modExists("frozenColumns")&&(l+=parseInt(this.table.modules.frozenColumns.leftMargin),u-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(l-=parseInt(this.table.columnManager.renderer.vDomPadLeft),u-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),c.offsetLeft<l?this.table.rowManager.element.scrollLeft-=l-c.offsetLeft:c.offsetLeft+c.offsetWidth>u&&(this.table.rowManager.element.scrollLeft+=c.offsetLeft+c.offsetWidth-u)}}edit(e,r,s){var c,d,h,o=this,a=!0,l=function(){},u=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,u.blur(),!1;switch(r&&r.stopPropagation(),typeof e.column.modules.edit.check){case"function":a=e.column.modules.edit.check(e.getComponent());break;case"boolean":a=e.column.modules.edit.check}if(a||s){if(o.cancelEdit(),o.currentCell=e,this.focusScrollAdjust(e),d=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,r,d)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,d),this.dispatchExternal("cellEditing",d),h="function"==typeof e.column.modules.edit.params?e.column.modules.edit.params(d):e.column.modules.edit.params,!1===(c=e.column.modules.edit.editor.call(o,d,function(v){l=v},function(v){if(o.currentCell===e){var y=!0;return e.column.modules.validate&&o.table.modExists("validate")&&"manual"!=o.table.options.validationMode&&(y=o.table.modules.validate.validate(e.column.modules.validate,e,v)),!0===y||"highlight"===o.table.options.validationMode?(o.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==o.editedCells.indexOf(e)&&o.editedCells.push(e),e.setValue(v,!0),!0===y||(u.classList.add("tabulator-validation-fail"),o.table.externalEvents.dispatch("validationFailed",e.getComponent(),v,y),!1)):(o.invalidEdit=!0,u.classList.add("tabulator-validation-fail"),o.focusCellNoEvent(e,!0),l(),o.table.externalEvents.dispatch("validationFailed",e.getComponent(),v,y),!1)}},function(){o.currentCell===e&&o.cancelEdit()},h)))return u.blur(),!1;if(!(c instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",c),u.blur(),!1;for(u.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-row-editing");u.firstChild;)u.removeChild(u.firstChild);u.appendChild(c),l();for(var b=u.children,g=0;g<b.length;g++)b[g].addEventListener("click",function(v){v.stopPropagation()});return!0}return this.mouseClick=!1,u.blur(),!1}this.invalidEdit||this.cancelEdit()}getEditedCells(){var e=[];return this.editedCells.forEach(r=>{e.push(r.getComponent())}),e}clearEdited(e){var r;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,e.modules.validate&&(e.modules.validate.invalid=!1)),(r=this.editedCells.indexOf(e))>-1&&this.editedCells.splice(r,1)}}return n.moduleName="edit",n.editors=UU,n})();class WT{constructor(t,e,r,s){this.type=t,this.columns=e,this.component=r||!1,this.indent=s||0}}class Am{constructor(t,e,r,s,o){this.value=t,this.component=e||!1,this.width=r,this.height=s,this.depth=o}}let WU=(()=>{class n extends Ve{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,r,s,o){this.cloneTableStyle=r,this.config=e||{},this.colVisProp=o;var a=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],l=this.bodyToExportRows(this.rowLookup(s));return a.concat(l)}genereateTable(e,r,s,o){var a=this.generateExportList(e,r,s,o);return this.genereateTableElement(a)}rowLookup(e){var r=[];if("function"==typeof e)e.call(this.table).forEach(s=>{(s=this.table.rowManager.findRow(s))&&r.push(s)});else switch(e){case!0:case"visible":r=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":r=this.table.rowManager.rows;break;case"selected":r=this.table.modules.selectRow.selectedRows;break;default:r=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],r)}generateColumnGroupHeaders(){var e=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(s=>{var o=this.processColumnGroup(s);o&&e.push(o)}),e}processColumnGroup(e){var r=e.columns,s=0,a={title:e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,column:e,depth:1};if(r.length){if(a.subGroups=[],a.width=0,r.forEach(l=>{var u=this.processColumnGroup(l);u&&(a.width+=u.width,a.subGroups.push(u),u.depth>s&&(s=u.depth))}),a.depth+=s,!a.width)return!1}else{if(!this.columnVisCheck(e))return!1;a.width=1}return a}columnVisCheck(e){return!1!==e.definition[this.colVisProp]&&(e.visible||!e.visible&&e.definition[this.colVisProp])}headersToExportRows(e){var r=[],s=0,o=[];function a(l,u){var c=s-u;if(void 0===r[u]&&(r[u]=[]),l.height=l.subGroups?1:c-l.depth+1,r[u].push(l),l.height>1)for(let d=1;d<l.height;d++)void 0===r[u+d]&&(r[u+d]=[]),r[u+d].push(!1);if(l.width>1)for(let d=1;d<l.width;d++)r[u].push(!1);l.subGroups&&l.subGroups.forEach(function(d){a(d,u+1)})}return e.forEach(function(l){l.depth>s&&(s=l.depth)}),e.forEach(function(l){a(l,0)}),r.forEach(l=>{var u=[];l.forEach(c=>{u.push(c?new Am(c.title,c.column.getComponent(),c.width,c.height,c.depth):null)}),o.push(new WT("header",u))}),o}bodyToExportRows(e){var r=[],s=[];return this.table.columnManager.columnsByIndex.forEach(o=>{this.columnVisCheck(o)&&r.push(o.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),(e=e.filter(o=>{switch(o.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&o.modules.dataTree.parent)}return!0})).forEach((o,a)=>{var l=o.getData(this.colVisProp),u=[],c=0;switch(o.type){case"group":c=o.level,u.push(new Am(o.key,o.getComponent(),r.length,1));break;case"calc":case"row":r.forEach(d=>{u.push(new Am(d._column.getFieldValue(l),d,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(c=o.modules.dataTree.index)}s.push(new WT(o.type,u,o.getComponent(),c))}),s}genereateTableElement(e){var r=document.createElement("table"),s=document.createElement("thead"),o=document.createElement("tbody"),a=this.lookupTableStyles(),l=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],u={};return u.rowFormatter=null!==l?l:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(u.treeElementField=this.table.modules.dataTree.elementField),u.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],u.groupHeader&&!Array.isArray(u.groupHeader)&&(u.groupHeader=[u.groupHeader]),r.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),s,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((c,d)=>{switch(c.type){case"header":s.appendChild(this.genereateHeaderElement(c,u,a));break;case"group":o.appendChild(this.genereateGroupElement(c,u,a));break;case"calc":o.appendChild(this.genereateCalcElement(c,u,a));break;case"row":let h=this.genereateRowElement(c,u,a);this.mapElementStyles(d%2&&a.evenRow?a.evenRow:a.oddRow,h,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(h)}}),s.innerHTML&&r.appendChild(s),r.appendChild(o),this.mapElementStyles(this.table.element,r,["border-top","border-left","border-right","border-bottom"]),r}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}genereateHeaderElement(e,r,s){var o=document.createElement("tr");return e.columns.forEach(a=>{if(a){var l=document.createElement("th"),u=a.component._column.definition.cssClass?a.component._column.definition.cssClass.split(" "):[];l.colSpan=a.width,l.rowSpan=a.height,l.innerHTML=a.value,this.cloneTableStyle&&(l.style.boxSizing="border-box"),u.forEach(function(c){l.classList.add(c)}),this.mapElementStyles(a.component.getElement(),l,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(a.component._column.contentElement,l,["padding-top","padding-left","padding-right","padding-bottom"]),a.component._column.visible?this.mapElementStyles(a.component.getElement(),l,["width"]):a.component._column.definition.width&&(l.style.width=a.component._column.definition.width+"px"),a.component._column.parent&&this.mapElementStyles(a.component._column.parent.groupElement,l,["border-top"]),o.appendChild(l)}}),o}genereateGroupElement(e,r,s){var o=document.createElement("tr"),a=document.createElement("td"),l=e.columns[0];return o.classList.add("tabulator-print-table-row"),l.value=r.groupHeader&&r.groupHeader[e.indent]?r.groupHeader[e.indent](l.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1===r.groupHeader?l.value:e.component._group.generator(l.value,e.component._group.getRowCount(),e.component._group.getData(),e.component),a.colSpan=l.width,a.innerHTML=l.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+e.indent),l.component.isVisible()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(s.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(s.firstGroup,a,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(a),o}genereateCalcElement(e,r,s){var o=this.genereateRowElement(e,r,s);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(s.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o}genereateRowElement(e,r,s){var o=document.createElement("tr");return o.classList.add("tabulator-print-table-row"),e.columns.forEach(a=>{if(a){var l=document.createElement("td"),u=a.component._column,c=a.value,d={modules:{},getValue:function(){return c},getField:function(){return u.definition.field},getElement:function(){return l},getColumn:function(){return u.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return d},column:u};if((u.definition.cssClass?u.definition.cssClass.split(" "):[]).forEach(function(f){l.classList.add(f)}),this.table.modExists("format")&&!1!==this.config.formatCells)c=this.table.modules.format.formatExportValue(d,this.colVisProp);else switch(typeof c){case"object":c=JSON.stringify(c);break;case"undefined":case"null":c="";break;default:c=c}c instanceof Node?l.appendChild(c):l.innerHTML=c,s.firstCell&&(this.mapElementStyles(s.firstCell,l,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),u.definition.align&&(l.style.textAlign=u.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(r.treeElementField&&r.treeElementField==u.field||!r.treeElementField&&0==i)&&(e.component._row.modules.dataTree.controlEl&&l.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),e.component._row.modules.dataTree.branchEl&&l.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),o.appendChild(l),d.modules.format&&d.modules.format.renderedCallback&&d.modules.format.renderedCallback(),r.rowFormatter&&!1!==this.config.formatCells&&r.rowFormatter(e.component)}}),o}genereateHTMLTable(e){var r=document.createElement("div");return r.appendChild(this.genereateTableElement(e)),r.innerHTML}getHtml(e,r,s,o){var a=this.generateExportList(s||this.table.options.htmlOutputConfig,r,e,o||"htmlOutput");return this.genereateHTMLTable(a)}mapElementStyles(e,r,s){if(this.cloneTableStyle&&e&&r){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var a=window.getComputedStyle(e);s.forEach(function(l){r.style[o[l]]=a.getPropertyValue(l)})}}}}return n.moduleName="export",n})();var GU={"=":function(n,t,e,r){return t==n},"<":function(n,t,e,r){return t<n},"<=":function(n,t,e,r){return t<=n},">":function(n,t,e,r){return t>n},">=":function(n,t,e,r){return t>=n},"!=":function(n,t,e,r){return t!=n},regex:function(n,t,e,r){return"string"==typeof n&&(n=new RegExp(n)),n.test(t)},like:function(n,t,e,r){return null==n?t===n:null!=t&&String(t).toLowerCase().indexOf(n.toLowerCase())>-1},keywords:function(n,t,e,r){var s=n.toLowerCase().split(void 0===r.separator?" ":r.separator),o=String(null==t?"":t).toLowerCase(),a=[];return s.forEach(l=>{o.includes(l)&&a.push(!0)}),r.matchAll?a.length===s.length:!!a.length},starts:function(n,t,e,r){return null==n?t===n:null!=t&&String(t).toLowerCase().startsWith(n.toLowerCase())},ends:function(n,t,e,r){return null==n?t===n:null!=t&&String(t).toLowerCase().endsWith(n.toLowerCase())},in:function(n,t,e,r){return Array.isArray(n)?!n.length||n.indexOf(t)>-1:(console.warn("Filter Error - filter value is not an array:",n),!1)}};let qU=(()=>{class n extends Ve{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var r=this.table.columnManager.findColumn(e.field);if(!r)return console.warn("Column Filter Error - No matching column found:",e.field),!1;this.setHeaderFilterValue(r,e.value)}),this.tableInitialized=!0}remoteFilterParams(e,r,s,o){return o.filter=this.getFilters(!0,!0),o}userSetFilter(e,r,s,o){this.setFilter(e,r,s,o),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,r,s,o){this.addFilter(e,r,s,o),this.refreshFilter()}userSetHeaderFilterFocus(e){var r=this.table.columnManager.findColumn(e);if(!r)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(r)}userGetHeaderFilterValue(e){var r=this.table.columnManager.findColumn(e);if(r)return this.getHeaderFilterValue(r);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,r){var s=this.table.columnManager.findColumn(e);if(!s)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(s,r)}userRemoveFilter(e,r,s){this.removeFilter(e,r,s),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,r,s){return this.search("rows",e,r,s)}searchData(e,r,s){return this.search("data",e,r,s)}initializeColumnHeaderFilter(e){var r=e.definition;r.headerFilter&&(void 0!==r.headerFilterPlaceholder&&r.field&&this.module("localize").setHeaderFilterColumnPlaceholder(r.field,r.headerFilterPlaceholder),this.initializeColumn(e))}initializeColumn(e,r){var s=this,o=e.getField();e.modules.filter={success:function(l){var h,u="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",c="",d="";if(void 0===e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==l){if(e.modules.filter.prevSuccess=l,e.modules.filter.emptyFunc(l))delete s.headerFilters[o];else{switch(e.modules.filter.value=l,typeof e.definition.headerFilterFunc){case"string":n.filters[e.definition.headerFilterFunc]?(c=e.definition.headerFilterFunc,h=function(f){var p=e.definition.headerFilterFuncParams||{},m=e.getFieldValue(f);return p="function"==typeof p?p(l,m,f):p,n.filters[e.definition.headerFilterFunc](l,m,f,p)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":c=h=function(f){var p=e.definition.headerFilterFuncParams||{},m=e.getFieldValue(f);return p="function"==typeof p?p(l,m,f):p,e.definition.headerFilterFunc(l,m,f,p)}}h||("partial"===u?(h=function(f){var p=e.getFieldValue(f);return null!=p&&String(p).toLowerCase().indexOf(String(l).toLowerCase())>-1},c="like"):(h=function(f){return e.getFieldValue(f)==l},c="=")),s.headerFilters[o]={value:l,func:h,type:c,params:{}}}d=JSON.stringify(s.headerFilters),s.prevHeaderFilterChangeCheck!==d&&(s.prevHeaderFilterChangeCheck=d,s.trackChanges(),s.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,r,s){var u,c,d,h,f,p,m,o=this,a=e.modules.filter.success,l=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),l){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(g){return!g&&"0"!==g&&0!==g},(u=document.createElement("div")).classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":o.table.modules.edit.editors[e.definition.headerFilter]?(c=o.table.modules.edit.editors[e.definition.headerFilter],("tick"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(g){return!0!==g&&!1!==g})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":c=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?c=e.modules.edit.editor:e.definition.formatter&&o.table.modules.edit.editors[e.definition.formatter]?(c=o.table.modules.edit.editors[e.definition.formatter],("tick"===e.definition.formatter||"tickCross"===e.definition.formatter)&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(g){return!0!==g&&!1!==g})):c=o.table.modules.edit.editors.input}if(c){if(h={getValue:function(){return void 0!==r?r:""},getField:function(){return e.definition.field},getElement:function(){return u},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},m="function"==typeof(m=e.definition.headerFilterParams||{})?m.call(o.table):m,!(d=c.call(this.table.modules.edit,h,function(){},a,function(){},m)))return void console.warn("Filter Error - Cannot add filter to "+l+" column, editor returned a value of false");if(!(d instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+l+" column, editor should return an instance of Node, the editor returned:",d);l?o.langBind("headerFilters|columns|"+e.definition.field,function(g){d.setAttribute("placeholder",void 0!==g&&g?g:o.langText("headerFilters|default"))}):o.langBind("headerFilters|default",function(g){d.setAttribute("placeholder",g)}),d.addEventListener("click",function(g){g.stopPropagation(),d.focus()}),d.addEventListener("focus",g=>{var v=this.table.columnManager.element.scrollLeft;v!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(v),this.table.columnManager.scrollHorizontal(v))}),f=!1,p=function(g){f&&clearTimeout(f),f=setTimeout(function(){a(d.value)},o.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=d,e.modules.filter.attrType=d.hasAttribute("type")?d.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=d.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"===e.definition.headerFilter||"tickCross"===e.definition.headerFilter||("autocomplete"===e.definition.editor||"tickCross"===e.definition.editor)&&!0===e.definition.headerFilter||(d.addEventListener("keyup",p),d.addEventListener("search",p),"number"==e.modules.filter.attrType&&d.addEventListener("change",function(g){a(d.value)}),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&d.setAttribute("type","search")),("input"==e.modules.filter.tagType||"select"==e.modules.filter.tagType||"textarea"==e.modules.filter.tagType)&&d.addEventListener("mousedown",function(g){g.stopPropagation()})),u.appendChild(d),e.contentElement.appendChild(u),s||o.headerFilterColumns.push(e)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,r){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,r,!0),e.modules.filter.success(r)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData():this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,r,s,o){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:r,value:s,params:o}]),this.addFilter(e)}addFilter(e,r,s,o){Array.isArray(e)||(e=[{field:e,type:r,value:s,params:o}]),e.forEach(a=>{(a=this.findFilter(a))&&(this.filterList.push(a),this.changed=!0)})}findFilter(e){var r;if(Array.isArray(e))return this.findSubFilters(e);var s=!1;return"function"==typeof e.field?s=function(o){return e.field(o,e.type||{})}:n.filters[e.type]?s=(r=this.table.columnManager.getColumnByField(e.field))?function(o){return n.filters[e.type](e.value,r.getFieldValue(o),o,e.params||{})}:function(o){return n.filters[e.type](e.value,o[e.field],o,e.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=s,!!e.func&&e}findSubFilters(e){var r=[];return e.forEach(s=>{(s=this.findFilter(s))&&r.push(s)}),!!r.length&&r}getFilters(e,r){var s=[];return e&&(s=this.getHeaderFilters()),r&&s.forEach(function(o){"function"==typeof o.type&&(o.type="function")}),s.concat(this.filtersToArray(this.filterList,r))}filtersToArray(e,r){var s=[];return e.forEach(o=>{var a;Array.isArray(o)?s.push(this.filtersToArray(o,r)):(a={field:o.field,type:o.type,value:o.value},r&&"function"==typeof a.type&&(a.type="function"),s.push(a))}),s}getHeaderFilters(){var e=[];for(var r in this.headerFilters)e.push({field:r,type:this.headerFilters[r].type,value:this.headerFilters[r].value});return e}removeFilter(e,r,s){Array.isArray(e)||(e=[{field:e,type:r,value:s}]),e.forEach(o=>{var a;(a=this.filterList.findIndex("object"==typeof o.field?l=>o===l:l=>o.field===l.field&&o.type===l.type&&o.value===l.value))>-1?this.filterList.splice(a,1):console.warn("Filter Error - No matching filter type found, ignoring: ",o.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{void 0!==e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,r,s,o){var a=[],l=[];return Array.isArray(r)||(r=[{field:r,type:s,value:o}]),r.forEach(u=>{(u=this.findFilter(u))&&l.push(u)}),this.table.rowManager.rows.forEach(u=>{var c=!0;l.forEach(d=>{this.filterRecurse(d,u.getData())||(c=!1)}),c&&a.push("data"===e?u.getData("data"):u.getComponent())}),a}filter(e,r){var s=[],o=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(a=>{this.filterRow(a)&&s.push(a)}):s=e.slice(0),this.subscribedExternal("dataFiltered")&&(s.forEach(a=>{o.push(a.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(),o)),s}filterRow(e,r){var s=!0,o=e.getData();for(var a in this.filterList.forEach(l=>{this.filterRecurse(l,o)||(s=!1)}),this.headerFilters)this.headerFilters[a].func(o)||(s=!1);return s}filterRecurse(e,r){var s=!1;return Array.isArray(e)?e.forEach(o=>{this.filterRecurse(o,r)&&(s=!0)}):s=e.func(r),s}}return n.moduleName="filter",n.filters=GU,n})();var m4={plaintext:function(n,t,e){return this.emptyToSpace(this.sanitizeHTML(n.getValue()))},html:function(n,t,e){return n.getValue()},textarea:function(n,t,e){return n.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(n.getValue()))},money:function(n,t,e){var o,a,l,u,r=parseFloat(n.getValue()),s="",c=t.decimal||".",d=t.thousand||",",h=t.negativeSign||"-",f=t.symbol||"",p=!!t.symbolAfter,m=void 0!==t.precision?t.precision:2;if(isNaN(r))return this.emptyToSpace(this.sanitizeHTML(n.getValue()));for(r<0&&(r=Math.abs(r),s=h),o=!1!==m?r.toFixed(m):r,a=(o=String(o).split("."))[0],l=o.length>1?c+o[1]:"",u=/(\d+)(\d{3})/;u.test(a);)a=a.replace(u,"$1"+d+"$2");return p?s+a+l+f:s+f+a+l},link:function(n,t,e){var r=n.getValue(),s=t.urlPrefix||"",o=t.download,a=r,l=document.createElement("a");if(t.labelField&&(a=n.getData()[t.labelField]),t.label)switch(typeof t.label){case"string":a=t.label;break;case"function":a=t.label(n)}if(a){if(t.urlField&&(r=n.getData()[t.urlField]),t.url)switch(typeof t.url){case"string":r=t.url;break;case"function":r=t.url(n)}return l.setAttribute("href",s+r),t.target&&l.setAttribute("target",t.target),t.download&&(o="function"==typeof o?o(n):!0===o?"":o,l.setAttribute("download",o)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(a)),l}return"&nbsp;"},image:function(n,t,e){var r=document.createElement("img"),s=n.getValue();switch(t.urlPrefix&&(s=t.urlPrefix+n.getValue()),t.urlSuffix&&(s+=t.urlSuffix),r.setAttribute("src",s),typeof t.height){case"number":r.style.height=t.height+"px";break;case"string":r.style.height=t.height}switch(typeof t.width){case"number":r.style.width=t.width+"px";break;case"string":r.style.width=t.width}return r.addEventListener("load",function(){n.getRow().normalizeHeight()}),r},tickCross:function(n,t,e){var r=n.getValue(),s=n.getElement(),o=t.allowEmpty,l=void 0!==t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',u=void 0!==t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return t.allowTruthy&&r||!0===r||"true"===r||"True"===r||1===r||"1"===r?(s.setAttribute("aria-checked",!0),l||""):!o||"null"!==r&&""!==r&&null!=r?(s.setAttribute("aria-checked",!1),u||""):(s.setAttribute("aria-checked","mixed"),"")},datetime:function(n,t,e){var r=window.DateTime||luxon.DateTime,s=t.inputFormat||"yyyy-MM-dd HH:mm:ss",o=t.outputFormat||"dd/MM/yyyy HH:mm:ss",a=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",l=n.getValue();if(void 0!==r){var u=r.fromFormat(String(l),s);return u.isValid?(t.timezone&&(u=u.shiftTimezone(t.timezone)),u.toFormat(o)):!0!==a&&l?"function"==typeof a?a(l):a:l}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function(n,t,e){var r=window.DateTime||luxon.DateTime,s=t.inputFormat||"yyyy-MM-dd HH:mm:ss",o=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",a=void 0!==t.suffix&&t.suffix,l=void 0!==t.unit?t.unit:"days",u=void 0!==t.humanize&&t.humanize,c=void 0!==t.date?t.date:r.now(),d=n.getValue();if(void 0!==r){var h=r.fromFormat(String(d),s);if(!h.isValid)return!0===o?d:"function"==typeof o?o(d):o;if(!u)return parseInt(h.diff(c,l)[l])+(a?" "+a:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function(n,t,e){var r=n.getValue();return void 0===t[r]?(console.warn("Missing display value for "+r),r):t[r]},star:function(n,t,e){var r=n.getValue(),s=n.getElement(),o=t&&t.stars?t.stars:5,a=document.createElement("span"),l=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.verticalAlign="middle",l.setAttribute("width","14"),l.setAttribute("height","14"),l.setAttribute("viewBox","0 0 512 512"),l.setAttribute("xml:space","preserve"),l.style.padding="0 1px",r=r&&!isNaN(r)?parseInt(r):0,r=Math.max(0,Math.min(r,o));for(var d=1;d<=o;d++){var h=l.cloneNode(!0);h.innerHTML=d<=r?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',a.appendChild(h)}return s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.setAttribute("aria-label",r),a},traffic:function(n,t,e){var d,r=this.sanitizeHTML(n.getValue())||0,s=document.createElement("span"),o=t&&t.max?t.max:100,a=t&&t.min?t.min:0,l=t&&void 0!==t.color?t.color:["red","orange","green"],u="#666666";if(!isNaN(r)&&void 0!==n.getValue()){switch(s.classList.add("tabulator-traffic-light"),d=parseFloat(r)<=o?parseFloat(r):o,d=parseFloat(d)>=a?parseFloat(d):a,d=Math.round((d-a)/((o-a)/100)),typeof l){case"string":u=l;break;case"function":u=l(r);break;case"object":if(Array.isArray(l)){var f=Math.floor(d/(100/l.length));f=Math.min(f,l.length-1),u=l[f=Math.max(f,0)];break}}return s.style.backgroundColor=u,s}},progress:function(n,t,e){var c,d,h,f,r=this.sanitizeHTML(n.getValue())||0,s=n.getElement(),o=t&&t.max?t.max:100,a=t&&t.min?t.min:0,l=t&&t.legendAlign?t.legendAlign:"center";switch(c=parseFloat(r)<=o?parseFloat(r):o,c=parseFloat(c)>=a?parseFloat(c):a,c=Math.round((c-a)/((o-a)/100)),typeof t.color){case"string":d=t.color;break;case"function":d=t.color(r);break;case"object":if(Array.isArray(t.color)){var p=100/t.color.length,m=Math.floor(c/p);m=Math.min(m,t.color.length-1),m=Math.max(m,0),d=t.color[m];break}default:d="#2DC214"}switch(typeof t.legend){case"string":h=t.legend;break;case"function":h=t.legend(r);break;case"boolean":h=r;break;default:h=!1}switch(typeof t.legendColor){case"string":f=t.legendColor;break;case"function":f=t.legendColor(r);break;case"object":Array.isArray(t.legendColor)&&(p=100/t.legendColor.length,m=Math.floor(c/p),m=Math.min(m,t.legendColor.length-1),m=Math.max(m,0),f=t.legendColor[m]);break;default:f="#000"}s.style.minWidth="30px",s.style.position="relative",s.setAttribute("aria-label",c);var b=document.createElement("div");b.style.display="inline-block",b.style.position="absolute",b.style.width=c+"%",b.style.backgroundColor=d,b.style.height="100%",b.setAttribute("data-max",o),b.setAttribute("data-min",a);var g=document.createElement("div");if(g.style.position="relative",g.style.width="100%",g.style.height="100%",h){var v=document.createElement("div");v.style.position="absolute",v.style.top=0,v.style.left=0,v.style.textAlign=l,v.style.width="100%",v.style.color=f,v.innerHTML=h}return e(function(){if(!(n instanceof jT)){var y=document.createElement("div");y.style.position="absolute",y.style.top="4px",y.style.bottom="4px",y.style.left="4px",y.style.right="4px",s.appendChild(y),s=y}s.appendChild(g),g.appendChild(b),h&&g.appendChild(v)}),""},color:function(n,t,e){return n.getElement().style.backgroundColor=this.sanitizeHTML(n.getValue()),""},buttonTick:function(n,t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(n,t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(n,t,e){return this.table.rowManager.activeRows.indexOf(n.getRow()._getSelf())+1},handle:function(n,t,e){return n.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(n,t,e){var r=document.createElement("div"),s=n.getRow()._row.modules.responsiveLayout;function o(a){var l=s.element;s.open=a,l&&(s.open?(r.classList.add("open"),l.style.display=""):(r.classList.remove("open"),l.style.display="none"))}return r.classList.add("tabulator-responsive-collapse-toggle"),r.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",n.getElement().classList.add("tabulator-row-handle"),r.addEventListener("click",function(a){a.stopImmediatePropagation(),o(!s.open)}),o(s.open),r},rowSelection:function(n,t,e){var r=document.createElement("input");if(r.type="checkbox",this.table.modExists("selectRow",!0))if(r.addEventListener("click",o=>{o.stopPropagation()}),"function"==typeof n.getRow){var s=n.getRow();s instanceof Rm?(r.addEventListener("change",o=>{s.toggleSelect()}),r.checked=s.isSelected&&s.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(s,r)):r=""}else r.addEventListener("change",o=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(t.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(r);return r}};let g4=(()=>{class n extends Ve{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),void 0!==e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),void 0!==e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),void 0!==e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,r){var s={params:e.definition["formatter"+r+"Params"]||{}},o=e.definition["formatter"+r];switch(typeof o){case"string":n.formatters[o]?s.formatter=n.formatters[o]:(console.warn("Formatter Error - No such formatter found: ",o),s.formatter=n.formatters.plaintext);break;case"function":s.formatter=o;break;default:s.formatter=n.formatters.plaintext}return s}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,r,s){var o,a,l,u;return e.definition.titleFormatter?(o=this.getFormatter(e.definition.titleFormatter),l=c=>{e.titleFormatterRendered=c},u={getValue:function(){return r},getElement:function(){return s}},a="function"==typeof(a=e.definition.titleFormatterParams||{})?a():a,o.call(this,u,a,l)):r}formatValue(e){var r=e.getComponent(),s="function"==typeof e.column.modules.format.params?e.column.modules.format.params(r):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,r,s,function(a){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=a,e.modules.format.rendered=!1})}formatExportValue(e,r){var o,s=e.column.modules.format[r];if(s){let a=function(l){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=l,e.modules.format.rendered=!1};return o="function"==typeof s.params?s.params(component):s.params,s.formatter.call(this,e.getComponent(),o,a)}return this.formatValue(e)}sanitizeHTML(e){if(e){var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(s){return r[s]})}return e}emptyToSpace(e){return null==e||""===e?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":n.formatters[e]?e=n.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=n.formatters.plaintext);break;case"function":e=e;break;default:e=n.formatters.plaintext}return e}}return n.moduleName="format",n.formatters=m4,n})(),b4=(()=>{class n extends Ve{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this))}layoutCell(e){this.layoutElement(e.element,e.column)}initializeColumn(e){var r={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(r.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=r):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}scrollHorizontal(){var e;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.layout()},100),e=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),e.forEach(r=>{"row"===r.type&&this.layoutRow(r)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}calcMargins(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(r=>{r.calcs.top&&this.layoutRow(r.calcs.top),r.calcs.bottom&&this.layoutRow(r.calcs.bottom),r.groupList&&r.groupList.length&&this.layoutGroupCalcs(r.groupList&&r.groupList)})}layoutColumnPosition(e){var r=[];this.leftColumns.forEach((s,o)=>{if(s.modules.frozen.margin=this._calcSpace(this.leftColumns,o)+this.table.columnManager.scrollLeft+"px",s.modules.frozen.edge=o==this.leftColumns.length-1,s.parent.isGroup){var a=this.getColGroupParentElement(s);r.includes(a)||(this.layoutElement(a,s),r.push(a)),s.modules.frozen.edge&&a.classList.add("tabulator-frozen-"+s.modules.frozen.position)}else this.layoutElement(s.getElement(),s);e&&s.cells.forEach(l=>{this.layoutElement(l.getElement(!0),s)})}),this.rightColumns.forEach((s,o)=>{s.modules.frozen.margin=this.rightPadding-this._calcSpace(this.rightColumns,o+1)+"px",s.modules.frozen.edge=o==this.rightColumns.length-1,this.layoutElement(s.parent.isGroup?this.getColGroupParentElement(s):s.getElement(),s),e&&s.cells.forEach(a=>{this.layoutElement(a.getElement(!0),s)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&this.layoutRow(e)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}layoutRow(e){e.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach(s=>{var o=e.getCell(s);o&&this.layoutElement(o.getElement(!0),s)}),this.rightColumns.forEach(s=>{var o=e.getCell(s);o&&this.layoutElement(o.getElement(!0),s)})}layoutElement(e,r){r.modules.frozen&&(e.style.position="absolute",e.style.left=r.modules.frozen.margin,e.classList.add("tabulator-frozen"),r.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+r.modules.frozen.position))}_calcSpace(e,r){var s=0;for(let o=0;o<r;o++)e[o].visible&&(s+=e[o].getWidth());return s}}return n.moduleName="frozenColumns",n})(),v4=(()=>{class n extends Ve{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this))}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}isRowFrozen(e){return this.rows.indexOf(e)>-1}isFrozen(){return!!this.rows.length}getRows(e){var r=e.slice(0);return this.rows.forEach(function(s){var o=r.indexOf(s);o>-1&&r.splice(o,1)}),r}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.refreshData(!1,"display"),this.styleRows())}unfreezeRow(e){this.rows.indexOf(e),e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var r=this.rows.indexOf(e);if(r>-1){var s=e.getElement();s.parentNode&&s.parentNode.removeChild(s),this.rows.splice(r,1)}}styleRows(e){this.rows.forEach((r,s)=>{this.table.rowManager.styleRow(r,s)})}}return n.moduleName="frozenRows",n})();class y4{constructor(t){return this._group=t,this.type="GroupComponent",new Proxy(this,{get:function(e,r,s){return void 0!==e[r]?e[r]:e._group.table.componentFunctionBinder.handle("row",e._group,r)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class co{constructor(t,e,r,s,o,a,l){this.groupManager=t,this.parent=e,this.key=s,this.level=r,this.field=o,this.hasSubGroups=r<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=l,this.rows=[],this.groups=[],this.groupList=[],this.generator=a,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=l?l.visible:void 0!==t.startOpen[r]?t.startOpen[r]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(){this.groupList.length?this.groupList.forEach(function(t){t.wipe()}):this.rows.forEach(t=>{t.modules&&delete t.modules.group}),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var t=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]&&this.groupManager.allowedValues[t].forEach(e=>{this._createGroup(e,t)})}addBindings(){var t,e,r;(this.groupManager.table.options.groupContextMenu||this.groupManager.table.options.groupClickMenu)&&this.groupManager.table.modExists("menu")&&this.groupManager.table.modules.menu.initializeGroup.call(this.groupManager.table.modules.menu,this),this.groupManager.table.options.groupTap&&(r=!1,this.element.addEventListener("touchstart",o=>{r=!0},{passive:!0}),this.element.addEventListener("touchend",o=>{r&&this.groupManager.table.options.groupTap(o,this.getComponent()),r=!1})),this.groupManager.table.options.groupDblTap&&(t=null,this.element.addEventListener("touchend",o=>{t?(clearTimeout(t),t=null,this.groupManager.table.options.groupDblTap(o,this.getComponent())):t=setTimeout(()=>{clearTimeout(t),t=null},300)})),this.groupManager.table.options.groupTapHold&&(e=null,this.element.addEventListener("touchstart",o=>{clearTimeout(e),e=setTimeout(()=>{clearTimeout(e),e=null,r=!1,this.groupManager.table.options.groupTapHold(o,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",o=>{clearTimeout(e),e=null})),this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",o=>{o.stopPropagation(),o.stopImmediatePropagation(),this.toggleVisibility()})}_createGroup(t,e){var r=e+"_"+t,s=new co(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[r]);this.groups[r]=s,this.groupList.push(s)}_addRowToGroup(t){var e=this.level+1;if(this.hasSubGroups){var r=this.groupManager.groupIDLookups[e].func(t.getData()),s=e+"_"+r;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[s]&&this.groups[s].addRow(t):(this.groups[s]||this._createGroup(r,e),this.groups[s].addRow(t))}}_addRow(t){this.rows.push(t),t.modules.group=this}insertRow(t,e,r){var s=this.conformRowData({});t.updateData(s);var o=this.rows.indexOf(e);o>-1?this.rows.splice(r?o+1:o,0,t):r?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(t){this.arrowElement.style.marginLeft=t,this.groupList.forEach(function(e){e.scrollHeader(t)})}getRowIndex(t){}conformRowData(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t}removeRow(t){var e=this.rows.indexOf(t),r=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(r.parentNode&&r.parentNode.removeChild(r),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(t){var r,e=t.level+"_"+t.key;this.groups[e]&&(delete this.groups[e],(r=this.groupList.indexOf(t))>-1&&this.groupList.splice(r,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(t){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(r){e=e.concat(r.getHeadersAndRows(t))}):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e}getData(t,e){var r=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach(s=>{r.push(s.getData(e||"data"))}),r}getRowCount(){var t=0;return this.groupList.length?this.groupList.forEach(e=>{t+=e.getRowCount()}):t=this.rows.length,t}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(t=>{t.getHeadersAndRows().forEach(r=>{r.detachElement()})}):this.rows.forEach(t=>{var e=t.getElement();e.parentNode.removeChild(e)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var t=this.generateElement();this.groupList.length?this.groupList.forEach(e=>{e.getHeadersAndRows().forEach(s=>{var o=s.getElement();t.parentNode.insertBefore(o,t.nextSibling),s.initialize(),t=o})}):this.rows.forEach(e=>{var r=e.getElement();t.parentNode.insertBefore(r,t.nextSibling),e.initialize(),t=r}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var t=[];"function"==typeof this.visible&&(this.rows.forEach(function(e){t.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))}getRowGroup(t){var e=!1;return this.groupList.length?this.groupList.forEach(function(r){var s=r.getRowGroup(t);s&&(e=s)}):this.rows.find(function(r){return r===t})&&(e=this),e}getSubGroups(t){var e=[];return this.groupList.forEach(function(r){e.push(t?r.getComponent():r)}),e}getRows(t){var e=[];return this.rows.forEach(function(r){e.push(t?r.getComponent():r)}),e}generateGroupHeaderContents(){var t=[];for(this.rows.forEach(function(e){t.push(e.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(t=[]){return t.unshift(this.key),this.parent&&this.parent.getPath(t),t}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(t){(!this.initialized||t)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,lt.elVisible(this.element)&&this.initialize(!0)}setHeight(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new y4(this)),this.component}}let _4=(()=>{class n extends Ve{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0,this.displayHandler=this.getRows.bind(this),this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.table.options.groupBy&&(this.configureGroupSetup(),this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,r=this.table.options.groupStartOpen,s=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(s)&&e.length>s.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(a,l)=>{this.headerGenerator[0]=(u,c,d)=>(void 0===u?"":u)+"<span>("+c+" "+(1===c?a:l.groups.items)+")</span>"}),this.groupIDLookups=[],Array.isArray(e)||e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(a=>{a.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),a.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(e)||(e=[e]),e.forEach((a,l)=>{var u,c;u="function"==typeof a?a:(c=this.table.columnManager.getColumnByField(a))?function(d){return c.getFieldValue(d)}:function(d){return d[a]},this.groupIDLookups.push({field:"function"!=typeof a&&a,func:u,values:!!this.allowedValues&&this.allowedValues[l]})}),r&&(Array.isArray(r)||(r=[r]),r.forEach(a=>{}),this.startOpen=r),s&&(this.headerGenerator=Array.isArray(s)?s:[s])}}rowSample(e,r){var s=this.getGroups(!1)[0];return r.push(s.getRows(!1)[0]),r}virtualRenderFill(){var e=this.table.rowManager.tableElement,r=this.table.rowManager.getVisibleRows();r=r.filter(s=>"group"!==s.type),e.style.minWidth=r.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(e,r,s){this.assignRowToGroup(e);var o=e.modules.group.rows;return o.length>1&&(!r||r&&-1==o.indexOf(r)?s?o[0]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,r=o[0],!s):o[o.length-1]!==e&&this.table.rowManager.moveRowInArray(e.modules.group.rows,e,r=o[o.length-1],!s):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,r,!s)),r}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized?this.configureGroupSetup():this.initialize(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return!!e.modules.group&&e.modules.group.getComponent()}rowMoving(e,r,s){!s&&r instanceof co&&(r=this.table.rowManager.prevDisplayRow(e)||r);var o=r instanceof co?r:r.modules.group,a=e instanceof co?e:e.modules.group;o===a?this.table.rowManager.moveRowInArray(o.rows,e,r,s):(a&&a.removeRow(e),o.insertRow(e,r,s))}rowDeleting(e){e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.updateGroupRows(!0)}cellUpdated(e){this.reassignRowToGroup(e.row)}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var r=[];return this.groupList.forEach(function(s){r.push(e?s.getComponent():s)}),r}getChildGroups(e){var r=[];return e||(e=this),e.groupList.forEach(s=>{s.groupList.length?r=r.concat(this.getChildGroups(s)):r.push(s)}),r}wipe(){this.groupList.forEach(function(e){e.wipe()})}pullGroupListData(e){var r=[];return e.forEach(s=>{var o={level:0,rowCount:0,headerContent:""},a=[];s.hasSubGroups?(a=this.pullGroupListData(s.groupList),o.level=s.level,o.rowCount=a.length-s.groupList.length,o.headerContent=s.generator(s.key,o.rowCount,s.rows,s),r.push(o),r=r.concat(a)):(o.level=s.level,o.headerContent=s.generator(s.key,s.rows.length,s.rows,s),o.rowCount=s.getRows().length,r.push(o),s.getRows().forEach(l=>{r.push(l.getData("data"))}))}),r}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var r=!1;return this.groupList.forEach(s=>{var o=s.getRowGroup(e);o&&(r=o)}),r}countGroups(){return this.groupList.length}generateGroups(e){var r=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(s=>{this.createGroup(s,0,r)}),e.forEach(s=>{this.assignRowToExistingGroup(s,r)})):e.forEach(s=>{this.assignRowToGroup(s,r)})}createGroup(e,r,s){var a,o=r+"_"+e;a=new co(this,!1,r,e,this.groupIDLookups[0].field,this.headerGenerator[0],(s=s||[])[o]),this.groups[o]=a,this.groupList.push(a)}assignRowToExistingGroup(e,r){var o="0_"+this.groupIDLookups[0].func(e.getData());this.groups[o]&&this.groups[o].addRow(e)}assignRowToGroup(e,r){var s=this.groupIDLookups[0].func(e.getData()),o=!this.groups["0_"+s];return o&&this.createGroup(s,0,r),this.groups["0_"+s].addRow(e),!o}reassignRowToGroup(e){if("row"===e.type){var r=e.modules.group,s=r.getPath(),o=this.getExpectedPath(e);s.length==o.length&&s.every((l,u)=>l===o[u])||(r.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var r=[],s=e.getData();return this.groupIDLookups.forEach(o=>{r.push(o.func(s))}),r}updateGroupRows(e){var r=[];return this.groupList.forEach(s=>{r=r.concat(s.getHeadersAndRows())}),e&&this.refreshData(!0,this.displayHandler),r}scrollHeaders(e){"virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach(r=>{r.scrollHeader(e)})}removeGroup(e){var s,r=e.level+"_"+e.key;this.groups[r]&&(delete this.groups[r],(s=this.groupList.indexOf(e))>-1&&this.groupList.splice(s,1))}}return n.moduleName="groupRows",n})();var w4={cellEdit:function(n){n.component.setValueProcessData(n.data.oldValue),n.component.cellRendered()},rowAdd:function(n){n.component.deleteActual()},rowDelete:function(n){var t=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,t)},rowMove:function(n){this.table.rowManager.moveRowActual(n.component,this.table.rowManager.rows[n.data.posFrom],!n.data.after),this.table.rowManager.redraw()}},C4={cellEdit:function(n){n.component.setValueProcessData(n.data.newValue),n.component.cellRendered()},rowAdd:function(n){var t=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,t)},rowDelete:function(n){n.component.deleteActual()},rowMove:function(n){this.table.rowManager.moveRowActual(n.component,this.table.rowManager.rows[n.data.posTo],n.data.after),this.table.rowManager.redraw()}};let E4=(()=>{class n extends Ve{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,r,s){this.action("rowMove",e,{posFrom:this.table.rowManager.getRowPosition(e),posTo:this.table.rowManager.getRowPosition(r),to:r,after:s})}rowAdded(e,r,s,o){this.action("rowAdd",e,{data:r,pos:s,index:o})}rowDeleted(e){var r,s;this.table.options.groupBy?(r=(s=e.getComponent().getGroup().rows).indexOf(e))&&(r=s[r-1]):(r=e.table.rowManager.getRowIndex(e))&&(r=e.table.rowManager.rows[r-1]),this.action("rowDelete",e,{data:e.getData(),pos:!r,index:r})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,r,s){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:r,data:s}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var r=this.history.findIndex(function(s){return s.component===e});r>-1&&(this.history.splice(r,1),r<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return n.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return n.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,r){this.history.forEach(function(s){if(s.component instanceof hn)s.component===e&&(s.component=r);else if(s.component instanceof Mc&&s.component.row===e){var o=s.component.column.getField();o&&(s.component=r.getCell(o))}})}}return n.moduleName="history",n.undoers=w4,n.redoers=C4,n})(),D4=(()=>{class n extends Ve{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}parseTable(){var e=this.table.originalElement,r=this.table.options,o=e.getElementsByTagName("th"),a=e.getElementsByTagName("tbody")[0],l=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),a=a?a.getElementsByTagName("tr"):[],this._extractOptions(e,r),o.length?this._extractHeaders(o,a):this._generateBlankHeaders(o,a);for(var u=0;u<a.length;u++){var d=a[u].getElementsByTagName("td"),h={};this.hasIndex||(h[r.index]=u);for(var f=0;f<d.length;f++)void 0!==this.fieldIndex[f]&&(h[this.fieldIndex[f]]=d[f].innerHTML);l.push(h)}r.data=l,this.dispatchExternal("htmlImported")}_extractOptions(e,r,s){var o=e.attributes,a=Object.keys(s||r),l={};for(var u in a.forEach(h=>{l[h.toLowerCase()]=h}),o){var d,c=o[u];c&&"object"==typeof c&&c.name&&0===c.name.indexOf("tabulator-")&&(d=c.name.replace("tabulator-",""),void 0!==l[d]&&(r[l[d]]=this._attribValue(c.value)))}}_attribValue(e){return"true"===e||"false"!==e&&e}_findCol(e){return this.table.options.columns.find(s=>s.title===e)||!1}_extractHeaders(e,r){for(var s=0;s<e.length;s++){var u,o=e[s],a=!1,l=this._findCol(o.textContent);l?a=!0:l={title:o.textContent.trim()},l.field||(l.field=o.textContent.trim().toLowerCase().replace(" ","_")),(u=o.getAttribute("width"))&&!l.width&&(l.width=u),this._extractOptions(o,l,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[s]=l.field,l.field==this.table.options.index&&(this.hasIndex=!0),a||this.table.options.columns.push(l)}}_generateBlankHeaders(e,r){for(var s=0;s<e.length;s++){var o=e[s],a={title:"",field:"col"+s};this.fieldIndex[s]=a.field;var l=o.getAttribute("width");l&&(a.width=l),this.table.options.columns.push(a)}}}return n.moduleName="htmlTableImport",n})(),T4=(()=>{class n extends Ve{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(e,r){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){e.preventDefault();try{if(document.selection)(s=document.body.createTextRange()).moveToElementText(this.element),s.select();else if(window.getSelection){var s;(s=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(s)}}catch(o){}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,r){r?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var r=this.eventMap[e];this.touchSubscribers[r+"-touchstart"]||(this.touchSubscribers[r+"-touchstart"]=this.handleTouch.bind(this,r,"start"),this.touchSubscribers[r+"-touchend"]=this.handleTouch.bind(this,r,"end"),this.subscribe(r+"-touchstart",this.touchSubscribers[r+"-touchstart"]),this.subscribe(r+"-touchend",this.touchSubscribers[r+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var r=!0,s=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let o in this.eventMap)this.eventMap[o]===s&&this.subscribers[o]&&(r=!1);r&&(this.unsubscribe(s+"-touchstart",this.touchSubscribers[s+"-touchstart"]),this.unsubscribe(s+"-touchend",this.touchSubscribers[s+"-touchend"]),delete this.touchSubscribers[s+"-touchstart"],delete this.touchSubscribers[s+"-touchend"])}}initializeColumn(e){var r=e.definition;for(let s in this.eventMap)r[s]&&(this.subscriptionChanged(s,!0),this.columnSubscribers[s]||(this.columnSubscribers[s]=[]),this.columnSubscribers[s].push(e))}handle(e,r,s){this.dispatchEvent(e,r,s)}handleTouch(e,r,s,o){var a=this.touchWatchers[e];switch("column"===e&&(e="header"),r){case"start":a.tap=!0,clearTimeout(a.tapHold),a.tapHold=setTimeout(()=>{clearTimeout(a.tapHold),a.tapHold=null,a.tap=null,clearTimeout(a.tapDbl),a.tapDbl=null,this.dispatchEvent(e+"TapHold",s,o)},1e3);break;case"end":a.tap&&(a.tap=null,this.dispatchEvent(e+"Tap",s,o)),a.tapDbl?(clearTimeout(a.tapDbl),a.tapDbl=null,this.dispatchEvent(e+"DblTap",s,o)):a.tapDbl=setTimeout(()=>{clearTimeout(a.tapDbl),a.tapDbl=null},300),clearTimeout(a.tapHold),a.tapHold=null}}dispatchEvent(e,r,s){var a,o=s.getComponent();this.columnSubscribers[e]&&(s instanceof Mc?a=s.column.definition[e]:s instanceof xc&&(a=s.definition[e]),a&&a(r,o)),this.dispatchExternal(e,r,o)}}return n.moduleName="interaction",n})();var M4={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},x4={keyBlock:function(n){n.stopPropagation(),n.preventDefault()},scrollPageUp:function(n){var t=this.table.rowManager,e=t.scrollTop-t.element.clientHeight;n.preventDefault(),t.displayRowsCount&&(e>=0?t.element.scrollTop=e:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(n){var t=this.table.rowManager,e=t.scrollTop+t.element.clientHeight,r=t.element.scrollHeight;n.preventDefault(),t.displayRowsCount&&(e<=r?t.element.scrollTop=e:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(n){var t=this.table.rowManager;n.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(n){var t=this.table.rowManager;n.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(n){this.dispatch("keybinding-nav-prev",n)},navNext:function(n){this.dispatch("keybinding-nav-next",n)},navLeft:function(n){this.dispatch("keybinding-nav-left",n)},navRight:function(n){this.dispatch("keybinding-nav-right",n)},navUp:function(n){this.dispatch("keybinding-nav-up",n)},navDown:function(n){this.dispatch("keybinding-nav-down",n)},undo:function(n){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(n.preventDefault(),this.table.modules.history.undo()))},redo:function(n){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(n.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(n){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};let S4=(()=>{class n extends Ve{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",[]),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,r={};if(this.watchKeys={},this.pressedKeys=[],!1!==e){for(let s in n.bindings)r[s]=n.bindings[s];if(Object.keys(e).length)for(let s in e)r[s]=e[s];this.mapBindings(r),this.bindEvents()}this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let r in e)n.actions[r]?e[r]&&("object"!=typeof e[r]&&(e[r]=[e[r]]),e[r].forEach(s=>{this.mapBinding(r,s)})):console.warn("Key Binding Error - no such action:",r)}mapBinding(e,r){var s={action:n.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1};r.toString().toLowerCase().split(" ").join("").split("+").forEach(a=>{switch(a){case"ctrl":s.ctrl=!0;break;case"shift":s.shift=!0;break;case"meta":s.meta=!0;break;default:a=parseInt(a),s.keys.push(a),this.watchKeys[a]||(this.watchKeys[a]=[]),this.watchKeys[a].push(s)}})}bindEvents(){var e=this;this.keyupBinding=function(r){var s=r.keyCode,o=e.watchKeys[s];o&&(e.pressedKeys.push(s),o.forEach(function(a){e.checkBinding(r,a)}))},this.keydownBinding=function(r){var s=r.keyCode;if(e.watchKeys[s]){var a=e.pressedKeys.indexOf(s);a>-1&&e.pressedKeys.splice(a,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,r){var s=!0;return e.ctrlKey==r.ctrl&&e.shiftKey==r.shift&&e.metaKey==r.meta&&(r.keys.forEach(o=>{-1==this.pressedKeys.indexOf(o)&&(s=!1)}),s&&r.action.call(this,e),!0)}}return n.moduleName="keybindings",n.bindings=M4,n.actions=x4,n})(),R4=(()=>{class n extends Ve{constructor(e){super(e),this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1,this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu")}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this))}layoutCell(e){(e.column.definition.contextMenu||e.column.definition.clickMenu)&&this.initializeCell(e)}initializeColumn(e){var r=e.definition;(r.headerContextMenu||r.headerClickMenu||r.headerMenu)&&this.initializeColumnHeader(e)}initializeColumnHeader(e){var r;e.definition.headerContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,e.definition.headerContextMenu)),this.tapHold(e,e.definition.headerContextMenu)),e.definition.headerMenu&&((r=document.createElement("span")).classList.add("tabulator-header-menu-button"),r.innerHTML="&vellip;",r.addEventListener("click",s=>{s.stopPropagation(),s.preventDefault(),this.LoadMenuEvent(e,e.definition.headerMenu,s)}),e.titleElement.insertBefore(r,e.titleElement.firstChild))}LoadMenuEvent(e,r,s){r="function"==typeof r?r.call(this.table,e.getComponent(),s):r,this.loadMenu(s,e,r)}tapHold(e,r){var s=e.getElement(),o=null,a=!1;s.addEventListener("touchstart",l=>{clearTimeout(o),a=!1,o=setTimeout(()=>{clearTimeout(o),o=null,a=!0,this.LoadMenuEvent(e,r,l)},1e3)},{passive:!0}),s.addEventListener("touchend",l=>{clearTimeout(o),o=null,a&&l.preventDefault()})}initializeCell(e){e.column.definition.contextMenu&&(e.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,e.column.definition.contextMenu)),this.tapHold(e,e.column.definition.contextMenu)),e.column.definition.clickMenu&&e.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,e,e.column.definition.clickMenu))}initializeRow(e){this.table.options.rowContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,this.table.options.rowContextMenu)),this.tapHold(e,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&e.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,e,this.table.options.rowClickMenu))}initializeGroup(e){this.table.options.groupContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,this.table.options.groupContextMenu)),this.tapHold(e,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&e.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,e,this.table.options.groupClickMenu))}loadMenu(e,r,s,o){var a=!(e instanceof MouseEvent),l=document.createElement("div");if(l.classList.add("tabulator-menu"),a||e.preventDefault(),s&&s.length){if(!o){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}s.forEach(u=>{var c=document.createElement("div"),d=u.label,h=u.disabled;u.separator?c.classList.add("tabulator-menu-separator"):(c.classList.add("tabulator-menu-item"),"function"==typeof d&&(d=d.call(this.table,r.getComponent())),d instanceof Node?c.appendChild(d):c.innerHTML=d,"function"==typeof h&&(h=h.call(this.table,r.getComponent())),h?(c.classList.add("tabulator-menu-item-disabled"),c.addEventListener("click",f=>{f.stopPropagation()})):u.menu&&u.menu.length?c.addEventListener("click",f=>{f.stopPropagation(),this.hideOldSubMenus(l),this.loadMenu(f,r,u.menu,c)}):u.action&&c.addEventListener("click",f=>{u.action(f,r.getComponent())}),u.menu&&u.menu.length&&c.classList.add("tabulator-menu-item-submenu")),l.appendChild(c)}),l.addEventListener("click",u=>{this.hideMenu()}),this.menuElements.push(l),this.positionMenu(l,o,a,e)}}hideOldSubMenus(e){var r=this.menuElements.indexOf(e);if(r>-1)for(let o=this.menuElements.length-1;o>r;o--){var s=this.menuElements[o];s.parentNode&&s.parentNode.removeChild(s),this.menuElements.pop()}}positionMenu(e,r,s,o){var l,u,c,a=Math.max(document.body.offsetHeight,window.innerHeight);r?(l=(c=lt.elOffset(r)).left+r.offsetWidth,u=c.top-1):(l=s?o.touches[0].pageX:o.pageX,u=s?o.touches[0].pageY:o.pageY,this.positionReversedX=!1),e.style.top=u+"px",e.style.left=l+"px",setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent)},100),document.body.appendChild(e),u+e.offsetHeight>=a&&(e.style.top="",e.style.bottom=r?a-c.top-r.offsetHeight-1+"px":a-u+"px"),(l+e.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(e.style.left="",e.style.right=r?document.documentElement.offsetWidth-c.left+"px":document.documentElement.offsetWidth-l+"px",this.positionReversedX=!0)}isOpen(){return!!this.menuElements.length}escMenu(e){27==e.keyCode&&this.hideMenu()}hideMenu(){this.menuElements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)}}return n.moduleName="menu",n})(),A4=(()=>{class n extends Ve{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var o,r=this,s={};e.modules.frozen||(o=e.getElement(),s.mousemove=function(a){e.parent===r.moving.parent&&((r.touchMove?a.touches[0].pageX:a.pageX)-lt.elOffset(o).left+r.table.columnManager.element.scrollLeft>e.getWidth()/2?(r.toCol!==e||!r.toColAfter)&&(o.parentNode.insertBefore(r.placeholderElement,o.nextSibling),r.moveColumn(e,!0)):(r.toCol!==e||r.toColAfter)&&(o.parentNode.insertBefore(r.placeholderElement,o),r.moveColumn(e,!1)))}.bind(r),o.addEventListener("mousedown",function(a){r.touchMove=!1,1===a.which&&(r.checkTimeout=setTimeout(function(){r.startMove(a,e)},r.checkPeriod))}),o.addEventListener("mouseup",function(a){1===a.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),r.bindTouchEvents(e)),e.modules.moveColumn=s}bindTouchEvents(e){var o,a,l,u,c,d,r=e.getElement(),s=!1;r.addEventListener("touchstart",h=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,o=e.nextColumn(),l=o?o.getWidth()/2:0,a=e.prevColumn(),u=a?a.getWidth()/2:0,c=0,d=0,s=!1,this.startMove(h,e)},this.checkPeriod)},{passive:!0}),r.addEventListener("touchmove",h=>{var f,p;this.moving&&(this.moveHover(h),s||(s=h.touches[0].pageX),(f=h.touches[0].pageX-s)>0?o&&f-c>l&&(p=o)!==e&&(s=h.touches[0].pageX,p.getElement().parentNode.insertBefore(this.placeholderElement,p.getElement().nextSibling),this.moveColumn(p,!0)):a&&-f-d>u&&(p=a)!==e&&(s=h.touches[0].pageX,p.getElement().parentNode.insertBefore(this.placeholderElement,p.getElement()),this.moveColumn(p,!1)),p&&(o=p.nextColumn(),c=l,l=o?o.getWidth()/2:0,a=p.prevColumn(),d=u,u=a?a.getWidth()/2:0))},{passive:!0}),r.addEventListener("touchend",h=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(h)})}startMove(e,r){var s=r.getElement(),o=this.table.columnManager.getElement(),a=this.table.columnManager.getHeadersElement();this.moving=r,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-lt.elOffset(s).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=r.getWidth()+"px",this.placeholderElement.style.height=r.getHeight()+"px",s.parentNode.insertBefore(this.placeholderElement,s),s.parentNode.removeChild(s),this.hoverElement=s.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=o.clientHeight-a.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,r){var s=this.moving.getCells();this.toCol=e,this.toColAfter=r,r?e.getCells().forEach(function(o,a){var l=o.getElement(!0);l.parentNode&&s[a]&&l.parentNode.insertBefore(s[a].getElement(),l.nextSibling)}):e.getCells().forEach(function(o,a){var l=o.getElement(!0);l.parentNode&&s[a]&&l.parentNode.insertBefore(s[a].getElement(),l)})}endMove(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var a,r=this.table.columnManager.getElement(),s=r.scrollLeft,o=(this.touchMove?e.touches[0].pageX:e.pageX)-lt.elOffset(r).left+s;this.hoverElement.style.left=o-this.startX+"px",o-s<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{a=Math.max(0,s-5),this.table.rowManager.getElement().scrollLeft=a,this.autoScrollTimeout=!1},1))),s+r.clientWidth-o<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{a=Math.min(r.clientWidth,s+5),this.table.rowManager.getElement().scrollLeft=a,this.autoScrollTimeout=!1},1)))}}return n.moduleName="moveColumn",n})();class Rc extends Ve{constructor(t){super(t),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(t){var e=this,r={};r.mouseup=function(s){e.tableRowDrop(s,row)}.bind(e),r.mousemove=function(s){if(s.pageY-lt.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2)e.toRow===t&&e.toRowAfter||((o=t.getElement()).parentNode.insertBefore(e.placeholderElement,o.nextSibling),e.moveRow(t,!0));else if(e.toRow!==t||e.toRowAfter){var o;(o=t.getElement()).previousSibling&&(o.parentNode.insertBefore(e.placeholderElement,o),e.moveRow(t,!1))}}.bind(e),t.modules.moveRow=r}initializeRow(t){var s,e=this,r={};r.mouseup=function(o){e.tableRowDrop(o,t)}.bind(e),r.mousemove=function(o){var a=t.getElement();o.pageY-lt.elOffset(a).top+e.table.rowManager.element.scrollTop>t.getHeight()/2?(e.toRow!==t||!e.toRowAfter)&&(a.parentNode.insertBefore(e.placeholderElement,a.nextSibling),e.moveRow(t,!0)):(e.toRow!==t||e.toRowAfter)&&(a.parentNode.insertBefore(e.placeholderElement,a),e.moveRow(t,!1))}.bind(e),this.hasHandle||((s=t.getElement()).addEventListener("mousedown",function(o){1===o.which&&(e.checkTimeout=setTimeout(function(){e.startMove(o,t)},e.checkPeriod))}),s.addEventListener("mouseup",function(o){1===o.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=r}initializeColumn(t){t.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(t){if(t.column.definition.rowHandle&&!1!==this.table.options.movableRows){var e=this,r=t.getElement(!0);r.addEventListener("mousedown",function(s){1===s.which&&(e.checkTimeout=setTimeout(function(){e.startMove(s,t.row)},e.checkPeriod))}),r.addEventListener("mouseup",function(s){1===s.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(t.row,r)}}bindTouchEvents(t,e){var s,o,a,l,u,c,r=!1;e.addEventListener("touchstart",d=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,s=t.nextRow(),a=s?s.getHeight()/2:0,o=t.prevRow(),l=o?o.getHeight()/2:0,u=0,c=0,r=!1,this.startMove(d,t)},this.checkPeriod)},{passive:!0}),e.addEventListener("touchmove",d=>{var h,f;this.moving&&(d.preventDefault(),this.moveHover(d),r||(r=d.touches[0].pageY),(h=d.touches[0].pageY-r)>0?s&&h-u>a&&(f=s)!==t&&(r=d.touches[0].pageY,f.getElement().parentNode.insertBefore(this.placeholderElement,f.getElement().nextSibling),this.moveRow(f,!0)):o&&-h-c>l&&(f=o)!==t&&(r=d.touches[0].pageY,f.getElement().parentNode.insertBefore(this.placeholderElement,f.getElement()),this.moveRow(f,!1)),f&&(s=f.nextRow(),u=a,a=s?s.getHeight()/2:0,o=f.prevRow(),c=l,l=o?o.getHeight()/2:0))}),e.addEventListener("touchend",d=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(d),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(t=>{("row"===t.type||"group"===t.type)&&t.modules.moveRow&&t.modules.moveRow.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(t=>{("row"===t.type||"group"===t.type)&&t.modules.moveRow&&t.modules.moveRow.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)})}startMove(t,e){var r=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(r.parentNode.insertBefore(this.placeholderElement,r),r.parentNode.removeChild(r)),this.hoverElement=r.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)}setStartPosition(t,e){var o,a,r=this.touchMove?t.touches[0].pageX:t.pageX,s=this.touchMove?t.touches[0].pageY:t.pageY;o=e.getElement(),this.connection?(a=o.getBoundingClientRect(),this.startX=a.left-r+window.pageXOffset,this.startY=a.top-s+window.pageYOffset):this.startY=s-o.getBoundingClientRect().top}endMove(t){(!t||1===t.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(t,e){this.toRow=t,this.toRowAfter=e}moveHover(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)}moveHoverTable(t){var e=this.table.rowManager.getElement(),r=e.scrollTop,s=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+r;this.hoverElement.style.top=s-this.startY+"px"}moveHoverConnections(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"}elementRowDrop(t,e,r){this.dispatchExternal("movableRowsElementDrop",t,e,!!r&&r.getComponent())}connectToTables(t){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",e),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(r=>{"string"==typeof r?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(r))):this.connectionElements.push(r)}),this.connectionElements.forEach(r=>{var s=o=>{this.elementRowDrop(o,r,this.moving)};r.addEventListener("mouseup",s),r.tabulatorElementDropEvent=s,r.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",t),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(e=>{e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent})}connect(t,e){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&r.modules.moveRow&&r.modules.moveRow.mouseup&&r.getElement().addEventListener("mouseup",r.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",e,t),!0)}disconnect(t){t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",t)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(t,e,r){var s=!1;if(r){switch(typeof this.table.options.movableRowsSender){case"string":s=this.senders[this.table.options.movableRowsSender];break;case"function":s=this.table.options.movableRowsSender}s?s.call(this,this.moving.getComponent(),e?e.getComponent():void 0,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()}tableRowDrop(t,e){var r=!1,s=!1;switch(t.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":r=this.receivers[this.table.options.movableRowsReceiver];break;case"function":r=this.table.options.movableRowsReceiver}r?s=r.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(s?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:e,success:s})}commsReceived(t,e,r){switch(e){case"connect":return this.connect(t,r.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,r.row,r.success)}}}Rc.prototype.receivers={insert:function(n,t,e){return this.table.addRow(n.getData(),void 0,t),!0},add:function(n,t,e){return this.table.addRow(n.getData()),!0},update:function(n,t,e){return!!t&&(t.update(n.getData()),!0)},replace:function(n,t,e){return!!t&&(this.table.addRow(n.getData(),void 0,t),t.delete(),!0)}},Rc.prototype.senders={delete:function(n,t,e){n.delete()}},Rc.moduleName="moveRow";var k4={};let I4=(()=>{class n extends Ve{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,r,s){return this.transformRow(r,"data",s)}initializeColumn(e){var r=!1,s={};this.allowedTypes.forEach(o=>{var l,a="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[a]&&(l=this.lookupMutator(e.definition[a]))&&(r=!0,s[a]={mutator:l,params:e.definition[a+"Params"]||{}})}),r&&(e.modules.mutate=s)}lookupMutator(e){var r=!1;switch(typeof e){case"string":n.mutators[e]?r=n.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":r=e}return r}transformRow(e,r,s){var a,o="mutator"+(r.charAt(0).toUpperCase()+r.slice(1));return this.enabled&&this.table.columnManager.traverse(l=>{var u,c,d;l.modules.mutate&&(u=l.modules.mutate[o]||l.modules.mutate.mutator||!1)&&(a=l.getFieldValue(void 0!==s?s:e),("data"==r||void 0!==a)&&(d=l.getComponent(),c="function"==typeof u.params?u.params(a,e,r,d):u.params,l.setFieldValue(e,u.mutator(a,e,r,c,d))))}),e}transformCell(e,r){if(e.column.modules.mutate){var s=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,o={};if(s)return o=Object.assign(o,e.row.getData()),e.column.setFieldValue(o,r),s.mutator(r,o,"edit",s.params,e.getComponent())}return r}enable(){this.enabled=!0}disable(){this.enabled=!1}}return n.moduleName="mutator",n.mutators=k4,n})(),F4=(()=>{class n extends Ve{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,r){var a,s=this.table.rowManager,o=s.getDisplayRows();return r?o.length?a=o[0]:s.activeRows.length&&(a=s.activeRows[s.activeRows.length-1],r=!1):o.length&&(a=o[o.length-1],r=!(o.length<this.size)),{index:a,top:r}}calculatePageSizes(){var e,r;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((e=document.createElement("div")).classList.add("tabulator-row"),e.style.visibility="hidden",(r=document.createElement("div")).classList.add("tabulator-cell"),r.innerHTML="Page Row Test",e.appendChild(r),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,r,s,o){return this.initialLoad||(this.progressiveLoad&&!s||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),o.page=this.page,this.size&&(o.size=this.size),o}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e))?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}scrollVertical(e,r){var s;!r&&!this.table.dataLoader.loading&&(s=this.table.rowManager.getElement()).scrollHeight-s.clientHeight-e<(this.table.options.progressiveLoadScrollMargin||2*s.clientHeight)&&this.nextPage().catch(()=>{})}restOnRenderBefore(e,r){return r||"local"===this.mode&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=e=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(let r=1;r<5;r++)e.push(this.size*r);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(r=>{var s=document.createElement("option");s.value=r,!0===r?this.langBind("pagination|all",function(o){s.innerHTML=o}):s.innerHTML=r,this.pageSizeSelect.appendChild(s)}),this.pageSizeSelect.value=this.size}}initializePaginator(e){var r;e||(this.langBind("pagination|first",s=>{this.firstBut.innerHTML=s}),this.langBind("pagination|first_title",s=>{this.firstBut.setAttribute("aria-label",s),this.firstBut.setAttribute("title",s)}),this.langBind("pagination|prev",s=>{this.prevBut.innerHTML=s}),this.langBind("pagination|prev_title",s=>{this.prevBut.setAttribute("aria-label",s),this.prevBut.setAttribute("title",s)}),this.langBind("pagination|next",s=>{this.nextBut.innerHTML=s}),this.langBind("pagination|next_title",s=>{this.nextBut.setAttribute("aria-label",s),this.nextBut.setAttribute("title",s)}),this.langBind("pagination|last",s=>{this.lastBut.innerHTML=s}),this.langBind("pagination|last_title",s=>{this.lastBut.setAttribute("aria-label",s),this.lastBut.setAttribute("title",s)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(r=document.createElement("label"),this.langBind("pagination|page_size",s=>{this.pageSizeSelect.setAttribute("aria-label",s),this.pageSizeSelect.setAttribute("title",s),r.innerHTML=s}),this.element.appendChild(r),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",s=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),!this.table.options.paginationElement&&!e&&this.table.footerManager.append(this.element,this),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setDisplayIndex(e){this.displayIndex=e}getDisplayIndex(){return this.displayIndex}setMaxRows(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1)}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(e=parseInt(e))>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var s=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(e);if(s>-1){var o=!0===this.size?1:Math.ceil((s+1)/this.size);return this.setPage(o)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageButtons(){let e=Math.floor((this.count-1)/2),r=Math.ceil((this.count-1)/2),s=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),o=this.page<=r?Math.min(this.count,this.max):Math.min(this.page+r,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let a=s;a<=o;a++)a>0&&a<=this.max&&this.pagesElement.appendChild(this._generatePageButton(a));this.footerRedraw()}_generatePageButton(e){var r=document.createElement("button");return r.classList.add("tabulator-page"),e==this.page&&r.classList.add("active"),r.setAttribute("type","button"),r.setAttribute("role","button"),this.langBind("pagination|page_title",s=>{r.setAttribute("aria-label",s+" "+e),r.setAttribute("title",s+" "+e)}),r.setAttribute("data-page",e),r.textContent=e,r.addEventListener("click",s=>{this.setPage(e)}),r}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var r,s,o;if("local"==this.mode){r=[],this.setMaxRows(e.length),!0===this.size?(s=0,o=e.length):o=(s=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let a=s;a<o;a++)e[a]&&r.push(e[a]);return r}return this._setPageButtons(),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){if(void 0===e.last_page&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data){if(this.max=parseInt(e.last_page)||1,this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(e.data,!1,1==this.page):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=1===this.page?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&setTimeout(()=>{this.nextPage()})}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.element;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return n.moduleName="page",n})();var L4={local:function(n,t){var e=localStorage.getItem(n+"-"+t);return!!e&&JSON.parse(e)},cookie:function(n,t){var o,a,e=document.cookie,r=n+"-"+t,s=e.indexOf(r+"=");return s>-1&&((o=(e=e.substr(s)).indexOf(";"))>-1&&(e=e.substr(0,o)),a=e.replace(r+"=","")),!!a&&JSON.parse(a)}},O4={local:function(n,t,e){localStorage.setItem(n+"-"+t,JSON.stringify(e))},cookie:function(n,t,e){var r=new Date;r.setDate(r.getDate()+1e4),document.cookie=n+"-"+t+"="+JSON.stringify(e)+"; expires="+r.toUTCString()}};let N4=(()=>{class n extends Ve{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(r){return!1}}initialize(){if(this.table.options.persistence){var s,e=this.table.options.persistenceMode,r=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:n.readers[this.table.options.persistenceReaderFunc]?this.readFunc=n.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):n.readers[this.mode]?this.readFunc=n.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:n.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=n.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):n.writers[this.mode]?this.writeFunc=n.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(r||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(s=this.retreiveData("page"))&&(void 0!==s.paginationSize&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=s.paginationSize),void 0!==s.paginationInitialPage&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=s.paginationInitialPage)),this.config.group&&(s=this.retreiveData("group"))&&(void 0!==s.groupBy&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=s.groupBy),void 0!==s.groupStartOpen&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=s.groupStartOpen),void 0!==s.groupHeader&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=s.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns")),this.subscribe("table-built",this.tableBuilt.bind(this),0)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var r,s;this.config.sort&&(r=this.load("sort"))&&(this.table.initialSort=r),this.config.filter&&(s=this.load("filter"))&&(this.table.initialFilter=s)}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var r;this.config.columns&&(this.defWatcherBlock=!0,r=e.getDefinition(),(!0===this.config.columns?Object.keys(r):this.config.columns).forEach(o=>{var a=Object.getOwnPropertyDescriptor(r,o),l=r[o];a&&Object.defineProperty(r,o,{set:function(u){l=u,this.defWatcherBlock||this.save("columns"),a.set&&a.set(u)},get:function(){return a.get&&a.get(),l}})}),this.defWatcherBlock=!1)}load(e,r){var s=this.retreiveData(e);return r&&(s=s?this.mergeDefinition(r,s):r),s}retreiveData(e){return!!this.readFunc&&this.readFunc(this.id,e)}mergeDefinition(e,r){var s=[];return(r=r||[]).forEach((o,a)=>{var u,l=this._findColumn(e,o);l&&(!0===this.config.columns||null==this.config.columns?(u=Object.keys(l)).push("width"):u=this.config.columns,u.forEach(c=>{"columns"!==c&&void 0!==o[c]&&(l[c]=o[c])}),l.columns&&(l.columns=this.mergeDefinition(l.columns,o.columns)),s.push(l))}),e.forEach((o,a)=>{this._findColumn(r,o)||(s.length>a?s.splice(a,0,o):s.push(o))}),s}_findColumn(e,r){var s=r.columns?"group":r.field?"field":"object";return e.find(function(o){switch(s){case"group":return o.title===r.title&&o.columns.length===r.columns.length;case"field":return o.field===r.field;case"object":return o===r}})}save(e){var r={};switch(e){case"columns":r=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":r=this.table.modules.filter.getFilters();break;case"sort":r=this.validateSorters(this.table.modules.sort.getSort());break;case"group":r=this.getGroupConfig();break;case"page":r=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,e,r)}validateSorters(e){return e.forEach(function(r){r.column=r.field,delete r.field}),e}getGroupConfig(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var r=[],s=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(o=>{var u,a={},l=o.getDefinition();o.isGroup?(a.title=l.title,a.columns=this.parseColumns(o.getColumns())):(a.field=o.getField(),!0===this.config.columns||null==this.config.columns?(u=Object.keys(l)).push("width"):u=this.config.columns,u.forEach(c=>{switch(c){case"width":a.width=o.getWidth();break;case"visible":a.visible=o.visible;break;default:"function"!=typeof l[c]&&-1===s.indexOf(c)&&(a[c]=l[c])}})),r.push(a)}),r}}return n.moduleName="persistence",n.readers=L4,n.writers=O4,n})(),P4=(()=>{class n extends Ve{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,r,s){var d,h,o=window.scrollX,a=window.scrollY,l=document.createElement("div"),u=document.createElement("div"),c=this.table.modules.export.genereateTable(void 0!==s?s:this.table.options.printConfig,void 0!==r?r:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(l.classList.add("tabulator-print-header"),"string"==typeof(d="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?l.innerHTML=d:l.appendChild(d),this.element.appendChild(l)),this.element.appendChild(c),this.table.options.printFooter&&(u.classList.add("tabulator-print-footer"),"string"==typeof(h="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?u.innerHTML=h:u.appendChild(h),this.element.appendChild(u)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(o,a),this.manualBlock=!1}}return n.moduleName="print",n})(),B4=(()=>{class n extends Ve{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var s,r=this;this.currentVersion++,s=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return!r.blocked&&s===r.currentVersion&&o.forEach(a=>{r.table.rowManager.addRowActual(a,!1)}),r.origFuncs.push.apply(e,arguments)}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return!r.blocked&&s===r.currentVersion&&o.forEach(a=>{r.table.rowManager.addRowActual(a,!0)}),r.origFuncs.unshift.apply(e,arguments)}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o;return!r.blocked&&s===r.currentVersion&&r.data.length&&(o=r.table.rowManager.getRowFromDataObject(r.data[0]))&&o.deleteActual(),r.origFuncs.shift.call(e)}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o;return!r.blocked&&s===r.currentVersion&&r.data.length&&(o=r.table.rowManager.getRowFromDataObject(r.data[r.data.length-1]))&&o.deleteActual(),r.origFuncs.pop.call(e)}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var c,o=Array.from(arguments),a=o[0]<0?e.length+o[0]:o[0],l=o[1],u=!!o[2]&&o.slice(2);if(!r.blocked&&s===r.currentVersion){if(u&&((c=!!e[a]&&r.table.rowManager.getRowFromDataObject(e[a]))?u.forEach(h=>{r.table.rowManager.addRowActual(h,!0,c,!0)}):(u=u.slice().reverse()).forEach(h=>{r.table.rowManager.addRowActual(h,!0,!1,!0)})),0!==l){var d=e.slice(a,void 0===o[1]?o[1]:a+l);d.forEach((h,f)=>{var p=r.table.rowManager.getRowFromDataObject(h);p&&p.deleteActual(f!==d.length-1)})}(u||0!==l)&&r.table.rowManager.reRenderInPosition()}return r.origFuncs.splice.apply(e,arguments)}})}unwatchData(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var r=e.getData();for(var s in this.blocked=!0,r)this.watchKey(e,r,s);this.table.options.dataTree&&this.watchTreeChildren(e),this.blocked=!1}watchTreeChildren(e){var r=e.getData()[this.table.options.dataTreeChildField],s={};function o(){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}r&&(s.push=r.push,Object.defineProperty(r,"push",{enumerable:!1,configurable:!0,value:()=>{var a=s.push.apply(r,arguments);return o(),a}}),s.unshift=r.unshift,Object.defineProperty(r,"unshift",{enumerable:!1,configurable:!0,value:()=>{var a=s.unshift.apply(r,arguments);return o(),a}}),s.shift=r.shift,Object.defineProperty(r,"shift",{enumerable:!1,configurable:!0,value:()=>{var a=s.shift.call(r);return o(),a}}),s.pop=r.pop,Object.defineProperty(r,"pop",{enumerable:!1,configurable:!0,value:()=>{var a=s.pop.call(r);return o(),a}}),s.splice=r.splice,Object.defineProperty(r,"splice",{enumerable:!1,configurable:!0,value:()=>{var a=s.splice.apply(r,arguments);return o(),a}}))}watchKey(e,r,s){var o=Object.getOwnPropertyDescriptor(r,s),a=r[s],l=this.currentVersion;Object.defineProperty(r,s,{set:u=>{if(a=u,!this.blocked&&l===this.currentVersion){var c={};c[s]=u,e.updateData(c)}o.set&&o.set(u)},get:()=>(o.get&&o.get(),a)})}unwatchRow(e){var r=e.getData();for(var s in r)Object.defineProperty(r,s,{value:r[s]})}block(){this.blocked=!0}unblock(){this.blocked=!1}}return n.moduleName="reactiveData",n})(),H4=(()=>{class n extends Ve{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null,this.registerColumnOption("resizable",!0)}initialize(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}layoutCellHandles(e){"row"===e.row.type&&this.initializeColumn("cell",e.column,e.element)}layoutColumnHeader(e){this.initializeColumn("header",e,e.element)}initializeColumn(e,r,s){var o=this,l=r.definition.resizable;if("header"===e&&(r.modules.resize={variableHeight:"textarea"==r.definition.formatter||r.definition.variableHeight}),!0===l||l==e){var u=document.createElement("div");u.className="tabulator-col-resize-handle";var c=document.createElement("div");c.className="tabulator-col-resize-handle prev",u.addEventListener("click",function(f){f.stopPropagation()});var d=function(f){var p=r.getLastColumn();p&&o._checkResizability(p)&&(o.startColumn=r,o._mouseDown(f,p,u))};u.addEventListener("mousedown",d),u.addEventListener("touchstart",d,{passive:!0}),u.addEventListener("dblclick",function(f){var p=r.getLastColumn();p&&o._checkResizability(p)&&(f.stopPropagation(),p.reinitializeWidth(!0))}),c.addEventListener("click",function(f){f.stopPropagation()});var h=function(f){var p,m,b;(p=r.getFirstColumn())&&(b=(m=o.table.columnManager.findColumnIndex(p))>0&&o.table.columnManager.getColumnByIndex(m-1))&&o._checkResizability(b)&&(o.startColumn=r,o._mouseDown(f,b,c))};c.addEventListener("mousedown",h),c.addEventListener("touchstart",h,{passive:!0}),c.addEventListener("dblclick",function(f){var p,m,b;(p=r.getFirstColumn())&&(b=(m=o.table.columnManager.findColumnIndex(p))>0&&o.table.columnManager.getColumnByIndex(m-1))&&o._checkResizability(b)&&(f.stopPropagation(),b.reinitializeWidth(!0))}),s.appendChild(u),s.appendChild(c)}}_checkResizability(e){return e.definition.resizable}_mouseDown(e,r,s){var o=this;function a(u){r.setWidth(o.table.rtl?o.startWidth-((void 0===u.screenX?u.touches[0].screenX:u.screenX)-o.startX):o.startWidth+((void 0===u.screenX?u.touches[0].screenX:u.screenX)-o.startX)),o.table.columnManager.renderer.rerenderColumns(!0),!o.table.browserSlow&&r.modules.resize&&r.modules.resize.variableHeight&&r.checkCellHeights()}function l(u){o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&r.modules.resize&&r.modules.resize.variableHeight&&r.checkCellHeights(),document.body.removeEventListener("mouseup",l),document.body.removeEventListener("mousemove",a),s.removeEventListener("touchmove",a),s.removeEventListener("touchend",l),o.table.element.classList.remove("tabulator-block-select"),o.dispatch("column-resized",r),o.table.externalEvents.dispatch("columnResized",r.getComponent())}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX=void 0===e.screenX?e.touches[0].screenX:e.screenX,o.startWidth=r.getWidth(),document.body.addEventListener("mousemove",a),document.body.addEventListener("mouseup",l),s.addEventListener("touchmove",a,{passive:!0}),s.addEventListener("touchend",l)}}return n.moduleName="resizeColumns",n})(),V4=(()=>{class n extends Ve{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var r=this,s=e.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var a=document.createElement("div");a.className="tabulator-row-resize-handle prev",o.addEventListener("click",function(c){c.stopPropagation()});var l=function(c){r.startRow=e,r._mouseDown(c,e,o)};o.addEventListener("mousedown",l),o.addEventListener("touchstart",l,{passive:!0}),a.addEventListener("click",function(c){c.stopPropagation()});var u=function(c){var d=r.table.rowManager.prevDisplayRow(e);d&&(r.startRow=d,r._mouseDown(c,d,a))};a.addEventListener("mousedown",u),a.addEventListener("touchstart",u,{passive:!0}),s.appendChild(o),s.appendChild(a)}_mouseDown(e,r,s){var o=this;function a(u){r.setHeight(o.startHeight+((void 0===u.screenY?u.touches[0].screenY:u.screenY)-o.startY))}function l(u){document.body.removeEventListener("mouseup",a),document.body.removeEventListener("mousemove",a),s.removeEventListener("touchmove",a),s.removeEventListener("touchend",l),o.table.element.classList.remove("tabulator-block-select"),this.dispatchExternal("rowResized",r.getComponent())}o.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),o.startY=void 0===e.screenY?e.touches[0].screenY:e.screenY,o.startHeight=r.getHeight(),document.body.addEventListener("mousemove",a),document.body.addEventListener("mouseup",l),s.addEventListener("touchmove",a,{passive:!0}),s.addEventListener("touchend",l)}}return n.moduleName="resizeRows",n})(),z4=(()=>{class n extends Ve{constructor(e){super(e),this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var r,e=this.table;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===e.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(s=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var o=Math.floor(s[0].contentRect.height),a=Math.floor(s[0].contentRect.width);(this.tableHeight!=o||this.tableWidth!=a)&&(this.tableHeight=o,this.tableWidth=a,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.table.columnManager.renderer.rerenderColumns(!0),e.redraw())}}),this.observer.observe(e.element),r=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(r.getPropertyValue("max-height")||r.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(s=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var o=Math.floor(s[0].contentRect.height),a=Math.floor(s[0].contentRect.width);(this.containerHeight!=o||this.containerWidth!=a)&&(this.containerHeight=o,this.containerWidth=a,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),e.columnManager.renderer.rerenderColumns(!0),e.redraw()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell)&&(e.columnManager.renderer.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}return n.moduleName="resizeTable",n})(),j4=(()=>{class n extends Ve{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(r,s){r.modules.responsive&&r.modules.responsive.order&&r.modules.responsive.visible&&(r.modules.responsive.index=s,e.push(r),!r.visible&&"collapse"===self.mode&&self.hiddenColumns.push(r))}),e=(e=e.reverse()).sort(function(r,s){return s.modules.responsive.order-r.modules.responsive.order||s.modules.responsive.index-r.modules.responsive.index}),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();for(let r of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==r.definition.formatter){this.collapseHandleColumn=r;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var r=e.getDefinition();e.modules.responsive={order:void 0===r.responsive?1:r.responsive,visible:!1!==r.visible}}initializeRow(e){var r;"calc"!==e.type&&((r=document.createElement("div")).classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:r,open:this.collapseStartOpen},this.collapseStartOpen||(r.style.display="none"))}layoutRow(e){var r=e.getElement();e.modules.responsiveLayout&&(r.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,r){!r&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var r=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!r&&this.collapseHandleColumn.show())}showColumn(e){var r;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&((r=this.hiddenColumns.indexOf(e))>-1&&this.hiddenColumns.splice(r,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=this,r=!0;r;){let s="fitColumns"==e.table.modules.layout.getMode()?e.table.columnManager.getFlexBaseWidth():e.table.columnManager.getWidth(),o=(e.table.options.headerVisible?e.table.columnManager.element.clientWidth:e.table.element.clientWidth)-s;if(o<0){let a=e.columns[e.index];a?(e.hideColumn(a),e.index++):r=!1}else{let a=e.columns[e.index-1];a&&o>0&&o>=a.getWidth()?(e.showColumn(a),e.index--):r=!1}e.table.rowManager.activeRowsCount||e.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this;this.table.rowManager.getDisplayRows().forEach(function(s){e.generateCollapsedRowContent(s)})}generateCollapsedRowContent(e){var r,s;if(e.modules.responsiveLayout){for(r=e.modules.responsiveLayout.element;r.firstChild;)r.removeChild(r.firstChild);(s=this.collapseFormatter(this.generateCollapsedRowData(e)))&&r.appendChild(s)}}generateCollapsedRowData(e){var a,r=this,s=e.getData(),o=[];return this.hiddenColumns.forEach(function(l){var u=l.getFieldValue(s);l.definition.title&&l.field&&(l.modules.format&&r.table.options.responsiveLayoutCollapseUseFormatters?(a={value:!1,data:{},getValue:function(){return u},getData:function(){return s},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return l.getComponent()}},o.push({field:l.field,title:l.definition.title,value:l.modules.format.formatter.call(r.table.modules.format,a,l.modules.format.params,function(d){d()})})):o.push({field:l.field,title:l.definition.title,value:u}))}),o}formatCollapsedData(e){var r=document.createElement("table");return e.forEach(function(s){var u,o=document.createElement("tr"),a=document.createElement("td"),l=document.createElement("td"),c=document.createElement("strong");a.appendChild(c),this.langBind("columns|"+s.field,function(d){c.innerText=d||s.title}),s.value instanceof Node?((u=document.createElement("div")).appendChild(s.value),l.appendChild(u)):l.innerHTML=s.value,o.appendChild(a),o.appendChild(l),r.appendChild(o)},this),Object.keys(e).length?r:""}}return n.moduleName="responsiveLayout",n})();function km(n,t,e,r,s,o,a){var l=window.DateTime||luxon.DateTime,u=a.format||"dd/MM/yyyy HH:mm:ss",c=a.alignEmptyValues,d=0;if(void 0!==l){if(n=l.fromFormat(String(n),u),t=l.fromFormat(String(t),u),n.isValid){if(t.isValid)return n-t;d=1}else d=t.isValid?-1:0;return("top"===c&&"desc"===o||"bottom"===c&&"asc"===o)&&(d*=-1),d}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var X4={number:function(n,t,e,r,s,o,a){var l=a.alignEmptyValues,u=a.decimalSeparator,c=a.thousandSeparator,d=0;if(n=String(n),t=String(t),c&&(n=n.split(c).join(""),t=t.split(c).join("")),u&&(n=n.split(u).join("."),t=t.split(u).join(".")),n=parseFloat(n),t=parseFloat(t),isNaN(n))d=isNaN(t)?0:-1;else{if(!isNaN(t))return n-t;d=1}return("top"===l&&"desc"===o||"bottom"===l&&"asc"===o)&&(d*=-1),d},string:function(n,t,e,r,s,o,a){var c,l=a.alignEmptyValues,u=0;if(n){if(t){switch(typeof a.locale){case"boolean":a.locale&&(c=this.langLocale());break;case"string":c=a.locale}return String(n).toLowerCase().localeCompare(String(t).toLowerCase(),c)}u=1}else u=t?-1:0;return("top"===l&&"desc"===o||"bottom"===l&&"asc"===o)&&(u*=-1),u},date:function(n,t,e,r,s,o,a){return a.format||(a.format="dd/MM/yyyy"),km.call(this,n,t,e,r,s,o,a)},time:function(n,t,e,r,s,o,a){return a.format||(a.format="HH:mm"),km.call(this,n,t,e,r,s,o,a)},datetime:km,boolean:function(n,t,e,r,s,o,a){return(!0===n||"true"===n||"True"===n||1===n?1:0)-(!0===t||"true"===t||"True"===t||1===t?1:0)},array:function(n,t,e,r,s,o,a){var c=a.type||"length",d=a.alignEmptyValues,h=0;function f(p){switch(c){case"length":return p.length;case"sum":return p.reduce(function(m,b){return m+b});case"max":return Math.max.apply(null,p);case"min":return Math.min.apply(null,p);case"avg":return p.reduce(function(m,b){return m+b})/p.length}}if(Array.isArray(n)){if(Array.isArray(t))return(n?f(n):0)-(t?f(t):0);d=1}else d=Array.isArray(t)?-1:0;return("top"===d&&"desc"===o||"bottom"===d&&"asc"===o)&&(h*=-1),h},exists:function(n,t,e,r,s,o,a){return(void 0===n?0:1)-(void 0===t?0:1)},alphanum:function(n,t,e,r,s,o,a){var l,u,c,d,f,h=0,p=/(\d+)|(\D+)/g,m=/\d/,b=a.alignEmptyValues,g=0;if(n||0===n){if(t||0===t){if(isFinite(n)&&isFinite(t))return n-t;if((l=String(n).toLowerCase())===(u=String(t).toLowerCase()))return 0;if(!m.test(l)||!m.test(u))return l>u?1:-1;for(l=l.match(p),u=u.match(p),f=l.length>u.length?u.length:l.length;h<f;)if((c=l[h])!==(d=u[h++]))return isFinite(c)&&isFinite(d)?("0"===c.charAt(0)&&(c="."+c),"0"===d.charAt(0)&&(d="."+d),c-d):c>d?1:-1;return l.length>u.length}g=1}else g=t||0===t?-1:0;return("top"===b&&"desc"===o||"bottom"===b&&"asc"===o)&&(g*=-1),g}};var e6={integer:function(n,t,e){return""===t||null==t||"number"==typeof(t=Number(t))&&isFinite(t)&&Math.floor(t)===t},float:function(n,t,e){return""===t||null==t||"number"==typeof(t=Number(t))&&isFinite(t)&&t%1!=0},numeric:function(n,t,e){return""===t||null==t||!isNaN(t)},string:function(n,t,e){return""===t||null==t||isNaN(t)},max:function(n,t,e){return""===t||null==t||parseFloat(t)<=e},min:function(n,t,e){return""===t||null==t||parseFloat(t)>=e},starts:function(n,t,e){return""===t||null==t||String(t).toLowerCase().startsWith(String(e).toLowerCase())},ends:function(n,t,e){return""===t||null==t||String(t).toLowerCase().endsWith(String(e).toLowerCase())},minLength:function(n,t,e){return""===t||null==t||String(t).length>=e},maxLength:function(n,t,e){return""===t||null==t||String(t).length<=e},in:function(n,t,e){return""===t||null==t||("string"==typeof e&&(e=e.split("|")),""===t||e.indexOf(t)>-1)},regex:function(n,t,e){return""===t||null==t||new RegExp(e).test(t)},unique:function(n,t,e){if(""===t||null==t)return!0;var r=!0,s=n.getData(),o=n.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(a){var l=a.getData();l!==s&&t==o.getFieldValue(l)&&(r=!1)}),r},required:function(n,t,e){return""!==t&&null!=t}},t6=Object.freeze({__proto__:null,AccessorModule:fU,AjaxModule:yU,ClipboardModule:CU,ColumnCalcsModule:TU,DataTreeModule:MU,DownloadModule:FU,EditModule:$U,ExportModule:WU,FilterModule:qU,FormatModule:g4,FrozenColumnsModule:b4,FrozenRowsModule:v4,GroupRowsModule:_4,HistoryModule:E4,HtmlTableImportModule:D4,InteractionModule:T4,KeybindingsModule:S4,MenuModule:R4,MoveColumnsModule:A4,MoveRowsModule:Rc,MutatorModule:I4,PageModule:F4,PersistenceModule:N4,PrintModule:P4,ReactiveDataModule:B4,ResizeColumnsModule:H4,ResizeRowsModule:V4,ResizeTableModule:z4,ResponsiveLayoutModule:j4,SelectRowModule:(()=>{class n extends Ve{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(r,s){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refeshing",this.deselectRows.bind(this)))}rowRetrieve(e,r){return"selected"===e?this.selectedRows:r}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==e&&this._rowSelectionChanged()}initializeRow(e){var r=this,s=e.getElement(),o=function(){setTimeout(function(){r.selecting=!1},50),document.body.removeEventListener("mouseup",o)};e.modules.select={selected:!1},r.table.options.selectableCheck.call(this.table,e.getComponent())?(s.classList.add("tabulator-selectable"),s.classList.remove("tabulator-unselectable"),r.table.options.selectable&&"highlight"!=r.table.options.selectable&&("click"===r.table.options.selectableRangeMode?s.addEventListener("click",function(a){if(a.shiftKey){r.table._clearSelection(),r.lastClickedRow=r.lastClickedRow||e;var l=r.table.rowManager.getDisplayRowIndex(r.lastClickedRow),u=r.table.rowManager.getDisplayRowIndex(e),c=l<=u?l:u,d=l>=u?l:u,f=r.table.rowManager.getDisplayRows().slice(0).splice(c,d-c+1);a.ctrlKey||a.metaKey?(f.forEach(function(p){p!==r.lastClickedRow&&(!0===r.table.options.selectable||r.isRowSelected(e)||r.selectedRows.length<r.table.options.selectable)&&r.toggleRow(p)}),r.lastClickedRow=e):(r.deselectRows(void 0,!0),!0!==r.table.options.selectable&&f.length>r.table.options.selectable&&(f=f.slice(0,r.table.options.selectable)),r.selectRows(f)),r.table._clearSelection()}else a.ctrlKey||a.metaKey?(r.toggleRow(e),r.lastClickedRow=e):(r.deselectRows(void 0,!0),r.selectRows(e),r.lastClickedRow=e)}):(s.addEventListener("click",function(a){(!r.table.modExists("edit")||!r.table.modules.edit.getCurrentCell())&&r.table._clearSelection(),r.selecting||r.toggleRow(e)}),s.addEventListener("mousedown",function(a){if(a.shiftKey)return r.table._clearSelection(),r.selecting=!0,r.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),r.toggleRow(e),!1}),s.addEventListener("mouseenter",function(a){r.selecting&&(r.table._clearSelection(),r.toggleRow(e),r.selectPrev[1]==e&&r.toggleRow(r.selectPrev[0]))}),s.addEventListener("mouseout",function(a){r.selecting&&(r.table._clearSelection(),r.selectPrev.unshift(e))})))):(s.classList.add("tabulator-unselectable"),s.classList.remove("tabulator-selectable"))}toggleRow(e){this.table.options.selectableCheck.call(this.table,e.getComponent())&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var r;switch(typeof e){case"undefined":this.table.rowManager.rows.forEach(s=>{this._selectRow(s,!0,!0)}),this._rowSelectionChanged();break;case"string":(r=this.table.rowManager.findRow(e))?this._selectRow(r,!0,!0):this.table.rowManager.getRows(e).forEach(s=>{this._selectRow(s,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(e)?(e.forEach(s=>{this._selectRow(s,!0,!0)}),this._rowSelectionChanged()):this._selectRow(e,!1,!0)}}_selectRow(e,r,s){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!s&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var o=this.table.rowManager.findRow(e);o?-1==this.selectedRows.indexOf(o)&&(o.getElement().classList.add("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!0,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!0),this.selectedRows.push(o),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!0),this.dispatchExternal("rowSelected",o.getComponent()),this._rowSelectionChanged(r)):r||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return-1!==this.selectedRows.indexOf(e)}deselectRows(e,r){var o,s=this;if(void 0===e){o=s.selectedRows.length;for(let a=0;a<o;a++)s._deselectRow(s.selectedRows[0],!0);s._rowSelectionChanged(r)}else Array.isArray(e)?(e.forEach(function(a){s._deselectRow(a,!0)}),s._rowSelectionChanged(r)):s._deselectRow(e,r)}_deselectRow(e,r){var a,s=this,o=s.table.rowManager.findRow(e);o?(a=s.selectedRows.findIndex(function(l){return l==o}))>-1&&(o.getElement().classList.remove("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!1,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!1),s.selectedRows.splice(a,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!1),this.dispatchExternal("rowDeselected",o.getComponent()),s._rowSelectionChanged(r)):r||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(r){e.push(r.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(r){e.push(r.getComponent())}),e}_rowSelectionChanged(e){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(e,r){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=r}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,r){var s=this.table.modules.dataTree.getChildren(e,!0);if(r)for(let o of s)this._selectRow(o,!0);else for(let o of s)this._deselectRow(o,!0)}}return n.moduleName="selectRow",n})(),SortModule:(()=>{class n extends Ve{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,r,s,o){var a=this.getSort();return a.forEach(l=>{delete l.column}),o.sort=a,o}userSetSort(e,r){this.setSort(e,r),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var s,o,r=!1;switch(typeof e.definition.sorter){case"string":n.sorters[e.definition.sorter]?r=n.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":r=e.definition.sorter}e.modules.sort={sorter:r,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort&&((s=e.getElement()).classList.add("tabulator-sortable"),(o=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?o.appendChild(this.table.options.headerSortElement):o.innerHTML=this.table.options.headerSortElement,e.titleHolderElement.appendChild(o),e.modules.sort.element=o,s.addEventListener("click",a=>{var l="",u=[],c=!1;if(e.modules.sort){if(e.modules.sort.tristate)l="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":l="desc";break;case"desc":l="asc";break;default:l=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(a.shiftKey||a.ctrlKey)?((c=(u=this.getSort()).findIndex(d=>d.field===e.getField()))>-1?(u[c].dir=l,c!=u.length-1&&(c=u.splice(c,1)[0],"none"!=l&&u.push(c))):"none"!=l&&u.push({column:e,dir:l}),this.setSort(u)):"none"==l?this.clear():this.setSort(e,l),this.refreshSort()}}))}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var r=[];return this.sortList.forEach(function(s){s.column&&r.push({column:s.column.getComponent(),field:s.column.getField(),dir:s.dir})}),r}setSort(e,r){var s=this,o=[];Array.isArray(e)||(e=[{column:e,dir:r}]),e.forEach(function(a){var l;(l=s.table.columnManager.findColumn(a.column))?(a.column=l,o.push(a),s.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",a.column)}),s.sortList=o,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var a,r=this.table.rowManager.activeRows[0],s="string";if(r&&(r=r.getData(),e.getField()))switch(a=e.getFieldValue(r),typeof a){case"undefined":s="string";break;case"boolean":s="boolean";break;default:isNaN(a)||""===a?a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(s="alphanum"):s="number"}return n.sorters[s]}sort(e){var r=this,s=this.table.options.sortOrderReverse?r.sortList.slice().reverse():r.sortList,o=[],a=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",r.getSort()),r.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(s.forEach(function(l,u){var c=l.column.modules.sort;l.column&&c&&(c.sorter||(c.sorter=r.findSorter(l.column)),l.params="function"==typeof c.params?c.params(l.column.getComponent(),l.dir):c.params,o.push(l)),r.setColumnHeader(l.column,l.dir)}),o.length&&r._sortItems(e,o)):s.forEach(function(l,u){r.setColumnHeader(l.column,l.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(l=>{a.push(l.getComponent())}),this.dispatchExternal("dataSorted",r.getSort(),a)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))})}setColumnHeader(e,r){e.modules.sort.dir=r,e.getElement().setAttribute("aria-sort",r)}_sortItems(e,r){var s=r.length-1;e.sort((o,a)=>{for(var l,u=s;u>=0;u--){let c=r[u];if(0!==(l=this._sortRow(o,a,c.column,c.dir,c.params)))break}return l})}_sortRow(e,r,s,o,a){var l,u,c="asc"==o?e:r,d="asc"==o?r:e;return e=void 0!==(e=s.getFieldValue(c.getData()))?e:"",r=void 0!==(r=s.getFieldValue(d.getData()))?r:"",l=c.getComponent(),u=d.getComponent(),s.modules.sort.sorter.call(this,e,r,l,u,s.getComponent(),o,a)}}return n.moduleName="sort",n.sorters=X4,n})(),ValidateModule:(()=>{class n extends Ve{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}cellIsValid(e){return!e.modules.validate||!e.modules.validate.invalid}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var r=[];return e.cells.forEach(function(s){this.cellValidate(s)||r.push(s.getComponent())}),!r.length||r}rowValidate(e){var r=[];return e.cells.forEach(function(s){this.cellValidate(s)||r.push(s.getComponent())}),!r.length||r}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(r=>{this.clearValidation(r._getSelf())})}userValidate(e){var r=[];return this.table.rowManager.rows.forEach(function(s){var o=s.validate();!0!==o&&(r=r.concat(o))}),!r.length||r}initializeColumnCheck(e){void 0!==e.definition.validator&&this.initializeColumn(e)}initializeColumn(e){var o,r=this,s=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(function(a){(o=r._extractValidator(a))&&s.push(o)}):(o=this._extractValidator(e.definition.validator))&&s.push(o),e.modules.validate=!!s.length&&s)}_extractValidator(e){var r,s,o;switch(typeof e){case"string":return(o=e.indexOf(":"))>-1?(r=e.substring(0,o),s=e.substring(o+1)):r=e,this._buildValidator(r,s);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,r){var s="function"==typeof e?e:n.validators[e];return s?{type:"function"==typeof e?"function":e,func:s,params:r}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,r,s){var o=this,a=[],l=this.invalidCells.indexOf(r);return e&&e.forEach(function(u){u.func.call(o,r.getComponent(),s,u.params)||a.push({type:u.type,parameters:u.params})}),a=!a.length||a,r.modules.validate||(r.modules.validate={}),!0===a?(r.modules.validate.invalid=!1,r.getElement().classList.remove("tabulator-validation-fail"),l>-1&&this.invalidCells.splice(l,1)):(r.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&r.getElement().classList.add("tabulator-validation-fail"),-1==l&&this.invalidCells.push(r)),a}getInvalidCells(){var e=[];return this.invalidCells.forEach(r=>{e.push(r.getComponent())}),e}clearValidation(e){var r;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,(r=this.invalidCells.indexOf(e))>-1&&this.invalidCells.splice(r,1))}}return n.moduleName="validate",n.validators=e6,n})()}),n6={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnMaxWidth:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataSendParams:{},dataReceiveParams:{}};class GT{constructor(t,e,r={}){this.table=t,this.msgType=e,this.registeredDefaults=Object.assign({},r)}register(t,e){this.registeredDefaults[t]=e}generate(t,e={}){var r=Object.assign({},this.registeredDefaults);if(Object.assign(r,t),!1!==e.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var s in e)r.hasOwnProperty(s)||console.warn("Invalid "+this.msgType+" option:",s);for(var s in r)s in e?r[s]=e[s]:Array.isArray(r[s])?r[s]=Object.assign([],r[s]):"object"==typeof r[s]&&null!==r[s]?r[s]=Object.assign({},r[s]):void 0===r[s]&&delete r[s];return r}}class Ac extends li{constructor(t){super(t),this.elementVertical=t.rowManager.element,this.elementHorizontal=t.columnManager.element,this.tableElement=t.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(t){}renderRows(){}renderColumns(){}rerenderRows(t){t&&t()}rerenderColumns(t,e){}renderRowCells(t){}rerenderRowCells(t,e){}scrollColumns(t,e){}scrollRows(t,e){}resize(){}scrollToRow(t){}scrollToRowNearestTop(t){}visibleRows(t){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(t,e){var r=t.getElement();e%2?(r.classList.add("tabulator-row-even"),r.classList.remove("tabulator-row-odd")):(r.classList.add("tabulator-row-odd"),r.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(t){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(t,e,r){var s=this.rows().indexOf(t),o=t.getElement(),a=0;return new Promise((l,u)=>{if(s>-1){if(void 0===r&&(r=this.table.options.scrollToRowIfVisible),!r&&lt.elVisible(o)&&(a=lt.elOffset(o).top-lt.elOffset(this.elementVertical).top)>0&&a<this.elementVertical.clientHeight-o.offsetHeight)return l(),!1;switch(void 0===e&&(e=this.table.options.scrollToRowPosition),"nearest"===e&&(e=this.scrollToRowNearestTop(t)?"top":"bottom"),this.scrollToRow(t),e){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(o.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-o.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-o.offsetTop)+o.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+o.offsetHeight}l()}else console.warn("Scroll Error - Row not visible"),u("Scroll Error - Row not visible")})}}class i6 extends Ac{constructor(t){super(t)}renderRowCells(t){t.cells.forEach(e=>{t.element.appendChild(e.getElement()),e.cellRendered()})}reinitializeColumnWidths(t){t.forEach(function(e){e.reinitializeWidth()})}}class r6 extends Ac{constructor(t){super(t),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[]}initialize(){this.compatabilityCheck()}compatabilityCheck(){var t=this.options("columns"),r=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),r=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),r=!1),this.options("rtl")&&(console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction"),r=!1),t&&t.find(s=>s.frozen)&&(console.warn("Horizontal Virtual DOM is not compatible with frozen columns"),r=!1),r}renderColumns(t,e){this.dataChange()}scrollColumns(t,e){this.scrollLeft!=t&&(this.scrollLeft=t,this.scroll(t-(this.vDomScrollPosLeft+this.window)))}rerenderColumns(t,e){var r={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!t||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var s=0;this.table.columnManager.columnsByIndex.forEach(o=>{var a={};if(o.visible){var l=o.getWidth();a.leftPos=s,a.rightPos=s+l,a.width=l,"fitData"===this.options("layout")&&(a.fitDataCheck=!0),s+l>this.vDomScrollPosLeft&&s<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=s),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=l),this.columns.push(o),o.modules.vdomHoz=a,s+=l}}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||(!t||this.reinitChanged(r))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}renderRowCells(t){this.initialized?this.initializeRow(t):t.cells.forEach(e=>{t.element.appendChild(e.getElement()),e.cellRendered()})}rerenderRowCells(t,e){this.reinitializeRow(t,e)}reinitializeColumnWidths(t){for(let e=this.leftCol;e<=this.rightCol;e++)this.columns[e].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var o,s,t=!1,e=0,r=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach(a=>{!a.definition.width&&a.visible&&(t=!0)}),t&&t&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,s=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows()[0])[0])){for(o=s.getElement(),s.generateCells(),this.tableElement.appendChild(o),r=0;r<s.cells.length;r++){let u=s.cells[r];if(o.appendChild(u.getElement()),u.column.reinitializeWidth(),(e+=u.column.getWidth())>this.vDomScrollPosRight)break}for(o.parentNode.removeChild(o),this.fitDataColAvg=Math.floor(e/(r+1));r<this.table.columnManager.columnsByIndex.length;r++)this.table.columnManager.columnsByIndex[r].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(t){var e=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach((r,s)=>{r!==this.columns[s]&&(e=!1)}),!e)}reinitializeRows(){this.table.rowManager.getVisibleRows().forEach(e=>{this.reinitializeRow(e,!0)})}scroll(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,t>.8*this.elementVertical.clientWidth?this.rerenderColumns():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(t,e,r){for(let s=t;s<e;s++){let o=this.columns[s];o.modules.vdomHoz.leftPos+=r,o.modules.vdomHoz.rightPos+=r}}addColRight(){var t=this.columns[this.rightCol+1];t&&t.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(r=>{if("group"!==r.type){var s=r.getCell(t);r.getElement().appendChild(s.getElement()),s.cellRendered()}}),this.fitDataColActualWidthCheck(t),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=t.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}addColLeft(){var t=this.columns[this.leftCol-1];t&&t.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(s=>{if("group"!==s.type){var o=s.getCell(t);s.getElement().prepend(o.getElement()),o.cellRendered()}}),this.fitDataColActualWidthCheck(t),this.leftCol?this.vDomPadLeft-=t.getWidth():this.vDomPadLeft=0,this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())}removeColRight(t){var e;(t=this.columns[this.rightCol])&&t.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(e=this.table.rowManager.getVisibleRows(),t.modules.vdomHoz.visible=!1,e.forEach(r=>{if("group"!==r.type){var s=r.getCell(t);r.getElement().removeChild(s.getElement())}}),this.vDomPadRight+=t.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}removeColLeft(){var t=this.columns[this.leftCol];t&&t.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(r=>{var s,o;"group"!==r.type&&(s=r.getCell(t))&&(o=s.getElement()).parentNode&&r.getElement().removeChild(o)}),this.vDomPadLeft+=t.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}fitDataColActualWidthCheck(t){var e,r;t.modules.vdomHoz.fitDataCheck&&(t.reinitializeWidth(),(r=(e=t.getWidth())-t.modules.vdomHoz.width)&&(t.modules.vdomHoz.rightPos+=r,t.modules.vdomHoz.width=e,this.colPositionAdjust(this.rightCol+2,this.columns.length,r)),t.modules.vdomHoz.fitDataCheck=!1)}initializeRow(t){if("group"!==t.type){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(let e=this.leftCol;e<=this.rightCol;e++){let r=this.columns[e];if(r&&r.visible){let s=t.getCell(r);t.getElement().appendChild(s.getElement()),s.cellRendered()}}}}reinitializeRow(t,e){if("group"!==t.type&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){for(var r=t.getElement();r.firstChild;)r.removeChild(r.firstChild);this.initializeRow(t)}}}class s6 extends li{constructor(t){super(t),this.blockHozScrollEvent=!1,this.headersElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new GT(this.table,"column definition",$T),this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}initializeRenderer(){var t;(t="string"==typeof this.table.options.renderHorizontal?{virtual:r6,basic:i6}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}createHeadersElement(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t.setAttribute("role","row"),t}createHeaderElement(){var t=document.createElement("div");return t.classList.add("tabulator-header"),t.setAttribute("role","rowgroup"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t}getElement(){return this.element}getHeadersElement(){return this.headersElement}scrollHorizontal(t){var r=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=t,this.element.style.marginLeft=t>r?-(t-r)+"px":0,this.scrollLeft=t,this.renderer.scrollColumns(t)}generateColumnsFromRowData(t){var s,o,e=[],r=this.table.options.autoColumnsDefinitions;if(t&&t.length){for(var a in s=t[0]){let l={field:a,title:a},u=s[a];switch(typeof u){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(u)?"array":"string";break;default:o=isNaN(u)||""===u?u.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}l.sorter=o,e.push(l)}if(r)switch(typeof r){case"function":this.table.options.columns=r.call(this.table,e);break;case"object":Array.isArray(r)?e.forEach(l=>{var u=r.find(c=>c.field===l.field);u&&Object.assign(l,u)}):e.forEach(l=>{r[l.field]&&Object.assign(l,r[l.field])}),this.table.options.columns=e}else this.table.options.columns=e;this.setColumns(this.table.options.columns)}}setColumns(t,e){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),t.forEach((r,s)=>{this._addColumn(r)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(t,e,r){var s=new xc(t,this),o=s.getElement(),a=r&&this.findColumnIndex(r);if(r&&a>-1){var l=r.getTopColumn(),u=this.columns.indexOf(l),c=l.getElement();e?(this.columns.splice(u,0,s),c.parentNode.insertBefore(o,c)):(this.columns.splice(u+1,0,s),c.parentNode.insertBefore(o,c.nextSibling))}else e?(this.columns.unshift(s),this.headersElement.insertBefore(s.getElement(),this.headersElement.firstChild)):(this.columns.push(s),this.headersElement.appendChild(s.getElement()));return s.columnRendered(),s}registerColumnField(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)}registerColumnPosition(t){this.columnsByIndex.push(t)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(t){t.reRegisterPosition()})}verticalAlignHeaders(){var t=0;this.columns.forEach(e=>{var r;e.clearVerticalAlign(),(r=e.getHeight())>t&&(t=r)}),this.columns.forEach(e=>{e.verticalAlign(this.table.options.columnHeaderVertAlign,t)}),this.table.rowManager.adjustTableSize()}findColumn(t){return"object"!=typeof t?this.columnsByField[t]||!1:t instanceof xc?t:t instanceof UT?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&this.columns.find(r=>r.element===t)||!1}getColumnByField(t){return this.columnsByField[t]}getColumnsByFieldRoot(t){var e=[];return Object.keys(this.columnsByField).forEach(r=>{r.split(".")[0]===t&&e.push(this.columnsByField[r])}),e}getColumnByIndex(t){return this.columnsByIndex[t]}getFirstVisibleColumn(t){return(t=this.columnsByIndex.findIndex(e=>e.visible))>-1&&this.columnsByIndex[t]}getColumns(){return this.columns}findColumnIndex(t){return this.columnsByIndex.findIndex(e=>t===e)}getRealColumns(){return this.columnsByIndex}traverse(t){this.columnsByIndex.forEach((e,r)=>{t(e,r)})}getDefinitions(t){var e=[];return this.columnsByIndex.forEach(r=>{(!t||t&&r.visible)&&e.push(r.getDefinition())}),e}getDefinitionTree(){var t=[];return this.columns.forEach(e=>{t.push(e.getDefinition(!0))}),t}getComponents(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach(s=>{e.push(s.getComponent())}),e}getWidth(){var t=0;return this.columnsByIndex.forEach(e=>{e.visible&&(t+=e.getWidth())}),t}moveColumn(t,e,r){this.moveColumnActual(t,e,r),e.element.parentNode.insertBefore(t.element,e.element),r&&e.element.parentNode.insertBefore(e.element,t.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(t,e,r){this._moveColumnInArray(t.parent.isGroup?t.parent.columns:this.columns,t,e,r),this._moveColumnInArray(this.columnsByIndex,t,e,r,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",t,e,r),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",t.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(t,e,r,s,o){var l,a=t.indexOf(e);a>-1&&(t.splice(a,1),(l=t.indexOf(r))>-1?s&&(l+=1):l=a,t.splice(l,0,e),o&&(this.chain("column-moving-rows",[e,r,s],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(c){if(c.cells.length){var d=c.cells.splice(a,1)[0];c.cells.splice(l,0,d)}}))}scrollToColumn(t,e,r){var s=0,o=0,a=0,l=t.getElement();return new Promise((u,c)=>{if(void 0===e&&(e=this.table.options.scrollToColumnPosition),void 0===r&&(r=this.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":a=-this.element.clientWidth/2;break;case"right":a=l.clientWidth-this.headersElement.clientWidth}if(!r&&(o=l.offsetLeft)>0&&o+l.offsetWidth<this.element.clientWidth)return!1;s=l.offsetLeft+a,s=Math.max(Math.min(s,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(s),this.scrollHorizontal(s),u()}else console.warn("Scroll Error - Column not visible"),c("Scroll Error - Column not visible")})}generateCells(t){var e=[];return this.columnsByIndex.forEach(r=>{e.push(r.generateCell(t))}),e}getFlexBaseWidth(){var t=this.table.element.clientWidth,e=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(r){var s,o,a;r.visible&&(s=r.definition.width||0,o=parseInt(r.minWidth),a="string"==typeof s?s.indexOf("%")>-1?t/100*parseInt(s):parseInt(s):s,e+=a>o?a:o)}),e}addColumn(t,e,r){return new Promise((s,o)=>{var a=this._addColumn(t,e,r);this._reIndexColumns(),this.dispatch("column-add",t,e,r),"fitColumns"!=this.layoutMode()&&a.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.renderer.rerenderColumns(),s(a)})}deregisterColumn(t){var r,e=t.getField();e&&delete this.columnsByField[e],(r=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(r,1),(r=this.columns.indexOf(t))>-1&&this.columns.splice(r,1),this.verticalAlignHeaders(),this.redraw()}redraw(t){lt.elVisible(this.element)&&this.verticalAlignHeaders(),t&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",t)||this.layoutRefresh(),this.dispatch("table-redraw",t),this.table.footerManager.redraw()}}class o6 extends Ac{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.scrollTop=0,t.scrollLeft=0,t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility=""}renderRows(){var t=this.tableElement,e=!0;this.rows().forEach((r,s)=>{this.styleRow(r,s),t.appendChild(r.getElement()),r.initialize(!0),"group"!==r.type&&(e=!1)}),t.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}rerenderRows(t){this.render(),t&&t()}scrollToRowNearestTop(t){var e=lt.elOffset(t.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-e)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-e))}scrollToRow(t){var e=t.getElement();this.elementVertical.scrollTop=lt.elOffset(e).top-lt.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(t){return this.rows()}}class a6 extends Ac{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(t){for(var e=this.elementVertical.scrollTop,r=!1,s=!1,o=this.table.rowManager.scrollLeft,a=this.rows(),l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l]){var u=e-a[l].getElement().offsetTop;if(!(!1===s||Math.abs(u)<s))break;s=u,r=l}a.forEach(c=>{c.deinitializeHeight()}),t&&t(),this._virtualRenderFill(!1===r?this.rows.length-1:r,!0,s||0),this.scrollColumns(o)}scrollColumns(t){this.table.rowManager.scrollHorizontal(t)}scrollRows(t,e){var r=t-this.vDomScrollPosTop,s=t-this.vDomScrollPosBottom,o=2*this.vDomWindowBuffer,a=this.rows();if(this.scrollTop=t,-r>o||s>o){var l=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*a.length)),this.scrollColumns(l)}else e?(r<0&&this._addTopRow(a,-r),s<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(a,-s):this.vDomScrollPosBottom=this.scrollTop)):(s>=0&&this._addBottomRow(a,s),r>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(a,r):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(t){var e=this.rows().indexOf(t);return!(Math.abs(this.vDomTop-e)>Math.abs(this.vDomBottom-e))}scrollToRow(t){var e=this.rows().indexOf(t);e>-1&&this._virtualRenderFill(e,!0)}visibleRows(t){var e=this.elementVertical.scrollTop,r=this.elementVertical.clientHeight+e,s=!1,o=0,a=0,l=this.rows();if(t)o=this.vDomTop,a=this.vDomBottom;else for(var u=this.vDomTop;u<=this.vDomBottom;u++)if(l[u])if(s){if(!(r-l[u].getElement().offsetTop>=0))break;a=u}else if(e-l[u].getElement().offsetTop>=0)o=u;else{if(s=!0,!(r-l[u].getElement().offsetTop>=0))break;a=u}return l.slice(o,a+1)}_virtualRenderFill(t,e,r){var s=this.tableElement,o=this.elementVertical,a=0,l=0,u=0,c=0,d=0,h=this.rows(),f=h.length,p=this.elementVertical.clientHeight;if(r=r||0,t=t||0){for(;s.firstChild;)s.removeChild(s.firstChild);(u=(f-t+1)*this.vDomRowHeight)<p&&(t-=Math.ceil((p-u)/this.vDomRowHeight))<0&&(t=0),t-=a=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),t)}else this.clear();if(f&&lt.elVisible(this.elementVertical)){for(this.vDomTop=t,this.vDomBottom=t-1;(l<=p+this.vDomWindowBuffer||d<this.vDomWindowMinTotalRows)&&this.vDomBottom<f-1;){var g,m=this.vDomBottom+1,b=h[m];this.styleRow(b,m),s.appendChild(b.getElement()),b.initialize(),b.heightInitialized||b.normalizeHeight(!0),g=b.getHeight(),d<a?c+=g:l+=g,g>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*g),this.vDomBottom++,d++}t?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+r:this.scrollTop-c,this.vDomBottomPad=this.vDomBottom==f-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-l-c,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((l+c)/d),this.vDomBottomPad=this.vDomRowHeight*(f-this.vDomBottom-1),this.vDomScrollHeight=c+l+this.vDomBottomPad-p),s.style.paddingTop=this.vDomTopPad+"px",s.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+c+r-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-p:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-p),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&e&&(this.scrollTop+=this.elementVertical.offsetHeight-p),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(t,e){for(var r=this.tableElement,s=[],o=0,a=this.vDomTop-1,l=0;this.vDomTop;){let c,d,u=t[a];if(!(u&&l<this.vDomMaxRenderChain))break;if(c=u.getHeight()||this.vDomRowHeight,d=u.initialized,!(e>=c))break;this.styleRow(u,a),r.insertBefore(u.getElement(),r.firstChild),(!u.initialized||!u.heightInitialized)&&s.push(u),u.initialize(),d||(c=u.getElement().offsetHeight,c>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*c)),e-=c,o+=c,this.vDomTop--,a--,l++}for(let u of s)u.clearCellHeight();this._quickNormalizeRowHeight(s),o&&(this.vDomTopPad-=o,this.vDomTopPad<0&&(this.vDomTopPad=a*this.vDomRowHeight),a<1&&(this.vDomTopPad=0),r.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=o)}_removeTopRow(t,e){for(var r=[],s=0,o=0;;){let l,a=t[this.vDomTop];if(!(a&&o<this.vDomMaxRenderChain))break;if(l=a.getHeight()||this.vDomRowHeight,!(e>=l))break;this.vDomTop++,e-=l,s+=l,r.push(a),o++}for(let a of r){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}s&&(this.vDomTopPad+=s,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?s:s+this.vDomWindowBuffer)}_addBottomRow(t,e){for(var r=this.tableElement,s=[],o=0,a=this.vDomBottom+1,l=0;;){let c,d,u=t[a];if(!(u&&l<this.vDomMaxRenderChain))break;if(c=u.getHeight()||this.vDomRowHeight,d=u.initialized,!(e>=c))break;this.styleRow(u,a),r.appendChild(u.getElement()),(!u.initialized||!u.heightInitialized)&&s.push(u),u.initialize(),d||(c=u.getElement().offsetHeight,c>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*c)),e-=c,o+=c,this.vDomBottom++,a++,l++}for(let u of s)u.clearCellHeight();this._quickNormalizeRowHeight(s),o&&(this.vDomBottomPad-=o,(this.vDomBottomPad<0||a==t.length-1)&&(this.vDomBottomPad=0),r.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=o)}_removeBottomRow(t,e){for(var r=[],s=0,o=0;;){let l,a=t[this.vDomBottom];if(!(a&&o<this.vDomMaxRenderChain))break;if(l=a.getHeight()||this.vDomRowHeight,!(e>=l))break;this.vDomBottom--,e-=l,s+=l,r.push(a),o++}for(let a of r){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}s&&(this.vDomBottomPad+=s,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=s)}_quickNormalizeRowHeight(t){for(let e of t)e.calcHeight();for(let e of t)e.setCellHeight()}}class l6 extends li{constructor(t){super(t),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.renderer=null}createHolderElement(){var t=document.createElement("div");return t.classList.add("tabulator-tableholder"),t.setAttribute("tabindex",0),t.setAttribute("role","rowgroup"),t}createTableElement(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t.setAttribute("role","rowgroup"),t}getElement(){return this.element}getTableElement(){return this.tableElement}getRowPosition(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)}initialize(){this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var t=this.element.scrollLeft,e=this.scrollLeft>t,r=this.element.scrollTop,s=this.scrollTop>r;this.scrollLeft!=t&&(this.scrollLeft=t,this.dispatch("scroll-horizontal",t,e),this.dispatchExternal("scrollHorizontal",t,e)),this.scrollTop!=r&&(this.scrollTop=r,this.renderer.scrollRows(r,s),this.dispatch("scroll-vertical",r,s),this.dispatchExternal("scrollVertical",r,s))})}findRow(t){return"object"!=typeof t?null!=t&&(this.rows.find(r=>r.data[this.table.options.index]==t)||!1):t instanceof hn?t:t instanceof Rm?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&this.rows.find(r=>r.getElement()===t)||!1}getRowFromDataObject(t){return this.rows.find(r=>r.data===t)||!1}getRowFromPosition(t,e){return e?this.activeRows[t]:this.rows[t]}scrollToRow(t,e,r){return this.renderer.scrollToRowPosition(t,e,r)}setData(t,e,r){return new Promise((s,o)=>{e&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(t,!0):this.reRenderInPosition(()=>{this._setDataActual(t)}):(this.table.options.autoColumns&&r&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(t),this.resetScroll(),this._setDataActual(t)),s()})}_setDataActual(t,e){this.dispatchExternal("dataProcessing",t),this._wipeElements(),Array.isArray(t)?(this.dispatch("data-processing",t),t.forEach((r,s)=>{if(r&&"object"==typeof r){var o=new hn(r,this);this.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",r)}),this.refreshActiveData(!1,!1,e),this.dispatch("data-processed",t),this.dispatchExternal("dataProcessed",t)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof t,"\nData:     ",t)}_wipeElements(){this.dispatch("rows-wipe"),this.rows.forEach(t=>{t.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}deleteRow(t,e){var r=this.rows.indexOf(t),s=this.activeRows.indexOf(t);s>-1&&this.activeRows.splice(s,1),r>-1&&this.rows.splice(r,1),this.setActiveRows(this.activeRows),this.displayRowIterator(o=>{var a=o.indexOf(t);a>-1&&o.splice(a,1)}),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",t.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(t,e,r,s){var o=this.addRowActual(t,e,r,s);return this.dispatch("row-added",o,t,e,r),o}addRows(t,e,r){var s=[];return new Promise((o,a)=>{e=this.findAddRowPos(e),Array.isArray(t)||(t=[t]),(void 0===r&&e||void 0!==r&&!e)&&t.reverse(),t.forEach((l,u)=>{var c=this.addRow(l,e,r,!0);s.push(c),this.dispatch("row-added",c,t,e,r)}),this.refreshActiveData(!1,!1,!0),this.regenerateRowNumbers(),s.length&&this._clearPlaceholder(),o(s)})}findAddRowPos(t){return void 0===t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t}addRowActual(t,e,r,s){var u,c,o=t instanceof hn?t:new hn(t||{},this),a=this.findAddRowPos(e),l=-1;return r||(c=this.chain("row-adding-position",[o,a],null,{index:r,top:a}),r=c.index,a=c.top),void 0!==r&&(r=this.findRow(r)),(r=this.chain("row-adding-index",[o,r,a],null,r))&&(l=this.rows.indexOf(r)),r&&l>-1?(u=this.activeRows.indexOf(r),this.displayRowIterator(function(d){var h=d.indexOf(r);h>-1&&d.splice(a?h:h+1,0,o)}),u>-1&&this.activeRows.splice(a?u:u+1,0,o),this.rows.splice(a?l:l+1,0,o)):a?(this.displayRowIterator(function(d){d.unshift(o)}),this.activeRows.unshift(o),this.rows.unshift(o)):(this.displayRowIterator(function(d){d.push(o)}),this.activeRows.push(o),this.rows.push(o)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",o.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),s||this.reRenderInPosition(),o}moveRow(t,e,r){this.dispatch("row-move",t,e,r),this.moveRowActual(t,e,r),this.regenerateRowNumbers(),this.dispatch("row-moved",t,e,r),this.dispatchExternal("rowMoved",t.getComponent())}moveRowActual(t,e,r){this.moveRowInArray(this.rows,t,e,r),this.moveRowInArray(this.activeRows,t,e,r),this.displayRowIterator(s=>{this.moveRowInArray(s,t,e,r)}),this.dispatch("row-moving",t,e,r)}moveRowInArray(t,e,r,s){var o,a,u;if(e!==r&&((o=t.indexOf(e))>-1&&(t.splice(o,1),a=t.indexOf(r),t.splice(a>-1?s?a+1:a:o,0,e)),t===this.getDisplayRows())){u=a>o?a:o+1;for(let c=o<a?o:a;c<=u;c++)t[c]&&this.styleRow(t[c],c)}}clearData(){this.setData([])}getRowIndex(t){return this.findRowIndex(t,this.rows)}getDisplayRowIndex(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e}nextDisplayRow(t,e){var r=this.getDisplayRowIndex(t),s=!1;return!1!==r&&r<this.displayRowsCount-1&&(s=this.getDisplayRows()[r+1]),!s||s instanceof hn&&"row"==s.type?s:this.nextDisplayRow(s,e)}prevDisplayRow(t,e){var r=this.getDisplayRowIndex(t),s=!1;return r&&(s=this.getDisplayRows()[r-1]),!e||!s||s instanceof hn&&"row"==s.type?s:this.prevDisplayRow(s,e)}findRowIndex(t,e){var r;return!!((t=this.findRow(t))&&(r=e.indexOf(t),r>-1))&&r}getData(t,e){var r=[];return this.getRows(t).forEach(function(o){"row"==o.type&&r.push(o.getData(e||"data"))}),r}getComponents(t){var e=[];return this.getRows(t).forEach(function(s){e.push(s.getComponent())}),e}getDataCount(t){return this.getRows(t).length}scrollHorizontal(t){this.scrollLeft=t,this.element.scrollLeft=t,this.dispatch("scroll-horizontal",t)}registerDataPipelineHandler(t,e){void 0!==e?(this.dataPipeline.push({handler:t,priority:e}),this.dataPipeline.sort((r,s)=>r.priority-s.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(t,e){void 0!==e?(this.displayPipeline.push({handler:t,priority:e}),this.displayPipeline.sort((r,s)=>r.priority-s.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(t,e,r){var s=this.table,o="",a=0,l=["all","dataPipeline","display","displayPipeline","end"];if("function"==typeof t)if((a=this.dataPipeline.findIndex(u=>u.handler===t))>-1)o="dataPipeline",e&&(a==this.dataPipeline.length-1?o="display":a++);else{if(!((a=this.displayPipeline.findIndex(u=>u.handler===t))>-1))return void console.error("Unable to refresh data, invalid handler provided",t);o="displayPipeline",e&&(a==this.displayPipeline.length-1?o="end":a++)}else o=t||"all",a=0;if(this.redrawBlock)(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===o&&a<this.redrawBlockRestoreConfig.index||l.indexOf(o)<l.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:t,skipStage:e,renderInPosition:r,stage:o,index:a});else{switch(this.dispatch("data-refeshing"),t||(this.activeRowsPipeline[0]=this.rows.slice(0)),o){case"all":case"dataPipeline":for(let u=a;u<this.dataPipeline.length;u++){let c=this.dataPipeline[u].handler(this.activeRowsPipeline[u].slice(0));this.activeRowsPipeline[u+1]=c||this.activeRowsPipeline[u].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":a=0,this.resetDisplayRows();case"displayPipeline":for(let u=a;u<this.displayPipeline.length;u++){let c=this.displayPipeline[u].handler((u?this.getDisplayRows(u-1):this.activeRows).slice(0),r);this.setDisplayRows(c||this.getDisplayRows(u-1).slice(0),u)}}lt.elVisible(this.element)&&(r?this.reRenderInPosition():(t||this.table.columnManager.renderer.renderColumns(),this.renderTable(),s.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),this.dispatch("data-refeshed")}}regenerateRowNumbers(){this.rowNumColumn&&this.activeRows.forEach(t=>{var e=t.getCell(this.rowNumColumn);e&&e._generateContents()})}setActiveRows(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}getNextDisplayIndex(){return this.displayRows.length}setDisplayRows(t,e){var r=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=t,r=!0):(this.displayRows.push(t),r=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),r}getDisplayRows(t){return void 0===t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]}getVisibleRows(t,e){var r=Object.assign([],this.renderer.visibleRows(!e));return t&&(r=this.chain("rows-visible",[e],r,r)),r}displayRowIterator(t){this.activeRowsPipeline.forEach(t),this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(t){var e;switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!0);break;default:e=this.chain("rows-retrieve",t,null,this.rows)||this.rows}return e}reRenderInPosition(t){this.redrawBlock?t?t():this.redrawBlockRederInPosition=!0:this.renderer.rerenderRows(t)}initializeRenderer(){var t;(t="string"==typeof this.table.options.renderVertical?{virtual:a6,basic:o6}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):console.error("Unable to find matching renderer:",table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}_showPlaceholder(){this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px")}_clearPlaceholder(){this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder)}styleRow(t,e){var r=t.getElement();e%2?(r.classList.add("tabulator-row-even"),r.classList.remove("tabulator-row-odd")):(r.classList.add("tabulator-row-odd"),r.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(t){t.normalizeHeight()})}adjustTableSize(){var t=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let e=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+e+"px)",this.element.style.height="calc(100% - "+e+"px)",this.element.style.maxHeight="calc(100% - "+e+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-e+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&t!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}}reinitialize(){this.rows.forEach(function(t){t.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1}redraw(t){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(e),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))}}class u6 extends li{constructor(t){super(t),this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this.initializeElement()}initialize(){this.initializeElement()}createElement(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t}initializeElement(){this.table.options.footerElement&&("string"==typeof this.table.options.footerElement?"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(t,e){this.activate(e),this.element.appendChild(t),this.table.rowManager.adjustTableSize()}prepend(t,e){this.activate(e),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(t){t.parentNode.removeChild(t),this.deactivate()}deactivate(t){(!this.element.firstChild||t)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(t){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),t&&this.links.push(t)}redraw(){this.links.forEach(function(t){t.footerRedraw()})}}class c6 extends li{constructor(t){super(t),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var t={};this.listeners.forEach(e=>{t[e]={handler:null,components:[]}}),this.listeners=t}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(t=>{this.pseudoTrackers[t].subscriber=this.pseudoMouseEnter.bind(this,t),this.subscribe(t+"-mouseover",this.pseudoTrackers[t].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(t,e,r){this.pseudoTrackers[t].target!==r&&(this.pseudoTrackers[t].target&&this.dispatch(t+"-mouseleave",e,r),this.pseudoMouseLeave(t,e),this.pseudoTrackers[t].target=r,this.dispatch(t+"-mouseenter",e,r))}pseudoMouseLeave(t,e){var r=Object.keys(this.pseudoTrackers),s={row:["cell"],cell:["row"]};(r=r.filter(o=>{var a=s[t];return o!==t&&(!a||a&&!a.includes(o))})).forEach(o=>{this.pseudoTrackers[o].target&&(this.dispatch(o+"-mouseleave",e,this.pseudoTrackers[o].target),this.pseudoTrackers[o].target=null)})}bindSubscriptionWatchers(){var t=Object.keys(this.listeners),e=Object.values(this.componentMap);for(let r of e)for(let s of t)this.subscriptionChange(r+"-"+s,this.subscriptionChanged.bind(this,r,s));this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(t,e,r){var s=this.listeners[e].components,o=s.indexOf(t),a=!1;r?-1===o&&(s.push(t),a=!0):this.subscribed(t+"-"+e)||o>-1&&(s.splice(o,1),a=!0),("mouseenter"===e||"mouseleave"===e)&&!this.pseudoTracking&&this.bindPseudoEvents(),a&&this.updateEventListeners()}updateEventListeners(){for(let t in this.listeners){let e=this.listeners[t];e.components.length?e.handler||(e.handler=this.track.bind(this,t),this.el.addEventListener(t,e.handler)):e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}track(t,e){var r=e.composedPath&&e.composedPath()||e.path,s=this.findTargets(r);s=this.bindComponents(t,s),this.triggerEvents(t,e,s),this.pseudoTracking&&("mouseover"==t||"mouseleave"==t)&&!Object.keys(s).length&&this.pseudoMouseLeave("none",e)}findTargets(t){var e={};let r=Object.keys(this.componentMap);for(let s of t){let o=s.classList?[...s.classList]:[];if(o.filter(u=>this.abortClasses.includes(u)).length)break;let l=o.filter(u=>r.includes(u));for(let u of l)e[this.componentMap[u]]=s}return e.group&&e.group===e.row&&delete e.row,e}bindComponents(t,e){var r=Object.keys(e).reverse(),s=this.listeners[t],o={};for(let a of r){let l,u=e[a],c=this.previousTargets[a];if(c&&c.target===u)l=c.component;else switch(a){case"row":case"group":(s.components.includes("row")||s.components.includes("cell"))&&(l=this.table.rowManager.getVisibleRows(!0).find(h=>h.getElement()===u));break;case"column":s.components.includes("column")&&(l=this.table.columnManager.findColumn(u));break;case"cell":s.components.includes("cell")&&(l=e.row.findCell(u))}l&&(e[a]=l,o[a]={target:u,component:l})}return this.previousTargets=o,e}triggerEvents(t,e,r){var s=this.listeners[t];for(let o in r)r[o]&&s.components.includes(o)&&this.dispatch(o+"-"+t,e,r[o])}clearWatchers(){for(let t in this.listeners){let e=this.listeners[t];e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}}class d6{constructor(t){this.table=t,this.bindings={}}bind(t,e,r){this.bindings[t]||(this.bindings[t]={}),this.bindings[t][e]?console.warn("Unable to bind component handler, a matching function name is already bound",t,e,hanlder):this.bindings[t][e]=r}handle(t,e,r){if(this.bindings[t]&&this.bindings[t][r])return this.bindings[t][r].bind(null,e);"then"!==r&&"string"==typeof r&&!r.startsWith("_")&&console.error("The "+t+" component does not have a "+r+" function, have you checked that you have the correct Tabulator module installed?")}}class h6 extends li{constructor(t){super(t),this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=null,this.errorElement=null,this.requestOrder=0,this.loading=!1}initialize(){var t;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((t=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=t.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((t=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=t.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}createLoaderElement(){var t=document.createElement("div");return t.classList.add("tabulator-loader"),t}createMsgElement(){var t=document.createElement("div");return t.classList.add("tabulator-loader-msg"),t.setAttribute("role","alert"),t}load(t,e,r,s,o){var a=++this.requestOrder;return this.dispatchExternal("dataLoading",t),t&&(0==t.indexOf("{")||0==t.indexOf("["))&&(t=JSON.parse(t)),this.confirm("data-loading",[t,e,r,o])?(this.loading=!0,o||this.showLoader(),e=this.chain("data-params",[t,r,o],e||{},e||{}),e=this.mapParams(e,this.table.options.dataSendParams),this.chain("data-load",[t,e,r,o],Promise.resolve([])).then(u=>{!Array.isArray(u)&&"object"==typeof u&&(u=this.mapParams(u,this.objectInvert(this.table.options.dataReceiveParams)));var c=this.chain("data-loaded",u,null,u);a==this.requestOrder?(this.hideLoader(),!1!==c&&(this.dispatchExternal("dataLoaded",c),this.table.rowManager.setData(c,s,!s))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(u=>{console.error("Data Load Error: ",u),this.dispatchExternal("dataLoadError",u),o||this.showError(),setTimeout(()=>{this.hideLoader()},3e3)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",t),t||(t=[]),this.table.rowManager.setData(t,s,!s),Promise.resolve())}mapParams(t,e){var r={};for(let s in t)r[e.hasOwnProperty(s)?e[s]:s]=t[s];return r}objectInvert(t){var e={};for(let r in t)e[t[r]]=r;return e}blockActiveLoad(){this.requestOrder++}showLoader(){if("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}showError(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}hideLoader(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}class f6{constructor(t,e,r){this.table=t,this.events={},this.optionsList=e||{},this.subscriptionNotifiers={},this.dispatch=r?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=r}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifiySubscriptionChange(t,!0)}subscribe(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e),this._notifiySubscriptionChange(t,!0)}unsubscribe(t,e){var r;if(this.events[t]){if(e){if(!((r=this.events[t].findIndex(s=>s===e))>-1))return void console.warn("Cannot remove event, no matching event found:",t,e);this.events[t].splice(r,1)}else delete this.events[t];this._notifiySubscriptionChange(t,!1)}else console.warn("Cannot remove event, no events set on:",t)}subscribed(t){return this.events[t]&&this.events[t].length}_notifiySubscriptionChange(t,e){var r=this.subscriptionNotifiers[t];r&&r.forEach(s=>{s(e)})}_dispatch(){var r,t=Array.from(arguments),e=t.shift();return this.events[e]&&this.events[e].forEach((s,o)=>{let a=s.apply(this.table,t);o||(r=a)}),r}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="ExternalEvent:"+t[0],(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._dispatch(...arguments)}}class p6{constructor(t){this.events={},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=t?this._debugChain.bind(this):this._chain.bind(this),this.confirm=t?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=t}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifiySubscriptionChange(t,!0)}subscribe(t,e,r=1e4){this.events[t]||(this.events[t]=[]),this.events[t].push({callback:e,priority:r}),this.events[t].sort((s,o)=>s.priority-o.priority),this._notifiySubscriptionChange(t,!0)}unsubscribe(t,e){var r;if(this.events[t]){if(e){if(!((r=this.events[t].findIndex(s=>s.callback===e))>-1))return void console.warn("Cannot remove event, no matching event found:",t,e);this.events[t].splice(r,1)}this._notifiySubscriptionChange(t,!1)}else console.warn("Cannot remove event, no events set on:",t)}subscribed(t){return this.events[t]&&this.events[t].length}_chain(t,e,r,s){var o=r;return Array.isArray(e)||(e=[e]),this.subscribed(t)?(this.events[t].forEach((a,l)=>{o=a.callback.apply(this,e.concat([o]))}),o):"function"==typeof s?s():s}_confirm(t,e){var r=!1;return Array.isArray(e)||(e=[e]),this.subscribed(t)&&this.events[t].forEach((s,o)=>{s.callback.apply(this,e)&&(r=!0)}),r}_notifiySubscriptionChange(t,e){var r=this.subscriptionNotifiers[t];r&&r.forEach(s=>{s(e)})}_dispatch(){var t=Array.from(arguments),e=t.shift();this.events[e]&&this.events[e].forEach(r=>{r.callback.apply(this,t)})}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._dispatch(...arguments)}_debugChain(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._chain(...arguments)}_debugConfirm(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(!0===this.debug||this.debug.includes(e))&&console.log(...t),this._confirm(...arguments)}}let kc=(()=>{class n{static register(e){n.tables.push(e)}static deregister(e){var r=n.tables.indexOf(e);r>-1&&n.tables.splice(r,1)}static lookupTable(e,r){var o,a,s=[];if("string"==typeof e){if((o=document.querySelectorAll(e)).length)for(var l=0;l<o.length;l++)(a=n.matchElement(o[l]))&&s.push(a)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof Ic?(a=n.matchElement(e))&&s.push(a):Array.isArray(e)?e.forEach(function(u){s=s.concat(n.lookupTable(u))}):r||console.warn("Table Connection Error - Invalid Selector",e);return s}static matchElement(e){return n.tables.find(function(r){return e instanceof Ic?r===e:r.element===e})}}return n.tables=[],n})();function qT(n){n.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var v6={fitData:function(n){this.table.columnManager.renderer.reinitializeColumnWidths(n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:qT,fitDataTable:qT,fitDataStretch:function(n){var t=0,e=this.table.rowManager.element.clientWidth,r=0,s=!1;n.forEach((o,a)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(s=o),o.visible&&(t+=o.getWidth())}),s?(r=e-t+s.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(s.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?s.setWidth(r):s.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(n){var o,c,t=this.table.element.clientWidth,e=0,r=0,s=0,a=[],l=[],u=0,d=0;function h(p){return"string"==typeof p?p.indexOf("%")>-1?t/100*parseInt(p):parseInt(p):p}function f(p,m,b,g){var v=[],y=0,M=0,O=0,j=s,ie=0,ue=0,me=[];function Se($){return b*($.column.definition.widthGrow||1)}function de($){return h($.width)-b*($.column.definition.widthShrink||0)}return p.forEach(function($,Te){var he=g?de($):Se($);$.column.minWidth>=he?v.push($):$.column.maxWidth&&$.column.maxWidth<he?($.width=$.column.maxWidth,m-=$.column.maxWidth,(j-=g?$.column.definition.widthShrink||1:$.column.definition.widthGrow||1)&&(b=Math.floor(m/j))):(me.push($),ue+=g?$.column.definition.widthShrink||1:$.column.definition.widthGrow||1)}),v.length?(v.forEach(function($){y+=g?$.width-$.column.minWidth:$.column.minWidth,$.width=$.column.minWidth}),ie=(M=m-y)-(O=ue?Math.floor(M/ue):M)*ue,ie+=f(me,M,O,g)):(ie=ue?m-Math.floor(m/ue)*ue:m,me.forEach(function($){$.width=g?de($):Se($)})),ie}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),n.forEach(function(p){var m,b,g;p.visible&&(m=p.definition.width,b=parseInt(p.minWidth),m?(g=h(m),e+=g>b?g:b,p.definition.widthShrink&&(l.push({column:p,width:g>b?g:b}),u+=p.definition.widthShrink)):(a.push({column:p,width:0}),s+=p.definition.widthGrow||1))}),r=t-e,o=Math.floor(r/s),d=f(a,r,o,!1),a.length&&d>0&&(a[a.length-1].width+=+d),a.forEach(function(p){r-=p.width}),(c=Math.abs(d)+r)>0&&u&&(d=f(l,c,Math.floor(c/u),!0)),l.length&&(l[l.length-1].width-=d),a.forEach(function(p){p.column.setWidth(p.width)}),l.forEach(function(p){p.column.setWidth(p.width)})}};var _6={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},w6=Object.freeze({__proto__:null,LayoutModule:(()=>{class n extends Ve{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;n.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(){n.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}return n.moduleName="layout",n.modes=v6,n})(),LocalizeModule:(()=>{class n extends Ve{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=lt.deepClone(n.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}setHeaderFilterColumnPlaceholder(e,r){this.langList.default.headerFilters.columns[e]=r,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=r)}installLang(e,r){this.langList[e]?this._setLangProp(this.langList[e],r):this.langList[e]=r}_setLangProp(e,r){for(let s in r)e[s]&&"object"==typeof e[s]?this._setLangProp(e[s],r[s]):e[s]=r[s]}setLocale(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let s=e.split("-")[0];this.langList[s]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,s),e=s):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=lt.deepClone(this.langList.default||{}),"default"!=e&&function r(s,o){for(var a in s)"object"==typeof s[a]?(o[a]||(o[a]={}),r(s[a],o[a])):o[a]=s[a]}(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,r){var s=(e=r?e+"|"+r:e).split("|");return this._getLangElement(s,this.locale)||""}_getLangElement(e,r){var s=this.lang;return e.forEach(function(o){var a;s&&(s=void 0!==(a=s[o])&&a)}),s}bind(e,r){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(r),r(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(r=>{r(this.getText(e),this.lang)})}}return n.moduleName="localize",n.langs=_6,n})(),CommsModule:(()=>{class n extends Ve{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var r=[];return kc.lookupTable(e).forEach(o=>{this.table!==o&&r.push(o)}),r}send(e,r,s,o){var a=this.getConnections(e);a.forEach(l=>{l.tableComms(this.table.element,r,s,o)}),!a.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,r,s,o){if(this.table.modExists(r))return this.table.modules[r].commsReceived(e,s,o);console.warn("Inter-table Comms Error - no such module:",r)}}return n.moduleName="comms",n})()});class KT{constructor(t,e){this.bindStaticFuctionality(t),this.bindModules(t,w6,!0),e&&this.bindModules(t,e)}bindStaticFuctionality(t){t.moduleBindings={},t.extendModule=function(e,r,s){if(t.moduleBindings[e]){var o=t.moduleBindings[e][r];if(o)if("object"==typeof s)for(let a in s)o[a]=s[a];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",r)}else console.warn("Module Error - module does not exist:",e)},t.registerModule=function(e){Array.isArray(e)||(e=[e]),e.forEach(r=>{t.registerModuleBinding(r)})},t.registerModuleBinding=function(e){t.moduleBindings[e.moduleName]=e},t.findTable=function(e){var r=kc.lookupTable(e,!0);return!(Array.isArray(r)&&!r.length)&&r},t.prototype.bindModules=function(){for(var e in this.modules={},t.moduleBindings){let r=t.moduleBindings[e];this.modules[e]=new r(this),r.prototype.moduleCore?this.modulesCore[e]=this.modules[e]:this.modulesRegular[e]=this.modules[e]}}}bindModules(t,e,r){var s=Object.values(e);r&&s.forEach(o=>{o.prototype.moduleCore=!0}),t.registerModule(s)}}let Ic=(()=>{class n{constructor(e,r){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new d6(this),this.dataLoader=!1,this.modules={},this.modulesCore={},this.modulesRegular={},this.optionsList=new GT(this,"table constructor"),this.initialized=!1,this.initializeElement(e)&&(this.initialzeCoreSystems(r),setTimeout(()=>{this._create()})),kc.register(this)}initializeElement(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initialzeCoreSystems(e){this.columnManager=new s6(this),this.rowManager=new l6(this),this.footerManager=new u6(this),this.dataLoader=new h6(this),this.bindModules(),this.options=this.optionsList.generate(n.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new f6(this,this.options,this.options.debugEventsExternal),this.eventBus=new p6(this.options.debugEventsInternal),this.interactionMonitor=new c6(this),this.dataLoader.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var s,e=this.element,r=this.options;if("TABLE"===e.tagName){this.originalElement=this.element,s=document.createElement("div");var o=e.attributes;for(var a in o)"object"==typeof o[a]&&s.setAttribute(o[a].name,o[a].value);e.parentNode.replaceChild(s,e),this.element=e=s}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);r.height&&(r.height=isNaN(r.height)?r.height:r.height+"px",e.style.height=r.height),!1!==r.minHeight&&(r.minHeight=isNaN(r.minHeight)?r.minHeight:r.minHeight+"px",e.style.minHeight=r.minHeight),!1!==r.maxHeight&&(r.maxHeight=isNaN(r.maxHeight)?r.maxHeight:r.maxHeight+"px",e.style.maxHeight=r.maxHeight)}_initializeTable(){var e=this.element,r=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser();for(let a in this.modulesCore)this.modulesCore[a].initialize();if("string"==typeof r.placeholder){var s=document.createElement("div");s.classList.add("tabulator-placeholder");var o=document.createElement("span");o.innerHTML=r.placeholder,s.appendChild(o),r.placeholder=s}e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),r.footerElement&&this.footerManager.activate(),r.autoColumns&&r.data&&this.columnManager.generateColumnsFromRowData(this.options.data);for(let a in this.modulesRegular)this.modulesRegular[a].initialize();this.columnManager.setColumns(r.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;for(kc.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach(function(r){r.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}blockRedraw(){return this.rowManager.blockRedraw()}restoreRedraw(){return this.rowManager.restoreRedraw()}setDataFromLocalFile(e){return new Promise((r,s)=>{var o=document.createElement("input");o.type="file",o.accept=e||".json,application/json",o.addEventListener("change",a=>{var c,l=o.files[0],u=new FileReader;u.readAsText(l),u.onload=d=>{try{c=JSON.parse(u.result)}catch(h){return console.warn("File Load Error - File contents is invalid JSON",h),void s(h)}this.setData(c).then(h=>{r(h)}).catch(h=>{r(h)})},u.onerror=d=>{console.warn("File Load Error - Unable to read file"),s()}}),o.click()})}setData(e,r,s){if(this.initialized)return this.dataLoader.load(e,r,s,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}clearData(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,r,s){if(this.initialized)return this.dataLoader.load(e,r,s,!0,!0);console.warn("replaceData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateData(e){var r=0;if(this.initialized)return new Promise((s,o)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(a=>{var l=this.rowManager.findRow(a[this.options.index]);l&&(r++,l.updateData(a).then(()=>{--r||s()}))}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))});console.warn("updateData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}addData(e,r,s){if(this.initialized)return new Promise((o,a)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,r,s).then(l=>{var u=[];l.forEach(function(c){u.push(c.getComponent())}),o(u)}):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))});console.warn("addData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddData(e){var r=[],s=0;if(this.initialized)return new Promise((o,a)=>{this.dataLoader.blockActiveLoad(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach(l=>{var u=this.rowManager.findRow(l[this.options.index]);s++,u?u.updateData(l).then(()=>{s--,r.push(u.getComponent()),s||o(r)}):this.rowManager.addRows(l).then(c=>{s--,r.push(c[0].getComponent()),s||o(r)})}):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))});console.warn("updateOrAddData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRow(e){var r=this.rowManager.findRow(e);return r?r.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e,r){var s=this.rowManager.getRowFromPosition(e,r);return s?s.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var r=[];Array.isArray(e)||(e=[e]);for(let s of e){let o=this.rowManager.findRow(s,!0);if(!o)return console.error("Delete Error - No matching row found:",s),Promise.reject("Delete Error - No matching row found");r.push(o)}return r.sort((s,o)=>this.rowManager.rows.indexOf(s)>this.rowManager.rows.indexOf(o)?1:-1),r.forEach(s=>{s.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,r,s){if(this.initialized)return"string"==typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,r,s).then(o=>o[0].getComponent());console.warn("addRow failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddRow(e,r){var s=this.rowManager.findRow(e);return"string"==typeof r&&(r=JSON.parse(r)),s?s.updateData(r).then(()=>s.getComponent()):this.rowManager.addRows(r).then(o=>o[0].getComponent())}updateRow(e,r){var s=this.rowManager.findRow(e);return"string"==typeof r&&(r=JSON.parse(r)),s?s.updateData(r).then(()=>Promise.resolve(s.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,r,s){var o=this.rowManager.findRow(e);return o?this.rowManager.scrollToRow(o,r,s):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,r,s){var o=this.rowManager.findRow(e);o?o.moveToRow(r,s):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e,r){var s=this.rowManager.findRow(e);return s?this.rowManager.getRowPosition(s,r):(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initialized?this.columnManager.setColumns(e):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var r=this.columnManager.findColumn(e);return r?r.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var r=this.columnManager.findColumn(e);if(!r)return console.warn("Column Show Error - No matching column found:",e),!1;r.show()}hideColumn(e){var r=this.columnManager.findColumn(e);if(!r)return console.warn("Column Hide Error - No matching column found:",e),!1;r.hide()}toggleColumn(e){var r=this.columnManager.findColumn(e);if(!r)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;r.visible?r.hide():r.show()}addColumn(e,r,s){var o=this.columnManager.findColumn(s);return this.columnManager.addColumn(e,r,o).then(a=>a.getComponent())}deleteColumn(e){var r=this.columnManager.findColumn(e);return r?r.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,r){var s=this.columnManager.findColumn(e);return s?s.updateDefinition(r):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,r,s){var o=this.columnManager.findColumn(e),a=this.columnManager.findColumn(r);o?a?this.columnManager.moveColumn(o,a,s):console.warn("Move Error - No matching column found:",a):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,r,s){return new Promise((o,a)=>{var l=this.columnManager.findColumn(e);return l?this.columnManager.scrollToColumn(l,r,s):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initialized?(this.columnManager.redraw(e),this.rowManager.redraw(e)):console.warn("redraw failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,r){this.externalEvents.subscribe(e,r)}off(e,r){this.externalEvents.unsubscribe(e,r)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}modExists(e,r){return!!this.modules[e]||(r&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var r=this.modules[e];return r||console.error("Tabulator module not installed: "+e),r}}return n.defaultOptions=n6,n})();new KT(Ic);class QT extends Ic{}new KT(QT,t6);let C6=(()=>{class n{constructor(e,r){this.credentials=e,this.http=r,this.margin=50,this.width=750-2*this.margin,this.height=400-2*this.margin,this.encoder=new TextEncoder}ngOnInit(){this.statsTable=new QT("#statsTable",{height:400,layout:"fitColumns",data:[],columns:[{title:"Game Id",field:"gameId",width:150,sorter:this.sortGameId},{title:"Attempt",field:"attempts",hozAlign:"left",formatter:this.formatIconsCount}]}),this.createSvg(),setTimeout(()=>{this.http.get("/api/wordle/get_season").subscribe(e=>{var r;this.currentSeason=dU.decode(this.encoder.encode(e.data)),this.drawSeason(),null===(r=this.statsTable)||void 0===r||r.setSort("gameId","desc")})},500)}sortGameId(e,r,s,o,a,l,u){const c=n.numberExtractor.exec(e)||["0"],d=n.numberExtractor.exec(r)||["0"];return Number.parseInt(c[0])-Number.parseInt(d[0])}formatIconsCount(e,r,s){const o=e.getData(),a=[];for(let l=1;l<=o.maxAttempts;l++)a.push(l<(o.attempts>0?o.attempts:o.maxAttempts)?"X":"O");return a.push(`(${o.attempts}/${o.maxAttempts})`),`<span class="selfStatsRow">${a.join("")}</span>`}createSvg(){this.svg=function(n){return new xn([[document.querySelector(n)]],[document.documentElement])}("figure#selfStats").append("svg").attr("width",this.width+2*this.margin).attr("height",this.height+2*this.margin).append("g"),this.svg.attr("transform","translate("+this.margin+","+this.margin+")")}fillStatsTable(e){const s=[];Object.entries(this.currentSeason.users[e].classicGames).forEach(([o,a])=>{s.push({gameId:a.game,attempts:a.attempts,maxAttempts:a.maxAttempts})}),this.statsTable.setData(s).then(function(){}).catch(function(o){console.log(o)})}drawSeason(){if(this.currentSeason){const e=`${this.credentials.getUserToken().user.id}`,r=this.currentSeason.users[e];if(!r||!this.svg)return;this.fillStatsTable(e);let s={},o=[],a=5;Object.entries(r.classicGames).forEach(([c,d])=>{let h=`${d.attempts}`;h in s||(s[h]=0,o.push(h)),s[h]++,s[h]>=a&&(a+=5)}),o.sort();const l=ym().range([0,this.width]).domain(o).padding(.2);this.svg.append("g").attr("transform","translate(0,"+this.height+")").call(function(n){return rc(3,n)}(l)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");const u=xT().domain([0,a]).range([this.height,0]);this.svg.append("g").call(function(n){return rc(4,n)}(u)),this.svg.selectAll("bars").data(Object.entries(s).map(([c,d])=>({attempts:c,counts:d}))).enter().append("rect").attr("x",c=>l(c.attempts)).attr("y",c=>u(c.counts)).attr("width",l.bandwidth()).attr("height",c=>this.height-u(c.counts)).attr("fill","#d04a35"),this.svg.append("text").attr("x",this.width/2).attr("y",0).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text("Attempt counts distribution")}}}return n.numberExtractor=/\d+/,n.\u0275fac=function(e){return new(e||n)(Q(BC),Q(ku))},n.\u0275cmp=ci({type:n,selectors:[["app-stats"]],decls:2,vars:0,consts:[["id","selfStats"],["id","statsTable"]],template:function(e,r){1&e&&(un(0,"figure",0),un(1,"figure",1))},styles:[""]}),n})();function E6(n,t){if(1&n){const e=U();tn(0,"div"),tn(1,"button",4),$o("click",function(){return function(n){Ce.lFrame.contextLView=n}(e),sr(2).login()}),Is(2,"Login w/ Discord"),nn(),nn()}}function D6(n,t){1&n&&un(0,"mat-spinner")}function T6(n,t){if(1&n&&(tn(0,"div"),tn(1,"p"),Is(2,"In order to provide data for the correct user, needs OAuthToken from Discord in order to get your user id."),nn(),tn(3,"p"),Is(4,'Click the [Login with Discord] button below to provide the "Identity" permission for yourself.'),nn(),Jn(5,E6,3,0,"div",0),Jn(6,D6,1,0,"ng-template",null,3,Wh),nn()),2&n){const e=Sr(7),r=sr();Qn(5),Cn("ngIf",r.readyToIdentify)("ngIfElse",e)}}function M6(n,t){if(1&n&&(tn(0,"p"),tn(1,"mat-toolbar",5),tn(2,"span"),Is(3),nn(),nn(),nn()),2&n){const e=sr();Qn(3),Go("Logged in as ",e.username," ")}}function x6(n,t){if(1&n&&(tn(0,"div"),Is(1),nn()),2&n){const e=t.ngIf;Qn(1),Go(" ",e,"\n")}}function S6(n,t){1&n&&(tn(0,"div"),un(1,"app-stats"),nn())}let R6=(()=>{class n{constructor(e,r,s){this.credentials=e,this.http=r,this.changeDetectorRef=s,this.isLoggedIn=!1,this.username="",this.readyToIdentify=!1,this.clientId="",this.clientIdObservable=new je,this.counter=0}ngOnInit(){var e;if(this.credentials.isIdentified())this.isLoggedIn=!0,this.username=(null===(e=this.credentials.getUserToken())||void 0===e?void 0:e.user.username)||"N/A";else{let s=new URLSearchParams(window.location.search).get("code");s?this.credentials.identifyWithDiscordCredentials(s):(this.http.get("/identify_client_id").subscribe(this._bindClientId.bind(this)),console.log(this))}}_bindClientId(e){this.counter++,this.readyToIdentify=!0,this.clientId=e.client_id,this.clientIdObservable.next(this.clientId),console.log(e.client_id," with change detection")}login(){const e=new URL("https://discord.com/api/oauth2/authorize?response_type=code&scope=identify"),r=new URLSearchParams(e.search);r.set("redirect_uri",encodeURI(`${location.protocol}//${location.host}`)),r.set("client_id",this.clientId),window.location.href=`https://${e.hostname}${e.pathname}?${r}`}test(){this.counter++}}return n.\u0275fac=function(e){return new(e||n)(Q(BC),Q(ku),Q(zs))},n.\u0275cmp=ci({type:n,selectors:[["app-login"]],decls:6,vars:6,consts:[[4,"ngIf","ngIfElse"],["elseBlock",""],[4,"ngIf"],["spinnerBlock",""],["mat-raised-button","","color","primary",3,"click"],["color","primary"]],template:function(e,r){if(1&e&&(Jn(0,T6,8,2,"div",0),Jn(1,M6,4,1,"ng-template",null,1,Wh),Jn(3,x6,2,1,"div",2),function(n,t){const e=We();let r;const s=n+20;e.firstCreatePass?(r=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[s]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,r.onDestroy)):r=e.data[s];const o=r.factory||(r.factory=Er(r.type)),a=Yi(Q);try{const l=ul(!1),u=o();ul(l),function(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,U(),s,u)}finally{Yi(a)}}(4,"async"),Jn(5,S6,2,0,"div",2)),2&e){const s=Sr(2);Cn("ngIf",!r.isLoggedIn)("ngIfElse",s),Qn(3),Cn("ngIf",B_(4,4,r.clientIdObservable)),Qn(2),Cn("ngIf",r.isLoggedIn)}},directives:[Jw,fV,VV,GV,C6],pipes:[n0],styles:[""]}),n})(),A6=(()=>{class n{constructor(){this.title="webview"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ci({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(un(0,"app-login"),un(1,"router-outlet"))},directives:[R6,Wf],styles:[""]}),n})(),L6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({}),n})(),H6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n}),n.\u0275inj=pt({imports:[[Df,Ti,L6,sD,UC,wB],Ti]}),n})(),V6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=yt({type:n,bootstrap:[A6]}),n.\u0275inj=pt({providers:[],imports:[[v0,q2,F2,YH,qV,pV,zV,H6]]}),n})();Tw=!1,YO().bootstrapModule(V6).catch(n=>console.error(n))}},De=>{De(De.s=889)}]);